(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function b0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Eb(){if(V_)return ml;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var M_;function Tb(){return M_||(M_=1,Rd.exports=Eb()),Rd.exports}var j=Tb(),Id={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function bb(){if(k_)return vt;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function ct(O,Q,tt){this.props=O,this.context=Q,this.refs=W,this.updater=tt||Z}ct.prototype.isReactComponent={},ct.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ct.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function dt(){}dt.prototype=ct.prototype;function ut(O,Q,tt){this.props=O,this.context=Q,this.refs=W,this.updater=tt||Z}var Tt=ut.prototype=new dt;Tt.constructor=ut,et(Tt,ct.prototype),Tt.isPureReactComponent=!0;var Zt=Array.isArray;function St(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,Q,tt){var ot=tt.ref;return{$$typeof:r,type:O,key:Q,ref:ot!==void 0?ot:null,props:tt}}function x(O,Q){return R(O.type,Q,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Q[tt]})}var I=/\/+/g;function fe(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(St,St):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function L(O,Q,tt,ot,pt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case b:return Ut=O._init,L(Ut(O._payload),Q,tt,ot,pt)}}if(Ut)return pt=pt(O),Ut=ot===""?"."+fe(O,0):ot,Zt(pt)?(tt="",Ut!=null&&(tt=Ut.replace(I,"$&/")+"/"),L(pt,Q,tt,"",function(Jn){return Jn})):pt!=null&&(V(pt)&&(pt=x(pt,tt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(I,"$&/")+"/")+Ut)),Q.push(pt)),1;Ut=0;var Le=ot===""?".":ot+":";if(Zt(O))for(var se=0;se<O.length;se++)ot=O[se],wt=Le+fe(ot,se),Ut+=L(ot,Q,tt,wt,pt);else if(se=F(O),typeof se=="function")for(O=se.call(O),se=0;!(ot=O.next()).done;)ot=ot.value,wt=Le+fe(ot,se++),Ut+=L(ot,Q,tt,wt,pt);else if(wt==="object"){if(typeof O.then=="function")return L(ye(O),Q,tt,ot,pt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function J(O,Q,tt){if(O==null)return O;var ot=[],pt=0;return L(O,ot,"","",function(wt){return Q.call(tt,wt,pt++)}),ot}function it(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Ct=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ot={map:J,forEach:function(O,Q,tt){J(O,function(){Q.apply(this,arguments)},tt)},count:function(O){var Q=0;return J(O,function(){Q++}),Q},toArray:function(O){return J(O,function(Q){return Q})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=A,vt.Children=Ot,vt.Component=ct,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ut,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=et({},O.props),pt=O.key;if(Q!=null)for(wt in Q.key!==void 0&&(pt=""+Q.key),Q)!S.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(ot[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)ot.children=tt;else if(1<wt){for(var Ut=Array(wt),Le=0;Le<wt;Le++)Ut[Le]=arguments[Le+2];ot.children=Ut}return R(O.type,pt,ot)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Q,tt){var ot,pt={},wt=null;if(Q!=null)for(ot in Q.key!==void 0&&(wt=""+Q.key),Q)S.call(Q,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(pt[ot]=Q[ot]);var Ut=arguments.length-2;if(Ut===1)pt.children=tt;else if(1<Ut){for(var Le=Array(Ut),se=0;se<Ut;se++)Le[se]=arguments[se+2];pt.children=Le}if(O&&O.defaultProps)for(ot in Ut=O.defaultProps,Ut)pt[ot]===void 0&&(pt[ot]=Ut[ot]);return R(O,wt,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=V,vt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:it}},vt.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},vt.startTransition=function(O){var Q=C.T,tt={};C.T=tt;try{var ot=O(),pt=C.S;pt!==null&&pt(tt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(St,Ct)}catch(wt){Ct(wt)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),C.T=Q}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(O){return C.H.use(O)},vt.useActionState=function(O,Q,tt){return C.H.useActionState(O,Q,tt)},vt.useCallback=function(O,Q){return C.H.useCallback(O,Q)},vt.useContext=function(O){return C.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},vt.useEffect=function(O,Q){return C.H.useEffect(O,Q)},vt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(O,Q,tt){return C.H.useImperativeHandle(O,Q,tt)},vt.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},vt.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},vt.useMemo=function(O,Q){return C.H.useMemo(O,Q)},vt.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},vt.useReducer=function(O,Q,tt){return C.H.useReducer(O,Q,tt)},vt.useRef=function(O){return C.H.useRef(O)},vt.useState=function(O){return C.H.useState(O)},vt.useSyncExternalStore=function(O,Q,tt){return C.H.useSyncExternalStore(O,Q,tt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.3",vt}var U_;function ym(){return U_||(U_=1,Id.exports=bb()),Id.exports}var he=ym();const Ab=b0(he);var Cd={exports:{}},gl={},Nd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Sb(){return L_||(L_=1,(function(r){function t(L,J){var it=L.length;L.push(J);t:for(;0<it;){var Ct=it-1>>>1,Ot=L[Ct];if(0<l(Ot,J))L[Ct]=J,L[it]=Ot,it=Ct;else break t}}function i(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var J=L[0],it=L.pop();if(it!==J){L[0]=it;t:for(var Ct=0,Ot=L.length,O=Ot>>>1;Ct<O;){var Q=2*(Ct+1)-1,tt=L[Q],ot=Q+1,pt=L[ot];if(0>l(tt,it))ot<Ot&&0>l(pt,tt)?(L[Ct]=pt,L[ot]=it,Ct=ot):(L[Ct]=tt,L[Q]=it,Ct=Q);else if(ot<Ot&&0>l(pt,it))L[Ct]=pt,L[ot]=it,Ct=ot;else break t}}return J}function l(L,J){var it=L.sortIndex-J.sortIndex;return it!==0?it:L.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],v=[],b=1,A=null,N=3,F=!1,Z=!1,et=!1,W=!1,ct=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Tt(L){for(var J=i(v);J!==null;){if(J.callback===null)a(v);else if(J.startTime<=L)a(v),J.sortIndex=J.expirationTime,t(y,J);else break;J=i(v)}}function Zt(L){if(et=!1,Tt(L),!Z)if(i(y)!==null)Z=!0,St||(St=!0,k());else{var J=i(v);J!==null&&ye(Zt,J.startTime-L)}}var St=!1,C=-1,S=5,R=-1;function x(){return W?!0:!(r.unstable_now()-R<S)}function V(){if(W=!1,St){var L=r.unstable_now();R=L;var J=!0;try{t:{Z=!1,et&&(et=!1,dt(C),C=-1),F=!0;var it=N;try{e:{for(Tt(L),A=i(y);A!==null&&!(A.expirationTime>L&&x());){var Ct=A.callback;if(typeof Ct=="function"){A.callback=null,N=A.priorityLevel;var Ot=Ct(A.expirationTime<=L);if(L=r.unstable_now(),typeof Ot=="function"){A.callback=Ot,Tt(L),J=!0;break e}A===i(y)&&a(y),Tt(L)}else a(y);A=i(y)}if(A!==null)J=!0;else{var O=i(v);O!==null&&ye(Zt,O.startTime-L),J=!1}}break t}finally{A=null,N=it,F=!1}J=void 0}}finally{J?k():St=!1}}}var k;if(typeof ut=="function")k=function(){ut(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=V,k=function(){fe.postMessage(null)}}else k=function(){ct(V,0)};function ye(L,J){C=ct(function(){L(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(L){switch(N){case 1:case 2:case 3:var J=3;break;default:J=N}var it=N;N=J;try{return L()}finally{N=it}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(L,J){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var it=N;N=L;try{return J()}finally{N=it}},r.unstable_scheduleCallback=function(L,J,it){var Ct=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?Ct+it:Ct):it=Ct,L){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=it+Ot,L={id:b++,callback:J,priorityLevel:L,startTime:it,expirationTime:Ot,sortIndex:-1},it>Ct?(L.sortIndex=it,t(v,L),i(y)===null&&L===i(v)&&(et?(dt(C),C=-1):et=!0,ye(Zt,it-Ct))):(L.sortIndex=Ot,t(y,L),Z||F||(Z=!0,St||(St=!0,k()))),L},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(L){var J=N;return function(){var it=N;N=J;try{return L.apply(this,arguments)}finally{N=it}}}})(Dd)),Dd}var P_;function wb(){return P_||(P_=1,Nd.exports=Sb()),Nd.exports}var Od={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Rb(){if(z_)return $e;z_=1;var r=ym();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:v,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,b)},$e.flushSync=function(y){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=b,a.d.f()}},$e.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},$e.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},$e.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,A=g(b,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:F}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:N,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$e.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},$e.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,A=g(b,v.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$e.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},$e.requestFormReset=function(y){a.d.r(y)},$e.unstable_batchedUpdates=function(y,v){return y(v)},$e.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var j_;function Ib(){if(j_)return Od.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Rb(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function Cb(){if(B_)return gl;B_=1;var r=wb(),t=ym(),i=Ib();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case W:return"StrictMode";case Zt:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ut:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}var ye=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},Ct=[],Ot=-1;function O(e){return{current:e}}function Q(e){0>Ot||(e.current=Ct[Ot],Ct[Ot]=null,Ot--)}function tt(e,n){Ot++,Ct[Ot]=e.current,e.current=n}var ot=O(null),pt=O(null),wt=O(null),Ut=O(null);function Le(e,n){switch(tt(wt,n),tt(pt,e),tt(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ot),tt(ot,e)}function se(){Q(ot),Q(pt),Q(wt)}function Jn(e){e.memoizedState!==null&&tt(Ut,e);var n=ot.current,s=i_(n,e.type);n!==s&&(tt(pt,e),tt(ot,s))}function vi(e){pt.current===e&&(Q(ot),Q(pt)),Ut.current===e&&(Q(Ut),cl._currentValue=it)}var ls,Js;function jn(e){if(ls===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ls=n&&n[1]||"",Js=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+e+Js}var us=!1;function Ws(e,n){if(!e||us)return"";us=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){B=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var w=p.split(`
`),z=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===z.length)for(o=w.length-1,h=z.length-1;1<=o&&0<=h&&w[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==z[h]){var G=`
`+w[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{us=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?jn(s):""}function bh(e,n){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Ws(e.type,!1);case 11:return Ws(e.type.render,!1);case 1:return Ws(e.type,!0);case 31:return jn("Activity");default:return""}}function Kl(e){try{var n="",s=null;do n+=bh(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ta=Object.prototype.hasOwnProperty,cs=r.unstable_scheduleCallback,ea=r.unstable_cancelCallback,Ah=r.unstable_shouldYield,fo=r.unstable_requestPaint,Pe=r.unstable_now,Yl=r.unstable_getCurrentPriorityLevel,Ie=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,Xl=r.unstable_LowPriority,mo=r.unstable_IdlePriority,Sh=r.log,hs=r.unstable_setDisableYieldValue,tr=null,Ye=null;function In(e){if(typeof Sh=="function"&&hs(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(tr,e)}catch{}}var en=Math.clz32?Math.clz32:$l,wh=Math.log,go=Math.LN2;function $l(e){return e>>>=0,e===0?32:31-(wh(e)/go|0)|0}var fs=256,Wn=262144,er=4194304;function Bn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Bn(o):(p&=E,p!==0?h=Bn(p):s||(s=E&~e,s!==0&&(h=Bn(s))))):(E=o&~f,E!==0?h=Bn(E):p!==0?h=Bn(p):s||(s=o&~e,s!==0&&(h=Bn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function nr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function na(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var e=er;return er<<=1,(er&62914560)===0&&(er=4194304),e}function Ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ir(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-en(s),Y=1<<G;E[G]=0,w[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&yo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function yo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-en(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function rr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-en(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function sr(e,n){var s=n&-n;return s=(s&42)!==0?1:_o(s),(s&(e.suspendedLanes|n))!==0?0:s}function _o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bi(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Zl(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var ti=Math.random().toString(36).slice(2),oe="__reactFiber$"+ti,je="__reactProps$"+ti,ei="__reactContainer$"+ti,ar="__reactEvents$"+ti,ni="__reactListeners$"+ti,Jl="__reactHandles$"+ti,Eo="__reactResources$"+ti,Ai="__reactMarker$"+ti;function ds(e){delete e[oe],delete e[je],delete e[ar],delete e[ni],delete e[Jl]}function Si(e){var n=e[oe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ei]||s[oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=c_(e);e!==null;){if(s=e[oe])return s;e=c_(e)}return n}e=s,s=e.parentNode}return null}function wi(e){if(e=e[oe]||e[ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ms(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function qn(e){var n=e[Eo];return n||(n=e[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(e){e[Ai]=!0}var ia=new Set,or={};function nn(e,n){ii(e,n),ii(e+"Capture",n)}function ii(e,n){for(or[e]=n,e=0;e<n.length;e++)ia.add(n[e])}var Rh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},bo={};function Wl(e){return ta.call(bo,e)?!0:ta.call(To,e)?!1:Rh.test(e)?bo[e]=!0:(To[e]=!0,!1)}function lr(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function ur(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Nn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ih(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ra(e){if(!e._valueTracker){var n=tu(e)?"checked":"value";e._valueTracker=Ih(e,n,""+e[n])}}function Ao(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=tu(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ri=/[\n"\\]/g;function le(e){return e.replace(Ri,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cr(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?aa(e,p,rn(n)):s!=null?aa(e,p,rn(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+rn(E):e.removeAttribute("name")}function gs(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ra(e);return}s=s!=null?""+rn(s):"",n=n!=null?""+rn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ra(e)}function aa(e,n,s){n==="number"&&sa(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function zt(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+rn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ps(e,n,s){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+rn(s):""}function hr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=rn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),ra(e)}function Dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Ch.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function eu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(e){return Dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Oe(){}var oa=null;function la(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,yn=null;function nu(e){var n=wi(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(cr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+le(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));cr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Ao(o)}break t;case"textarea":ps(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&zt(e,!!s.multiple,n,!1)}}}var Ro=!1;function iu(e,n,s){if(Ro)return e(n,s);Ro=!0;try{var o=e(n);return o}finally{if(Ro=!1,(Ii!==null||yn!==null)&&(Wu(),Ii&&(n=Ii,e=yn,yn=Ii=null,nu(n),e)))for(n=0;n<e.length;n++)nu(e[n])}}function ln(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=!1;if(Hn)try{var si={};Object.defineProperty(si,"passive",{get:function(){Io=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Io=!1}var _n=null,ua=null,ai=null;function fr(){if(ai)return ai;var e,n=ua,s=n.length,o,h="value"in _n?_n.value:_n.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return ai=h.slice(e,1<o?1-o:void 0)}function ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function dr(){return!0}function te(){return!1}function Xe(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?dr:te,this.isPropagationStopped=te,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Xe(Ci),mr=A({},Ci,{view:0,detail:0}),ru=Xe(mr),gr,ca,sn,vs=A({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&e.type==="mousemove"?(gr=e.screenX-sn.screenX,ca=e.screenY-sn.screenY):ca=gr=0,sn=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),su=Xe(vs),Es=A({},vs,{dataTransfer:0}),au=Xe(Es),Co=A({},mr,{relatedTarget:0}),pr=Xe(Co),ou=A({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Xe(ou),Oh=A({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lu=Xe(Oh),Ts=A({},Ci,{data:0}),No=Xe(Ts),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Oo[e])?!!n[e]:!1}function yr(){return cu}var hu=A({},mr,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Do[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=Xe(hu),Ni=A({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Xe(Ni),du=A({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),mu=Xe(du),gu=A({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),fa=Xe(gu),an=A({},vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pu=Xe(an),yu=A({},Ci,{newState:0,oldState:0}),_r=Xe(yu),u=[9,13,27,32],m=Hn&&"CompositionEvent"in window,_=null;Hn&&"documentMode"in document&&(_=document.documentMode);var T=Hn&&"TextEvent"in window&&!_,U=Hn&&(!m||_&&8<_&&11>=_),H=" ",nt=!1;function Ht(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rt=!1;function xe(e,n){switch(e){case"compositionend":return _e(n);case"keypress":return n.which!==32?null:(nt=!0,H);case"textInput":return e=n.data,e===H&&nt?null:e;default:return null}}function Ve(e,n){if(Rt)return e==="compositionend"||!m&&Ht(e,n)?(e=fr(),ai=ua=_n=null,Rt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return U&&n.locale!=="ko"?null:n.data;default:return null}}var vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vr[e.type]:n==="textarea"}function bs(e,n,s,o){Ii?yn?yn.push(o):yn=[o]:Ii=o,n=ac(n,"onChange"),0<n.length&&(s=new _s("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Di=null,Vo=null;function KT(e){$y(e,0)}function _u(e){var n=ms(e);if(Ao(n))return e}function gg(e,n){if(e==="change")return n}var pg=!1;if(Hn){var xh;if(Hn){var Vh="oninput"in document;if(!Vh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Vh=typeof yg.oninput=="function"}xh=Vh}else xh=!1;pg=xh&&(!document.documentMode||9<document.documentMode)}function _g(){Di&&(Di.detachEvent("onpropertychange",vg),Vo=Di=null)}function vg(e){if(e.propertyName==="value"&&_u(Vo)){var n=[];bs(n,Vo,e,la(e)),iu(KT,n)}}function YT(e,n,s){e==="focusin"?(_g(),Di=n,Vo=s,Di.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Vo)}function $T(e,n){if(e==="click")return _u(n)}function ZT(e,n){if(e==="input"||e==="change")return _u(n)}function JT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:JT;function Mo(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ta.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,n){var s=Eg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Eg(s)}}function bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=sa(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=sa(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=Hn&&"documentMode"in document&&11>=document.documentMode,da=null,kh=null,ko=null,Uh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||da==null||da!==sa(o)||(o=da,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Mo(ko,o)||(ko=o,o=ac(kh,"onSelect"),0<o.length&&(n=new _s("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=da)))}function As(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Lh={},wg={};Hn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Ss(e){if(Lh[e])return Lh[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wg)return Lh[e]=n[s];return e}var Rg=Ss("animationend"),Ig=Ss("animationiteration"),Cg=Ss("animationstart"),t1=Ss("transitionrun"),e1=Ss("transitionstart"),n1=Ss("transitioncancel"),Ng=Ss("transitionend"),Dg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Fn(e,n){Dg.set(e,n),nn(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ga=0,zh=0;function Eu(){for(var e=ga,n=zh=ga=0;n<e;){var s=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Og(s,h,f)}}function Tu(e,n,s,o){On[ga++]=e,On[ga++]=n,On[ga++]=s,On[ga++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,s,o){return Tu(e,n,s,o),bu(e)}function ws(e,n){return Tu(e,null,null,n),bu(e)}function Og(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-en(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<il)throw il=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function i1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,o){return new i1(e,n,s,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function xg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=lb(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=En(31,s,n,h),e.elementType=R,e.lanes=f,e;case et:return Rs(s.children,h,f,n);case W:p=8,h|=24;break;case ct:return e=En(12,s,n,h|2),e.elementType=ct,e.lanes=f,e;case Zt:return e=En(13,s,n,h),e.elementType=Zt,e.lanes=f,e;case St:return e=En(19,s,n,h),e.elementType=St,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:p=10;break t;case dt:p=9;break t;case Tt:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rs(e,n,s,o){return e=En(7,e,o,n),e.lanes=s,e}function qh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function Vg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Kl(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:Kl(n)}}var ya=[],_a=0,Su=null,Uo=0,Vn=[],Mn=0,Er=null,oi=1,li="";function xi(e,n){ya[_a++]=Uo,ya[_a++]=Su,Su=e,Uo=n}function kg(e,n,s){Vn[Mn++]=oi,Vn[Mn++]=li,Vn[Mn++]=Er,Er=e;var o=oi;e=li;var h=32-en(o)-1;o&=~(1<<h),s+=1;var f=32-en(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,oi=1<<32-en(n)+h|s<<h|o,li=f+e}else oi=1<<f|s<<h|o,li=e}function Fh(e){e.return!==null&&(xi(e,1),kg(e,1,0))}function Gh(e){for(;e===Su;)Su=ya[--_a],ya[_a]=null,Uo=ya[--_a],ya[_a]=null;for(;e===Er;)Er=Vn[--Mn],Vn[Mn]=null,li=Vn[--Mn],Vn[Mn]=null,oi=Vn[--Mn],Vn[Mn]=null}function Ug(e,n){Vn[Mn++]=oi,Vn[Mn++]=li,Vn[Mn++]=Er,oi=n.id,li=n.overflow,Er=e}var Be=null,ee=null,Lt=!1,Tr=null,kn=!1,Qh=Error(a(519));function br(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(xn(n,e)),Qh}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[oe]=e,n[je]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<sl.length;s++)Dt(sl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),gs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),hr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Oe),n=!0):n=!1,n||br(e,!0)}function Pg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Be=Be.return}}function va(e){if(e!==Be)return!1;if(!Lt)return Pg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&ee&&br(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=u_(e)}else n===27?(n=ee,Ur(e.type)?(e=pd,pd=null,ee=e):ee=n):ee=Be?Ln(e.stateNode.nextSibling):null;return!0}function Is(){ee=Be=null,Lt=!1}function Kh(){var e=Tr;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Tr=null),e}function Lo(e){Tr===null?Tr=[e]:Tr.push(e)}var Yh=O(null),Cs=null,Vi=null;function Ar(e,n,s){tt(Yh,n._currentValue),n._currentValue=s}function Mi(e){e._currentValue=Yh.current,Q(Yh)}function Xh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Xh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;vn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&$h(n,e,s,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){Cs=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return zg(Cs,e)}function Ru(e,n){return Cs===null&&Ns(e),zg(e,n)}function zg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var r1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},s1=r.unstable_scheduleCallback,a1=r.unstable_NormalPriority,ve={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new r1,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&s1(a1,function(){e.controller.abort()})}var zo=null,Jh=0,Ta=0,ba=null;function o1(e,n){if(zo===null){var s=zo=[];Jh=0,Ta=nd(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Jh++,n.then(jg,jg),n}function jg(){if(--Jh===0&&zo!==null){ba!==null&&(ba.status="fulfilled");var e=zo;zo=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function l1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=L.S;L.S=function(e,n){Sy=Pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(e,n),Bg!==null&&Bg(e,n)};var Ds=O(null);function Wh(){var e=Ds.current;return e!==null?e:$t.pooledCache}function Iu(e,n){n===null?tt(Ds,Ds.current):tt(Ds,n.pool)}function qg(){var e=Wh();return e===null?null:{parent:ve._currentValue,pool:e}}var Aa=Error(a(460)),tf=Error(a(474)),Cu=Error(a(542)),Nu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Oe,Oe),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e;default:if(typeof n.status=="string")n.then(Oe,Oe);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qg(e),e}throw xs=n,Aa}}function Os(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xs=s,Aa):s}}var xs=null;function Gg(){if(xs===null)throw Error(a(459));var e=xs;return xs=null,e}function Qg(e){if(e===Aa||e===Cu)throw Error(a(483))}var Sa=null,jo=0;function Du(e){var n=jo;return jo+=1,Sa===null&&(Sa=[]),Fg(Sa,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kg(e){function n(M,D){if(e){var P=M.deletions;P===null?(M.deletions=[D],M.flags|=16):P.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Oi(M,D),M.index=0,M.sibling=null,M}function f(M,D,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<D?(M.flags|=67108866,D):P):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,P,K){return D===null||D.tag!==6?(D=qh(P,M.mode,K),D.return=M,D):(D=h(D,P),D.return=M,D)}function w(M,D,P,K){var ht=P.type;return ht===et?G(M,D,P.props.children,K,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Os(ht)===D.type)?(D=h(D,P.props),Bo(D,P),D.return=M,D):(D=Au(P.type,P.key,P.props,null,M.mode,K),Bo(D,P),D.return=M,D)}function z(M,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Hh(P,M.mode,K),D.return=M,D):(D=h(D,P.children||[]),D.return=M,D)}function G(M,D,P,K,ht){return D===null||D.tag!==7?(D=Rs(P,M.mode,K,ht),D.return=M,D):(D=h(D,P),D.return=M,D)}function Y(M,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,M.mode,P),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Au(D.type,D.key,D.props,null,M.mode,P),Bo(P,D),P.return=M,P;case Z:return D=Hh(D,M.mode,P),D.return=M,D;case S:return D=Os(D),Y(M,D,P)}if(ye(D)||k(D))return D=Rs(D,M.mode,P,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Du(D),P);if(D.$$typeof===ut)return Y(M,Ru(M,D),P);Ou(M,D)}return null}function B(M,D,P,K){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(M,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ht?w(M,D,P,K):null;case Z:return P.key===ht?z(M,D,P,K):null;case S:return P=Os(P),B(M,D,P,K)}if(ye(P)||k(P))return ht!==null?null:G(M,D,P,K,null);if(typeof P.then=="function")return B(M,D,Du(P),K);if(P.$$typeof===ut)return B(M,D,Ru(M,P),K);Ou(M,P)}return null}function q(M,D,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(P)||null,E(D,M,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return M=M.get(K.key===null?P:K.key)||null,w(D,M,K,ht);case Z:return M=M.get(K.key===null?P:K.key)||null,z(D,M,K,ht);case S:return K=Os(K),q(M,D,P,K,ht)}if(ye(K)||k(K))return M=M.get(P)||null,G(D,M,K,ht,null);if(typeof K.then=="function")return q(M,D,P,Du(K),ht);if(K.$$typeof===ut)return q(M,D,P,Ru(D,K),ht);Ou(D,K)}return null}function at(M,D,P,K){for(var ht=null,jt=null,lt=D,At=D=0,Vt=null;lt!==null&&At<P.length;At++){lt.index>At?(Vt=lt,lt=null):Vt=lt.sibling;var Bt=B(M,lt,P[At],K);if(Bt===null){lt===null&&(lt=Vt);break}e&&lt&&Bt.alternate===null&&n(M,lt),D=f(Bt,D,At),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,lt=Vt}if(At===P.length)return s(M,lt),Lt&&xi(M,At),ht;if(lt===null){for(;At<P.length;At++)lt=Y(M,P[At],K),lt!==null&&(D=f(lt,D,At),jt===null?ht=lt:jt.sibling=lt,jt=lt);return Lt&&xi(M,At),ht}for(lt=o(lt);At<P.length;At++)Vt=q(lt,M,At,P[At],K),Vt!==null&&(e&&Vt.alternate!==null&&lt.delete(Vt.key===null?At:Vt.key),D=f(Vt,D,At),jt===null?ht=Vt:jt.sibling=Vt,jt=Vt);return e&&lt.forEach(function(Br){return n(M,Br)}),Lt&&xi(M,At),ht}function mt(M,D,P,K){if(P==null)throw Error(a(151));for(var ht=null,jt=null,lt=D,At=D=0,Vt=null,Bt=P.next();lt!==null&&!Bt.done;At++,Bt=P.next()){lt.index>At?(Vt=lt,lt=null):Vt=lt.sibling;var Br=B(M,lt,Bt.value,K);if(Br===null){lt===null&&(lt=Vt);break}e&&lt&&Br.alternate===null&&n(M,lt),D=f(Br,D,At),jt===null?ht=Br:jt.sibling=Br,jt=Br,lt=Vt}if(Bt.done)return s(M,lt),Lt&&xi(M,At),ht;if(lt===null){for(;!Bt.done;At++,Bt=P.next())Bt=Y(M,Bt.value,K),Bt!==null&&(D=f(Bt,D,At),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Lt&&xi(M,At),ht}for(lt=o(lt);!Bt.done;At++,Bt=P.next())Bt=q(lt,M,At,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&lt.delete(Bt.key===null?At:Bt.key),D=f(Bt,D,At),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&lt.forEach(function(vb){return n(M,vb)}),Lt&&xi(M,At),ht}function Xt(M,D,P,K){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===et){if(D.tag===7){s(M,D.sibling),K=h(D,P.props.children),K.return=M,M=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Os(ht)===D.type){s(M,D.sibling),K=h(D,P.props),Bo(K,P),K.return=M,M=K;break t}s(M,D);break}else n(M,D);D=D.sibling}P.type===et?(K=Rs(P.props.children,M.mode,K,P.key),K.return=M,M=K):(K=Au(P.type,P.key,P.props,null,M.mode,K),Bo(K,P),K.return=M,M=K)}return p(M);case Z:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(M,D.sibling),K=h(D,P.children||[]),K.return=M,M=K;break t}else{s(M,D);break}else n(M,D);D=D.sibling}K=Hh(P,M.mode,K),K.return=M,M=K}return p(M);case S:return P=Os(P),Xt(M,D,P,K)}if(ye(P))return at(M,D,P,K);if(k(P)){if(ht=k(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),mt(M,D,P,K)}if(typeof P.then=="function")return Xt(M,D,Du(P),K);if(P.$$typeof===ut)return Xt(M,D,Ru(M,P),K);Ou(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(M,D.sibling),K=h(D,P),K.return=M,M=K):(s(M,D),K=qh(P,M.mode,K),K.return=M,M=K),p(M)):s(M,D)}return function(M,D,P,K){try{jo=0;var ht=Xt(M,D,P,K);return Sa=null,ht}catch(lt){if(lt===Aa||lt===Cu)throw lt;var jt=En(29,lt,null,M.mode);return jt.lanes=K,jt.return=M,jt}finally{}}}var Vs=Kg(!0),Yg=Kg(!1),Sr=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),Og(e,null,s),n}return Tu(e,o,n,s),bu(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,rr(e,s)}}function rf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var sf=!1;function Ho(){if(sf){var e=ba;if(e!==null)throw e}}function Fo(e,n,s,o){sf=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,z=w.next;w.next=null,p===null?f=z:p.next=z,p=w;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=w))}if(f!==null){var Y=h.baseState;p=0,G=z=w=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(xt&B)===B:(o&B)===B){B!==0&&B===Ta&&(sf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;B=n;var Xt=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call(Xt,Y,B);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,B=typeof at=="function"?at.call(Xt,Y,B):at,B==null)break t;Y=A({},Y,B);break t;case 2:Sr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,w=Y):G=G.next=q,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(w=Y),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Or|=p,e.lanes=p,e.memoizedState=Y}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xg(s[e],n)}var wa=O(null),xu=O(0);function Zg(e,n){e=Hi,tt(xu,e),tt(wa,n),Hi=e|n.baseLanes}function af(){tt(xu,Hi),tt(wa,wa.current)}function of(){Hi=xu.current,Q(wa),Q(xu)}var Tn=O(null),Un=null;function Ir(e){var n=e.alternate;tt(me,me.current&1),tt(Tn,e),Un===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Un=e)}function lf(e){tt(me,me.current),tt(Tn,e),Un===null&&(Un=e)}function Jg(e){e.tag===22?(tt(me,me.current),tt(Tn,e),Un===null&&(Un=e)):Cr()}function Cr(){tt(me,me.current),tt(Tn,Tn.current)}function bn(e){Q(Tn),Un===e&&(Un=null),Q(me)}var me=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||md(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,bt=null,Kt=null,Ee=null,Mu=!1,Ra=!1,Ms=!1,ku=0,Go=0,Ia=null,u1=0;function ue(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function cf(e,n,s,o,h,f){return ki=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?kp:wf,Ms=!1,f=s(o,h),Ms=!1,Ra&&(f=tp(n,s,o,h)),Wg(e),f}function Wg(e){L.H=Yo;var n=Kt!==null&&Kt.next!==null;if(ki=0,Ee=Kt=bt=null,Mu=!1,Go=0,Ia=null,n)throw Error(a(300));e===null||Te||(e=e.dependencies,e!==null&&wu(e)&&(Te=!0))}function tp(e,n,s,o){bt=e;var h=0;do{if(Ra&&(Ia=null),Go=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Ee=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Up,f=n(s,o)}while(Ra);return f}function c1(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function hf(){var e=ku!==0;return ku=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}ki=0,Ee=Kt=bt=null,Ra=!1,Go=ku=0,Ia=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?bt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ge(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Ee===null?bt.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?bt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Go;return Go+=1,Ia===null&&(Ia=[]),e=Fg(Ia,e,n),n=bt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?kp:wf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===ut)return qe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Ui(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=ge();return gf(n,Kt,e)}function gf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,w=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(ki&Y)===Y){var B=z.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ta&&(G=!0);else if((ki&B)===B){z=z.next,B===Ta&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=Y,p=f):w=w.next=Y,bt.lanes|=B,Or|=B;Y=z.action,Ms&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=B,p=f):w=w.next=B,bt.lanes|=Y,Or|=Y;z=z.next}while(z!==null&&z!==n);if(w===null?p=f:w.next=E,!vn(f,e.memoizedState)&&(Te=!0,G&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);vn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ep(e,n,s){var o=bt,h=ge(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!vn((Kt||h).memoizedState,s);if(p&&(h.memoizedState=s,Te=!0),h=h.queue,vf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},ip.bind(null,o,h,s,n),null),$t===null)throw Error(a(349));f||(ki&127)!==0||np(o,n,s)}return s}function np(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Uu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ip(e,n,s,o){n.value=s,n.getSnapshot=o,sp(n)&&ap(e)}function rp(e,n,s){return s(function(){sp(n)&&ap(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function ap(e){var n=ws(e,2);n!==null&&mn(n,e,2)}function yf(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Ms){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function op(e,n,s,o){return e.baseState=s,gf(e,Kt,typeof o=="function"?o:Ui)}function h1(e,n,s,o,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,lp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=L.T,p={};L.T=p;try{var E=s(h,o),w=L.S;w!==null&&w(p,E),up(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),L.T=f}}else try{f=s(h,o),up(e,n,f)}catch(z){_f(e,n,z)}}function up(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cp(e,n,o)},function(o){return _f(e,n,o)}):cp(e,n,s)}function cp(e,n,s){n.status="fulfilled",n.value=s,hp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,lp(e,s)))}function _f(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function dp(e,n){if(Lt){var s=$t.formState;if(s!==null){t:{var o=bt;if(Lt){if(ee){e:{for(var h=ee,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Ln(h.nextSibling),o=h.data==="F!";break t}}br(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},s.queue=o,s=xp.bind(null,bt,o),o.dispatch=s,o=yf(!1),f=Sf.bind(null,bt,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=h1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function mp(e){var n=ge();return gp(n,Kt,e)}function gp(e,n,s){if(n=gf(e,n,fp)[0],e=Pu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(p){throw p===Aa?Cu:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ca(9,{destroy:void 0},f1.bind(null,h,s),null)),[o,f,e]}function f1(e,n){e.action=n}function pp(e){var n=ge(),s=Kt;if(s!==null)return gp(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ca(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Uu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function yp(){return ge().memoizedState}function zu(e,n,s,o){var h=on();bt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,o===void 0?null:o)}function ju(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&uf(o,Kt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,o):(bt.flags|=e,h.memoizedState=Ca(1|n,f,s,o))}function _p(e,n){zu(8390656,8,e,n)}function vf(e,n){ju(2048,8,e,n)}function d1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Uu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function vp(e){var n=ge().memoizedState;return d1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return ju(4,2,e,n)}function Tp(e,n){return ju(4,4,e,n)}function bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,ju(4,4,bp.bind(null,n,e),s)}function Ef(){}function Sp(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function wp(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Ms){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o}function Tf(e,n,s){return s===void 0||(ki&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),bt.lanes|=e,Or|=e,s)}function Rp(e,n,s,o){return vn(s,n)?s:wa.current!==null?(e=Tf(e,s,o),vn(e,n)||(Te=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(xt&261930)===0?(Te=!0,e.memoizedState=s):(e=Ry(),bt.lanes|=e,Or|=e,n)}function Ip(e,n,s,o,h){var f=J.p;J.p=f!==0&&8>f?f:8;var p=L.T,E={};L.T=E,Sf(e,!1,n,s);try{var w=h(),z=L.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=l1(w,o);Ko(e,n,G,wn(e))}else Ko(e,n,o,wn(e))}catch(Y){Ko(e,n,{then:function(){},status:"rejected",reason:Y},wn())}finally{J.p=f,p!==null&&E.types!==null&&(p.types=E.types),L.T=p}}function m1(){}function bf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Cp(e).queue;Ip(e,h,n,it,s===null?m1:function(){return Np(e),s(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:it},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},wn())}function Af(){return qe(cl)}function Dp(){return ge().memoizedState}function Op(){return ge().memoizedState}function g1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=wr(s);var o=Rr(n,e,s);o!==null&&(mn(o,n,s),qo(o,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function p1(e,n,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Vp(n,s):(s=jh(e,n,s,o),s!==null&&(mn(s,e,o),Mp(s,n,o)))}function xp(e,n,s){var o=wn();Ko(e,n,s,o)}function Ko(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,vn(E,p))return Tu(e,n,h,0),$t===null&&Eu(),!1}catch{}finally{}if(s=jh(e,n,h,o),s!==null)return mn(s,e,o),Mp(s,n,o),!0}return!1}function Sf(e,n,s,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=jh(e,s,o,2),n!==null&&mn(n,e,2)}function Bu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Vp(e,n){Ra=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,rr(e,s)}}var Yo={readContext:qe,use:Lu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yo.useEffectEvent=ue;var kp={readContext:qe,use:Lu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:_p,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,zu(4194308,4,bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(Ms){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(Ms){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=p1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=xp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=on();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=Ip.bind(null,bt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=on();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(xt&127)!==0||np(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_p(rp.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},ip.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=$t.identifierPrefix;if(Lt){var s=li,o=oi;s=(o&~(1<<32-en(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=u1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:dp,useActionState:dp,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return on().memoizedState=g1.bind(null,bt)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:qe,use:Lu,useCallback:Sp,useContext:qe,useEffect:vf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Pu,useRef:yp,useState:function(){return Pu(Ui)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=ge();return Rp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Pu(Ui)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:ep,useId:Dp,useHostTransitionStatus:Af,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=ge();return op(s,Kt,e,n)},useMemoCache:mf,useCacheRefresh:Op};wf.useEffectEvent=vp;var Up={readContext:qe,use:Lu,useCallback:Sp,useContext:qe,useEffect:vf,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:pf,useRef:yp,useState:function(){return pf(Ui)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=ge();return Kt===null?Tf(s,e,n):Rp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=pf(Ui)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:ep,useId:Dp,useHostTransitionStatus:Af,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=ge();return Kt!==null?op(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Op};Up.useEffectEvent=vp;function Rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=wn(),h=wr(o);h.payload=n,s!=null&&(h.callback=s),n=Rr(e,h,o),n!==null&&(mn(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=wn(),h=wr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Rr(e,h,o),n!==null&&(mn(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),o=wr(s);o.tag=2,n!=null&&(o.callback=n),n=Rr(e,o,s),n!==null&&(mn(n,e,s),qo(n,e,s))}};function Lp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function ks(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function zp(e){vu(e)}function jp(e){console.error(e)}function Bp(e){vu(e)}function qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=wr(s),s.tag=3,s.payload={element:null},s.callback=function(){qu(e,n)},s}function Hp(e){return e=wr(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function y1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?tc():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return s.flags|=65536,o===Nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Wf(e,o,h)),!1}throw Error(a(435,s.tag))}return Wf(e,o,h),tc(),!1}if(Lt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),Lo(xn(e,s)))):(o!==Qh&&(n=Error(a(423),{cause:o}),Lo(xn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,s),h=Cf(e.stateNode,o,h),rf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=xn(f,s),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),n===null)return!0;o=xn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,o,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Fp(h,e,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Te=!1;function He(e,n,s,o){n.child=e===null?Yg(n,null,s,o):Vs(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Ns(n),o=cf(e,n,s,p,f,h),E=hf(),e!==null&&!Te?(ff(e,n,h),Li(e,n,h)):(Lt&&E&&Fh(n),n.flags|=1,He(e,n,o,h),n.child)}function Qp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kp(e,n,f,o,h)):(e=Au(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(p,o)&&e.ref===n.ref)return Li(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(Te=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,Li(e,n,h)}return Df(e,n,s,o,h)}function Yp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Xp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):af(),Jg(n);else return o=n.lanes=536870912,Xp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Iu(n,f.cachePool),Zg(n,f),Cr(),n.memoizedState=null):(e!==null&&Iu(n,null),af(),Cr());return He(e,n,h,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xp(e,n,s,o,h){var f=Wh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Iu(n,null),af(),Jg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Hu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,s){return Vs(n,e.child,null,s),e=Hu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function _1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Hu(n,o),n.lanes=536870912,Xo(null,e);if(lf(n),(e=ee)?(e=l_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw br(n);return n.lanes=536870912,null}return Hu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Te||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Te||h){if(o=$t,o!==null&&(p=sr(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,ws(e,p),mn(o,e,p),Nf;tc(),n=$p(e,n,s)}else e=f.treeContext,ee=Ln(p.nextSibling),Be=n,Lt=!0,Tr=null,kn=!1,e!==null&&Ug(n,e),n=Hu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,o,h){return Ns(n),s=cf(e,n,s,o,void 0,h),o=hf(),e!==null&&!Te?(ff(e,n,h),Li(e,n,h)):(Lt&&o&&Fh(n),n.flags|=1,He(e,n,s,h),n.child)}function Zp(e,n,s,o,h,f){return Ns(n),n.updateQueue=null,s=tp(n,o,s,h),Wg(e),o=hf(),e!==null&&!Te?(ff(e,n,f),Li(e,n,f)):(Lt&&o&&Fh(n),n.flags|=1,He(e,n,s,f),n.child)}function Jp(e,n,s,o,h){if(Ns(n),n.stateNode===null){var f=pa,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):pa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=ks(s,E);f.props=w;var z=f.context,G=s.contextType;p=pa,typeof G=="object"&&G!==null&&(p=qe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Pp(n,f,o,p),Sr=!1;var B=n.memoizedState;f.state=B,Fo(n,o,f,h),Ho(),z=n.memoizedState,E||B!==z||Sr?(typeof Y=="function"&&(Rf(n,s,Y,o),z=n.memoizedState),(w=Sr||Lp(n,s,w,o,B,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,G=ks(s,p),f.props=G,Y=n.pendingProps,B=f.context,z=s.contextType,w=pa,typeof z=="object"&&z!==null&&(w=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==w)&&Pp(n,f,o,w),Sr=!1,B=n.memoizedState,f.state=B,Fo(n,o,f,h),Ho();var q=n.memoizedState;p!==Y||B!==q||Sr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,o),q=n.memoizedState),(G=Sr||Lp(n,s,G,o,B,q,w)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Li(e,n,h),e}function Wp(e,n,s,o){return Is(),n.flags|=256,He(e,n,s,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:qg()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Sn),e}function ty(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Ir(n):Cr(),(e=ee)?(e=l_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw br(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Cr(),h=n.mode,E=Gu({mode:"hidden",children:E},h),o=Rs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Vf(e,p,s),n.memoizedState=Of,Xo(null,o)):(Ir(n),Mf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Ir(n),n.flags&=-257,n=kf(e,n,s)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),E=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),E=Rs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vs(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Vf(e,p,s),n.memoizedState=Of,n=Xo(null,o));else if(Ir(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Lo({value:o,source:null,stack:null}),n=kf(e,n,s)}else if(Te||Ea(e,n,s,!1),p=(s&e.childLanes)!==0,Te||p){if(p=$t,p!==null&&(o=sr(p,s),o!==0&&o!==w.retryLane))throw w.retryLane=o,ws(e,o),mn(p,e,o),Nf;md(E)||tc(),n=kf(e,n,s)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,ee=Ln(E.nextSibling),Be=n,Lt=!0,Tr=null,kn=!1,e!==null&&Ug(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(Cr(),E=o.fallback,h=n.mode,w=e.child,z=w.sibling,o=Oi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,z!==null?E=Oi(z,E):(E=Rs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(w=ve._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(e,p,s),n.memoizedState=Of,Xo(e.child,o)):(Ir(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Mf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function kf(e,n,s){return Vs(n,e.child,null,s),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,s)}function Uf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ny(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,tt(me,p),He(e,n,o,s),o=Lt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Uf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(n,!0,s,null,f,o);break;case"together":Uf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Li(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function v1(e,n,s){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),Ar(n,ve,e.memoizedState.cache),Is();break;case 27:case 5:Jn(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(Ir(n),e=Li(e,n,s),e!==null?e.sibling:null);Ir(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ea(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(me,me.current),o)break;return null;case 22:return n.lanes=0,Yp(e,n,s,n.pendingProps);case 24:Ar(n,ve,e.memoizedState.cache)}return Li(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return Te=!1,v1(e,n,s);Te=(e.flags&131072)!==0}else Te=!1,Lt&&(n.flags&1048576)!==0&&kg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=ks(e,o),n.tag=1,n=Jp(null,n,e,o,s)):(n.tag=0,n=Df(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Qp(null,n,e,o,s);break t}}throw n=fe(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ks(o,n.pendingProps),Jp(e,n,o,h,s);case 3:t:{if(Le(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Fo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ar(n,ve,o),o!==f.cache&&$h(n,[ve],s,!0),Ho(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wp(e,n,o,s);break t}else if(o!==h){h=xn(Error(a(424)),n),Lo(h),n=Wp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Ln(e.firstChild),Be=n,Lt=!0,Tr=null,kn=!0,s=Yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Is(),o===h){n=Li(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=oc(wt.current).createElement(s),o[oe]=n,o[je]=e,Fe(o,s,e),de(o),n.stateNode=o):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jn(n),e===null&&Lt&&(o=n.stateNode=h_(n.type,n.pendingProps,wt.current),Be=n,kn=!0,h=ee,Ur(n.type)?(pd=h,ee=Ln(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ee)&&(o=X1(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Be=n,ee=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||br(n)),Jn(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,c1,null,null,s),cl._currentValue=h),Fu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=ee)&&(s=$1(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Be=n,ee=null,e=!0):e=!1),e||br(n)),null;case 13:return ty(e,n,s);case 4:return Le(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,s):He(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ns(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Qp(e,n,n.type,n.pendingProps,s);case 15:return Kp(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return _1(e,n,s);case 22:return Yp(e,n,s,n.pendingProps);case 24:return Ns(n),o=qe(ve),e===null?(h=Wh(),h===null&&(h=$t,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},ef(n),Ar(n,ve,h)):((e.lanes&s)!==0&&(nf(e,n),Fo(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,ve,o)):(o=f.cache,Ar(n,ve,o),o!==h.cache&&$h(n,[ve],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Pf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw xs=Nu,tf}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Dy())e.flags|=8192;else throw xs=Nu,tf}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?po():536870912,e.lanes|=n,xa|=n)}function $o(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function E1(e,n,s){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Mi(ve),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(ne(n),ry(n,f)):(ne(n),Pf(n,h,null,o,s))):f?f!==e.memoizedState?(Pi(n),ne(n),ry(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),ne(n),Pf(n,h,e,o,s)),null;case 27:if(vi(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=ot.current,va(n)?Lg(n):(e=h_(h,o,s),n.stateNode=e,Pi(n))}return ne(n),null;case 5:if(vi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=ot.current,va(n))Lg(n);else{var p=oc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[oe]=n,f[je]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return ne(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[oe]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(e.nodeValue,s)),e||br(n,!0)}else e=oc(e).createTextNode(o),e[oe]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[oe]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[oe]=n}else Is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&ad(n.stateNode.containerInfo),ne(n),null;case 10:return Mi(n.type),ne(n),null;case 19:if(Q(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)xg(s,e),s=s.sibling;return tt(me,me.current&1|2),Lt&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Pe()>Zu&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(n),null}else 2*Pe()-o.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pe(),e.sibling=null,s=me.current,tt(me,h?s&1|2:s&1),Lt&&xi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return bn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Ds),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Mi(ve),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mi(ve),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vi(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(me),null;case 4:return se(),null;case 10:return Mi(n.type),null;case 22:case 23:return bn(n),of(),e!==null&&Q(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mi(ve),null;case 25:return null;default:return null}}function sy(e,n){switch(Gh(n),n.tag){case 3:Mi(ve),se();break;case 26:case 27:case 5:vi(n);break;case 4:se();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Q(me);break;case 10:Mi(n.type);break;case 22:case 23:bn(n),of(),e!==null&&Q(Ds);break;case 24:Mi(ve)}}function Zo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Nr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var w=s,z=E;try{z()}catch(G){Qt(h,w,G)}}}o=o.next}while(o!==f)}}catch(G){Qt(n,n.return,G)}}function ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$g(n,s)}catch(o){Qt(e,e.return,o)}}}function oy(e,n,s){s.props=ks(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Jo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function ui(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function ly(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function zf(e,n,s){try{var o=e.stateNode;H1(o,e.type,s,n),o[je]=n}catch(h){Qt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Oe));else if(o!==4&&(o===27&&Ur(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ur(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[oe]=e,n[je]=s}catch(f){Qt(e,e.return,f)}}var zi=!1,be=!1,qf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Me=null;function b1(e,n){if(e=e.containerInfo,ud=mc,e=Ag(e),Mh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,w=-1,z=0,G=0,Y=e,B=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(w=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===e)break e;if(B===s&&++z===h&&(E=p),B===f&&++G===o&&(w=p),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},mc=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){switch(n=Me,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=ks(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}}function fy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(e,s),o&4&&Zo(5,s);break;case 1:if(Bi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(s,s.return,p)}else{var h=ks(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(s,s.return,p)}}o&64&&ay(s),o&512&&Jo(s,s.return);break;case 3:if(Bi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(e,n)}catch(p){Qt(s,s.return,p)}}break;case 27:n===null&&o&4&&cy(s);case 26:case 5:Bi(e,s),n===null&&o&4&&ly(s),o&512&&Jo(s,s.return);break;case 12:Bi(e,s);break;case 31:Bi(e,s),o&4&&gy(e,s);break;case 13:Bi(e,s),o&4&&py(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=O1.bind(null,s),Z1(e,s))));break;case 22:if(o=s.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||be,h=zi;var f=be;zi=o,(be=n)&&!f?qi(e,s,(s.subtreeFlags&8772)!==0):Bi(e,s),zi=h,be=f}break;case 30:break;default:Bi(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ds(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,cn=!1;function ji(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(tr,s)}catch{}switch(s.tag){case 26:be||ui(s,n),ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||ui(s,n);var o=re,h=cn;Ur(s.type)&&(re=s.stateNode,cn=!1),ji(e,n,s),ol(s.stateNode),re=o,cn=h;break;case 5:be||ui(s,n);case 6:if(o=re,h=cn,re=null,ji(e,n,s),re=o,cn=h,re!==null)if(cn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{re.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:re!==null&&(cn?(e=re,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):a_(re,s.stateNode));break;case 4:o=re,h=cn,re=s.stateNode.containerInfo,cn=!0,ji(e,n,s),re=o,cn=h;break;case 0:case 11:case 14:case 15:Nr(2,s,n),be||Nr(4,s,n),ji(e,n,s);break;case 1:be||(ui(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&oy(s,n,o)),ji(e,n,s);break;case 21:ji(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,ji(e,n,s),be=o;break;default:ji(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Qt(n,n.return,s)}}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Qt(n,n.return,s)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function Yu(e,n){var s=A1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=x1.bind(null,e,o);o.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){re=E.stateNode,cn=!1;break t}break;case 5:re=E.stateNode,cn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(re===null)throw Error(a(160));my(f,p,h),re=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var Gn=null;function yy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(Nr(3,e,e.return),Zo(3,e),Nr(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(be||s===null||ui(s,s.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Gn;if(hn(n,e),fn(e),o&512&&(be||s===null||ui(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[oe]=e,de(f),o=f;break t;case"link":var p=y_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(p=y_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[oe]=e,de(f),o=f}e.stateNode=o}else __(h,e.type,e.stateNode);else e.stateNode=p_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?__(h,e.type,e.stateNode):p_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(be||s===null||ui(s,s.return)),s!==null&&o&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(be||s===null||ui(s,s.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(cc=null,h=Gn,Gn=lc(n.containerInfo),hn(n,e),Gn=h,fn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(at){Qt(e,e.return,at)}qf&&(qf=!1,_y(e));break;case 4:o=Gn,Gn=lc(e.stateNode.containerInfo),hn(n,e),fn(e),Gn=o;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=Pe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 22:h=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,z=zi,G=be;if(zi=z||h,be=G||w,hn(n,e),be=G,zi=z,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||w||zi||be||Us(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Qt(w,w.return,at)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(at){Qt(w,w.return,at)}}}else if(n.tag===18){if(s===null){w=n;try{var q=w.stateNode;h?o_(q,!0):o_(w.stateNode,!1)}catch(at){Qt(w,w.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Yu(e,s))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(uy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Ku(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(Dn(p,""),s.flags&=-33);var E=jf(e);Ku(e,E,p);break;case 3:case 4:var w=s.stateNode.containerInfo,z=jf(e);Bf(e,z,w);break;default:throw Error(a(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function Us(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Nr(4,n,n.return),Us(n);break;case 1:ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),Us(n);break;case 27:ol(n.stateNode);case 26:case 5:ui(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}e=e.sibling}}function qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:qi(h,f,s),Zo(4,f);break;case 1:if(qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Xg(w[h],E)}catch(z){Qt(o,o.return,z)}}s&&p&64&&ay(f),Jo(f,f.return);break;case 27:cy(f);case 26:case 5:qi(h,f,s),s&&o===null&&p&4&&ly(f),Jo(f,f.return);break;case 12:qi(h,f,s);break;case 31:qi(h,f,s),s&&p&4&&gy(h,f);break;case 13:qi(h,f,s),s&&p&4&&py(h,f);break;case 22:f.memoizedState===null&&qi(h,f,s),Jo(f,f.return);break;case 30:break;default:qi(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,s,o),n=n.sibling}function vy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Zo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Wo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(p,n);break;case 24:Qn(e,n,s,o),h&2048&&Ff(n.alternate,n);break;default:Qn(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,w=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,w,h),Zo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Na(f,p,E,w,h):Wo(f,p):(G._visibility|=2,Na(f,p,E,w,h)),h&&z&2048&&Hf(p.alternate,p);break;case 24:Na(f,p,E,w,h),h&&z&2048&&Ff(p.alternate,p);break;default:Na(f,p,E,w,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(s,o),h&2048&&Hf(o.alternate,o);break;case 24:Wo(s,o),h&2048&&Ff(o.alternate,o);break;default:Wo(s,o)}n=n.sibling}}var tl=8192;function Da(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)Ey(e,n,s),e=e.sibling}function Ey(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&tl&&e.memoizedState!==null&&ub(s,Gn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=Gn;Gn=lc(e.stateNode.containerInfo),Da(e,n,s),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Da(e,n,s),tl=o):Da(e,n,s));break;default:Da(e,n,s)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Me=o,Ay(o,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):el(e);break;default:el(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Me=o,Ay(o,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Nr(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function Ay(e,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:Nr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Me=o;else t:for(s=e;Me!==null;){o=Me;var h=o.sibling,f=o.return;if(dy(o),o===s){Me=null;break t}if(h!==null){h.return=f,Me=h;break t}Me=f}}}var S1={getCacheForType:function(e){var n=qe(ve),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(ve).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Nt=null,xt=0,Gt=0,An=null,Dr=!1,Oa=!1,Gf=!1,Hi=0,ce=0,Or=0,Ls=0,Qf=0,Sn=0,xa=0,nl=null,dn=null,Kf=!1,$u=0,Sy=0,Zu=1/0,Ju=null,xr=null,Ce=0,Vr=null,Va=null,Fi=0,Yf=0,Xf=null,wy=null,il=0,$f=null;function wn(){return(qt&2)!==0&&xt!==0?xt&-xt:L.T!==null?nd():bi()}function Ry(){if(Sn===0)if((xt&536870912)===0||Lt){var e=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),Sn=e}else Sn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Sn}function mn(e,n,s){(e===$t&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Mr(e,xt,Sn,!1)),ir(e,s),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Ls|=s),ce===4&&Mr(e,xt,Sn,!1)),ci(e))}function Iy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||nr(e,n),h=o?C1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Mr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!R1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=nl;var w=E.current.memoizedState.isDehydrated;if(w&&(Ma(E,p).flags|=256),p=Jf(E,p,!1),p!==2){if(Gf&&!w){E.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Mr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,Sn,!Dr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-Pe(),10<h)){if(Mr(o,n,Sn,!Dr),Cn(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=r_(Cy.bind(null,o,s,dn,Ju,Kf,n,Sn,Ls,xa,Dr,f,"Throttled",-0,0),h);break t}Cy(o,s,dn,Ju,Kf,n,Sn,Ls,xa,Dr,f,null,-0,0)}}break}while(!0);ci(e)}function Cy(e,n,s,o,h,f,p,E,w,z,G,Y,B,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oe},Ey(n,f,Y);var at=(f&62914560)===f?$u-Pe():(f&4194048)===f?Sy-Pe():0;if(at=cb(Y,at),at!==null){Fi=f,e.cancelPendingCommit=at(Uy.bind(null,e,n,f,s,o,h,p,E,w,G,Y,null,B,q)),Mr(e,f,p,!z);return}}Uy(e,n,f,s,o,h,p,E,w)}function R1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,s,o){n&=~Qf,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-en(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&yo(e,s,n)}function Wu(){return(qt&6)===0?(rl(0),!1):!0}function Zf(){if(Nt!==null){if(Gt===0)var e=Nt.return;else e=Nt,Vi=Cs=null,df(e),Sa=null,jo=0,e=Nt;for(;e!==null;)sy(e.alternate,e),e=e.return;Nt=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Q1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Zf(),$t=e,Nt=s=Oi(e.current,null),xt=n,Gt=0,An=null,Dr=!1,Oa=nr(e,n),Gf=!1,xa=Sn=Qf=Ls=Or=ce=0,dn=nl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-en(o),f=1<<h;n|=e[h],o&=~f}return Hi=n,Eu(),s}function Ny(e,n){bt=null,L.H=Yo,n===Aa||n===Cu?(n=Gg(),Gt=3):n===tf?(n=Gg(),Gt=4):Gt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Nt===null&&(ce=1,qu(e,xn(n,e.current)))}function Dy(){var e=Tn.current;return e===null?!0:(xt&4194048)===xt?Un===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Un:!1}function Oy(){var e=L.H;return L.H=Yo,e===null?Yo:e}function xy(){var e=L.A;return L.A=S1,e}function tc(){ce=4,Dr||(xt&4194048)!==xt&&Tn.current!==null||(Oa=!0),(Or&134217727)===0&&(Ls&134217727)===0||$t===null||Mr($t,xt,Sn,!1)}function Jf(e,n,s){var o=qt;qt|=2;var h=Oy(),f=xy();($t!==e||xt!==n)&&(Ju=null,Ma(e,n)),n=!1;var p=ce;t:do try{if(Gt!==0&&Nt!==null){var E=Nt,w=An;switch(Gt){case 8:Zf(),p=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var z=Gt;if(Gt=0,An=null,ka(e,E,w,z),s&&Oa){p=0;break t}break;default:z=Gt,Gt=0,An=null,ka(e,E,w,z)}}I1(),p=ce;break}catch(G){Ny(e,G)}while(!0);return n&&e.shellSuspendCounter++,Vi=Cs=null,qt=o,L.H=h,L.A=f,Nt===null&&($t=null,xt=0,Eu()),p}function I1(){for(;Nt!==null;)Vy(Nt)}function C1(e,n){var s=qt;qt|=2;var o=Oy(),h=xy();$t!==e||xt!==n?(Ju=null,Zu=Pe()+500,Ma(e,n)):Oa=nr(e,n);t:do try{if(Gt!==0&&Nt!==null){n=Nt;var f=An;e:switch(Gt){case 1:Gt=0,An=null,ka(e,n,f,1);break;case 2:case 9:if(Hg(f)){Gt=0,An=null,My(n);break}n=function(){Gt!==2&&Gt!==9||$t!==e||(Gt=7),ci(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Hg(f)?(Gt=0,An=null,My(n)):(Gt=0,An=null,ka(e,n,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var E=Nt;if(p?v_(p):E.stateNode.complete){Gt=0,An=null;var w=E.sibling;if(w!==null)Nt=w;else{var z=E.return;z!==null?(Nt=z,ec(z)):Nt=null}break e}}Gt=0,An=null,ka(e,n,f,5);break;case 6:Gt=0,An=null,ka(e,n,f,6);break;case 8:Zf(),ce=6;break t;default:throw Error(a(462))}}N1();break}catch(G){Ny(e,G)}while(!0);return Vi=Cs=null,L.H=o,L.A=h,qt=s,Nt!==null?0:($t=null,xt=0,Eu(),ce)}function N1(){for(;Nt!==null&&!Ah();)Vy(Nt)}function Vy(e){var n=iy(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?ec(e):Nt=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:df(n);default:sy(s,n),n=Nt=xg(n,Hi),n=iy(s,n,Hi)}e.memoizedProps=e.pendingProps,n===null?ec(e):Nt=n}function ka(e,n,s,o){Vi=Cs=null,df(n),Sa=null,jo=0;var h=n.return;try{if(y1(e,h,n,s,xt)){ce=1,qu(e,xn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ce=1,qu(e,xn(s,e.current)),Nt=null;return}n.flags&32768?(Lt||o===1?e=!0:Oa||(xt&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Dr);return}e=n.return;var s=E1(n.alternate,n,Hi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ce===0&&(ce=5)}function ky(e,n){do{var s=T1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ce=6,Nt=null}function Uy(e,n,s,o,h,f,p,E,w){e.cancelPendingCommit=null;do nc();while(Ce!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,ze(e,s,f,p,E,w),e===$t&&(Nt=$t=null,xt=0),Va=n,Vr=e,Fi=s,Yf=f,Xf=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V1(Ei,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=J.p,J.p=2,p=qt,qt|=4;try{b1(e,n,s)}finally{qt=p,J.p=h,L.T=o}}Ce=1,Ly(),Py(),zy()}}function Ly(){if(Ce===1){Ce=0;var e=Vr,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=J.p;J.p=2;var h=qt;qt|=4;try{yy(n,e);var f=cd,p=Ag(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(w!==null&&Mh(E)){var z=w.start,G=w.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),at=E.textContent.length,mt=Math.min(w.start,at),Xt=w.end===void 0?mt:Math.min(w.end,at);!q.extend&&mt>Xt&&(p=Xt,Xt=mt,mt=p);var M=Tg(E,mt),D=Tg(E,Xt);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(M.node,M.offset),q.removeAllRanges(),mt>Xt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}mc=!!ud,cd=ud=null}finally{qt=h,J.p=o,L.T=s}}e.current=n,Ce=2}}function Py(){if(Ce===2){Ce=0;var e=Vr,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=J.p;J.p=2;var h=qt;qt|=4;try{fy(e,n.alternate,n)}finally{qt=h,J.p=o,L.T=s}}Ce=3}}function zy(){if(Ce===4||Ce===3){Ce=0,fo();var e=Vr,n=Va,s=Fi,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ce=5:(Ce=0,Va=Vr=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xr=null),vo(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(tr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=J.p,J.p=2,L.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{L.T=n,J.p=h}}(Fi&3)!==0&&nc(),ci(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?il++:(il=0,$f=e):il=0,rl(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function nc(){return Ly(),Py(),zy(),By()}function By(){if(Ce!==5)return!1;var e=Vr,n=Yf;Yf=0;var s=vo(Fi),o=L.T,h=J.p;try{J.p=32>s?32:s,L.T=null,s=Xf,Xf=null;var f=Vr,p=Fi;if(Ce=0,Va=Vr=null,Fi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,by(f.current),vy(f,f.current,p,s),qt=E,rl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(tr,f)}catch{}return!0}finally{J.p=h,L.T=o,jy(e,n)}}function qy(e,n,s){n=xn(s,n),n=Cf(e.stateNode,n,2),e=Rr(e,n,2),e!==null&&(ir(e,2),ci(e))}function Qt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){e=xn(s,e),s=Hp(2),o=Rr(n,s,2),o!==null&&(Fp(s,o,n,e),ir(o,2),ci(o));break}}n=n.return}}function Wf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new w1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Gf=!0,h.add(s),e=D1.bind(null,e,n,s),n.then(e,e))}function D1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(xt&s)===s&&(ce===4||ce===3&&(xt&62914560)===xt&&300>Pe()-$u?(qt&2)===0&&Ma(e,0):Qf|=s,xa===xt&&(xa=0)),ci(e)}function Hy(e,n){n===0&&(n=po()),e=ws(e,n),e!==null&&(ir(e,n),ci(e))}function O1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function x1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,s)}function V1(e,n){return cs(e,n)}var ic=null,Ua=null,td=!1,rc=!1,ed=!1,kr=0;function ci(e){e!==Ua&&e.next===null&&(Ua===null?ic=Ua=e:Ua=Ua.next=e),rc=!0,td||(td=!0,k1())}function rl(e,n){if(!ed&&rc){ed=!0;do for(var s=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-en(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ky(o,f))}else f=xt,f=Cn(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||nr(o,f)||(s=!0,Ky(o,f));o=o.next}while(s);ed=!1}}function M1(){Fy()}function Fy(){rc=td=!1;var e=0;kr!==0&&G1()&&(e=kr);for(var n=Pe(),s=null,o=ic;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?ic=h:s.next=h,h===null&&(Ua=s)):(s=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}Ce!==0&&Ce!==5||rl(e),kr!==0&&(kr=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-en(f),E=1<<p,w=h[p];w===-1?((E&s)===0||(E&o)!==0)&&(h[p]=na(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=xt,s=Cn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ea(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||nr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ea(o),vo(s)){case 2:case 8:s=De;break;case 32:s=Ei;break;case 268435456:s=mo;break;default:s=Ei}return o=Qy.bind(null,e),s=cs(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ea(o),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nc()&&e.callbackNode!==s)return null;var o=xt;return o=Cn(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Gy(e,Pe()),e.callbackNode!=null&&e.callbackNode===s?Qy.bind(null,e):null)}function Ky(e,n){if(nc())return null;Iy(e,n,!0)}function k1(){K1(function(){(qt&6)!==0?cs(Ie,M1):Fy()})}function nd(){if(kr===0){var e=Ta;e===0&&(e=fs,fs<<=1,(fs&261888)===0&&(fs=256)),kr=e}return kr}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ri(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function U1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[je]||null).action),p=o.submitter;p&&(n=(n=p[je]||null)?Yy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new _s("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(kr!==0){var w=p?Xy(h,p):new FormData(h);bf(s,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=p?Xy(h,p):new FormData(h),bf(s,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var rd=Ph[id],L1=rd.toLowerCase(),P1=rd[0].toUpperCase()+rd.slice(1);Fn(L1,"on"+P1)}Fn(Rg,"onAnimationEnd"),Fn(Ig,"onAnimationIteration"),Fn(Cg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(t1,"onTransitionRun"),Fn(e1,"onTransitionStart"),Fn(n1,"onTransitionCancel"),Fn(Ng,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=w}else for(p=0;p<o.length;p++){if(E=o[p],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=w}}}}function Dt(e,n){var s=n[ar];s===void 0&&(s=n[ar]=new Set);var o=e+"__bubble";s.has(o)||(Zy(n,e,2,!1),s.add(o))}function sd(e,n,s){var o=0;n&&(o|=4),Zy(s,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[sc]){e[sc]=!0,ia.forEach(function(s){s!=="selectionchange"&&(z1.has(s)||sd(s,!1,e),sd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,sd("selectionchange",!1,n))}}function Zy(e,n,s,o){switch(R_(n)){case 2:var h=db;break;case 8:h=mb;break;default:h=Td}s=h.bind(null,n,s,e),h=void 0,!Io||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Si(E),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){o=f=p;continue t}E=E.parentNode}}o=o.return}iu(function(){var z=f,G=la(s),Y=[];t:{var B=Dg.get(e);if(B!==void 0){var q=_s,at=e;switch(e){case"keypress":if(ys(s)===0)break t;case"keydown":case"keyup":q=fu;break;case"focusin":at="focus",q=pr;break;case"focusout":at="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=mu;break;case Rg:case Ig:case Cg:q=ha;break;case Ng:q=fa;break;case"scroll":case"scrollend":q=ru;break;case"wheel":q=pu;break;case"copy":case"cut":case"paste":q=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xo;break;case"toggle":case"beforetoggle":q=_r}var mt=(n&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),M=mt?B!==null?B+"Capture":null:B;mt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||M===null||(K=ln(D,M),K!=null&&mt.push(al(D,K,P))),Xt)break;D=D.return}0<mt.length&&(B=new q(B,at,null,s,G),Y.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==oa&&(at=s.relatedTarget||s.fromElement)&&(Si(at)||at[ei]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?Si(at):null,at!==null&&(Xt=c(at),mt=at.tag,at!==Xt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(mt=su,K="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=xo,K="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=q==null?B:ms(q),P=at==null?B:ms(at),B=new mt(K,D+"leave",q,s,G),B.target=Xt,B.relatedTarget=P,K=null,Si(G)===z&&(mt=new mt(M,D+"enter",at,s,G),mt.target=P,mt.relatedTarget=Xt,K=mt),Xt=K,q&&at)e:{for(mt=j1,M=q,D=at,P=0,K=M;K;K=mt(K))P++;K=0;for(var ht=D;ht;ht=mt(ht))K++;for(;0<P-K;)M=mt(M),P--;for(;0<K-P;)D=mt(D),K--;for(;P--;){if(M===D||D!==null&&M===D.alternate){mt=M;break e}M=mt(M),D=mt(D)}mt=null}else mt=null;q!==null&&Jy(Y,B,q,mt,!1),at!==null&&Xt!==null&&Jy(Y,Xt,at,mt,!0)}}t:{if(B=z?ms(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var jt=gg;else if(un(B))if(pg)jt=ZT;else{jt=XT;var lt=YT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&wo(z.elementType)&&(jt=gg):jt=$T;if(jt&&(jt=jt(e,z))){bs(Y,jt,s,G);break t}lt&&lt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&aa(B,"number",B.value)}switch(lt=z?ms(z):window,e){case"focusin":(un(lt)||lt.contentEditable==="true")&&(da=lt,kh=z,ko=null);break;case"focusout":ko=kh=da=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Sg(Y,s,G);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":Sg(Y,s,G)}var At;if(m)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Rt?Ht(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(U&&s.locale!=="ko"&&(Rt||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Rt&&(At=fr()):(_n=G,ua="value"in _n?_n.value:_n.textContent,Rt=!0)),lt=ac(z,Vt),0<lt.length&&(Vt=new No(Vt,e,null,s,G),Y.push({event:Vt,listeners:lt}),At?Vt.data=At:(At=_e(s),At!==null&&(Vt.data=At)))),(At=T?xe(e,s):Ve(e,s))&&(Vt=ac(z,"onBeforeInput"),0<Vt.length&&(lt=new No("onBeforeInput","beforeinput",null,s,G),Y.push({event:lt,listeners:Vt}),lt.data=At)),U1(Y,e,z,s,G)}$y(Y,n)})}function al(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ac(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ln(e,s),h!=null&&o.unshift(al(e,h,f)),h=ln(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function j1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||z===null||(w=z,h?(z=ln(s,f),z!=null&&p.unshift(al(s,z,w))):h||(z=ln(s,f),z!=null&&p.push(al(s,z,w)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var B1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(q1,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function Yt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Dn(e,""+o);break;case"className":ur(e,"class",o);break;case"tabIndex":ur(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(e,s,o);break;case"style":eu(e,o,f);break;case"data":if(n!=="object"){ur(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ri(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ri(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Oe);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ri(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),lr(e,"popover",o);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":lr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nh.get(s)||s,lr(e,s,o))}}function ld(e,n,s,o,h,f){switch(s){case"style":eu(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&Dn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Oe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!or.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):lr(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,f,p,s,null)}}h&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=p=h=null,w=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":w=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(e,n,o,G,s,null)}}gs(e,f,E,w,z,p,h,!1);return;case"select":Dt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Yt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?zt(e,!!o,n,!1):s!=null&&zt(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(e,n,p,E,s,null)}hr(e,o,h,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(o=s[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,w,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Dt(sl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,z,o,s,null)}return;default:if(wo(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&ld(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Yt(e,n,E,o,s,null))}function H1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,w=null,z=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Y;default:o.hasOwnProperty(q)||Yt(e,n,q,null,o,Y)}}for(var B in o){var q=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Yt(e,n,B,q,o,Y)}}cr(e,p,E,w,z,G,f,h);return;case"select":q=p=E=B=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=s[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==w&&Yt(e,n,h,f,o,w)}n=E,s=p,o=q,B!=null?zt(e,!!s,B,!1):!!o!=!!s&&(n!=null?zt(e,!!s,n,!0):zt(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Yt(e,n,p,h,o,f)}ps(e,B,q);return;case"option":for(var at in s)if(B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Yt(e,n,at,null,o,B)}for(w in o)if(B=o[w],q=s[w],o.hasOwnProperty(w)&&B!==q&&(B!=null||q!=null))switch(w){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,n,w,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)B=s[mt],s.hasOwnProperty(mt)&&B!=null&&!o.hasOwnProperty(mt)&&Yt(e,n,mt,null,o,B);for(z in o)if(B=o[z],q=s[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(e,n,z,B,o,q)}return;default:if(wo(n)){for(var Xt in s)B=s[Xt],s.hasOwnProperty(Xt)&&B!==void 0&&!o.hasOwnProperty(Xt)&&ld(e,n,Xt,void 0,o,B);for(G in o)B=o[G],q=s[G],!o.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||ld(e,n,G,B,o,q);return}}for(var M in s)B=s[M],s.hasOwnProperty(M)&&B!=null&&!o.hasOwnProperty(M)&&Yt(e,n,M,null,o,B);for(Y in o)B=o[Y],q=s[Y],!o.hasOwnProperty(Y)||B===q||B==null&&q==null||Yt(e,n,Y,B,o,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&e_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var w=s[o],z=w.startTime;if(z>E)break;var G=w.transferSize,Y=w.initiatorType;G&&e_(Y)&&(w=w.responseEnd,p+=G*(w<E?1:(E-z)/(w-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(Y1)}:r_;function Y1(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function a_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ol(e.ownerDocument.body);s=h}while(s);ja(n)}function o_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),ds(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function X1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function $1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function l_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,s){switch(n=oc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ds(e)}var Pn=new Map,f_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gi=J.d;J.d={f:J1,r:W1,D:tb,C:eb,L:nb,m:ib,X:sb,S:rb,M:ab};function J1(){var e=Gi.f(),n=Wu();return e||n}function W1(e){var n=wi(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):Gi.r(e)}var La=typeof document>"u"?null:document;function d_(e,n,s){var o=La;if(o&&typeof n=="string"&&n){var h=le(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),de(n),o.head.appendChild(n)))}}function tb(e){Gi.D(e),d_("dns-prefetch",e,null)}function eb(e,n){Gi.C(e,n),d_("preconnect",e,n)}function nb(e,n,s){Gi.L(e,n,s);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+le(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+le(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+le(s.imageSizes)+'"]')):h+='[href="'+le(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}Pn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),Fe(n,"link",e),de(n),o.head.appendChild(n)))}}function ib(e,n){Gi.m(e,n);var s=La;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+le(o)+'"][href="'+le(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Pn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Pn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ul(f)))return}o=s.createElement("link"),Fe(o,"link",e),de(o),s.head.appendChild(o)}}}function rb(e,n,s){Gi.S(e,n,s);var o=La;if(o&&e){var h=qn(o).hoistableStyles,f=Pa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ll(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(f))&&yd(e,s);var w=p=o.createElement("link");de(w),Fe(w,"link",e),w._p=new Promise(function(z,G){w.onload=z,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sb(e,n){Gi.X(e,n);var s=La;if(s&&e){var o=qn(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=A({src:e,async:!0},n),(n=Pn.get(h))&&_d(e,n),f=s.createElement("script"),de(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ab(e,n){Gi.M(e,n);var s=La;if(s&&e){var o=qn(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(ul(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&_d(e,n),f=s.createElement("script"),de(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(e,n,s,o){var h=(h=wt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Pa(s.href),s=qn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pa(s.href);var f=qn(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ll(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),f||ob(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=qn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+le(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),de(n),e.head.appendChild(n))}function za(e){return'[src="'+le(e)+'"]'}function ul(e){return"script[async]"+e}function p_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+le(s.href)+'"]');if(o)return n.instance=o,de(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),de(o),Fe(o,"style",h),uc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Pa(s.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,de(f),f;o=g_(s),(h=Pn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),de(f);var p=f;return p._p=new Promise(function(E,w){p.onload=E,p.onerror=w}),Fe(f,"link",o),n.state.loading|=4,uc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(ul(f)))?(n.instance=h,de(h),h):(o=s,(h=Pn.get(f))&&(o=A({},s),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,s.precedence,e));return n.instance}function uc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function y_(e,n,s){if(cc===null){var o=new Map,h=cc=new Map;h.set(s,o)}else h=cc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function __(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function lb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ub(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Pa(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,de(f);return}f=n.ownerDocument||n,o=g_(o),(h=Pn.get(h))&&yd(o,h),f=f.createElement("link"),de(f);var p=f;p._p=new Promise(function(E,w){p.onload=E,p.onerror=w}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=hc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var vd=0;function cb(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(hb,e),fc=null,hc.call(e))}function hb(e,n){if(!(n.state.loading&4)){var s=fc.get(e);if(s)var o=s.get(null);else{s=new Map,fc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function fb(e,n,s,o,h,f,p,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function E_(e,n,s,o,h,f,p,E,w,z,G,Y){return e=new fb(e,n,s,p,w,z,G,Y,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},ef(f),e}function T_(e){return e?(e=pa,e):pa}function b_(e,n,s,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Rr(e,o,n),s!==null&&(mn(s,e,n),qo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=ws(e,67108864);n!==null&&mn(n,e,67108864),Ed(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=wn();n=_o(n);var s=ws(e,n);s!==null&&mn(s,e,n),Ed(e,n)}}var mc=!0;function db(e,n,s,o){var h=L.T;L.T=null;var f=J.p;try{J.p=2,Td(e,n,s,o)}finally{J.p=f,L.T=h}}function mb(e,n,s,o){var h=L.T;L.T=null;var f=J.p;try{J.p=8,Td(e,n,s,o)}finally{J.p=f,L.T=h}}function Td(e,n,s,o){if(mc){var h=bd(o);if(h===null)od(e,n,o,gc,s),I_(e,o);else if(pb(h,e,n,s,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<gb.indexOf(e)){for(;h!==null;){var f=wi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Bn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var w=1<<31-en(p);E.entanglements[1]|=w,p&=~w}ci(f),(qt&6)===0&&(Zu=Pe()+500,rl(0))}}break;case 31:case 13:E=ws(f,2),E!==null&&mn(E,f,2),Wu(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,gc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,s)}}function bd(e){return e=la(e),Ad(e)}var gc=null;function Ad(e){if(gc=null,e=Si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yl()){case Ie:return 2;case De:return 8;case Ei:case Xl:return 32;case mo:return 268435456;default:return 32}default:return 32}}var Sd=!1,Lr=null,Pr=null,zr=null,hl=new Map,fl=new Map,jr=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wi(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function pb(e,n,s,o,h){switch(n){case"focusin":return Lr=dl(Lr,e,n,s,o,h),!0;case"dragenter":return Pr=dl(Pr,e,n,s,o,h),!0;case"mouseover":return zr=dl(zr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,s,o,h)),!0}return!1}function C_(e){var n=Si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Zl(e.priority,function(){w_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Zl(e.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);oa=o,s.target.dispatchEvent(o),oa=null}else return n=wi(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function N_(e,n,s){pc(e)&&s.delete(n)}function yb(){Sd=!1,Lr!==null&&pc(Lr)&&(Lr=null),Pr!==null&&pc(Pr)&&(Pr=null),zr!==null&&pc(zr)&&(zr=null),hl.forEach(N_),fl.forEach(N_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yb)))}var _c=null;function D_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||s)===null)continue;break}var f=wi(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ja(e){function n(w){return yc(w,e)}Lr!==null&&yc(Lr,e),Pr!==null&&yc(Pr,e),zr!==null&&yc(zr,e),hl.forEach(n),fl.forEach(n);for(var s=0;s<jr.length;s++){var o=jr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(s=jr[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&jr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[je]||null;if(typeof f=="function")p||D_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[je]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}vc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=wn();b_(s,o,e,n,null,null)},vc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),Wu(),n[ei]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=bi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<jr.length&&n!==0&&n<jr[s].priority;s++);jr.splice(s,0,e),s===0&&C_(e)}};var x_=t.version;if(x_!=="19.2.3")throw Error(a(527,x_,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{tr=Ec.inject(_b),Ye=Ec}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=zp,f=jp,p=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=E_(e,1,!1,null,null,s,o,null,h,f,p,O_),e[ei]=n.current,ad(e),new wd(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=zp,p=jp,E=Bp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=E_(e,1,!0,n,s??null,o,h,w,f,p,E,O_),n.context=T_(null),s=n.current,o=wn(),o=_o(o),h=wr(o),h.callback=null,Rr(s,h,o),s=o,n.current.lanes=s,ir(n,s),ci(n),e[ei]=n.current,ad(e),new vc(n)},gl.version="19.2.3",gl}var q_;function Nb(){if(q_)return Cd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=Cb(),Cd.exports}var Db=Nb();const Ob=b0(Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),H_=r=>{const t=Vb(r);return t.charAt(0).toUpperCase()+t.slice(1)},A0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Mb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=he.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>he.createElement("svg",{ref:y,...kb,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:A0("lucide",l),...!c&&!Mb(g)&&{"aria-hidden":"true"},...g},[...d.map(([v,b])=>he.createElement(v,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(r,t)=>{const i=he.forwardRef(({className:a,...l},c)=>he.createElement(Ub,{ref:c,iconNode:t,className:A0(`lucide-${xb(H_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=H_(r),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Pb=Wt("chromium",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jb=Wt("circle-alert",zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],qb=Wt("command",Bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],F_=Wt("copy",Hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gb=Wt("eye-off",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kb=Wt("eye",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Xb=Wt("facebook",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Zb=Wt("gamepad-2",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Wb=Wt("github",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eA=Wt("globe",tA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],iA=Wt("instagram",nA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],sA=Wt("linkedin",rA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oA=Wt("log-out",aA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],uA=Wt("monitor",lA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],hA=Wt("music",cA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],dA=Wt("pencil",fA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],S0=Wt("plus",mA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pA=Wt("search",gA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],_A=Wt("shield-alert",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EA=Wt("shield",vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bA=Wt("shopping-cart",TA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]],SA=Wt("slack",AA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RA=Wt("trash-2",wA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],CA=Wt("tv",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],DA=Wt("twitter",NA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xA=Wt("user",OA),El=[{id:"google",name:"Google",color:"bg-red-500"},{id:"facebook",name:"Facebook",color:"bg-blue-600"},{id:"instagram",name:"Instagram",color:"bg-pink-600"},{id:"twitter",name:"X / Twitter",color:"bg-black"},{id:"linkedin",name:"LinkedIn",color:"bg-blue-700"},{id:"github",name:"GitHub",color:"bg-gray-800"},{id:"microsoft",name:"Microsoft",color:"bg-blue-500"},{id:"apple",name:"Apple",color:"bg-gray-900"},{id:"amazon",name:"Amazon",color:"bg-yellow-600"},{id:"netflix",name:"Netflix",color:"bg-red-700"},{id:"spotify",name:"Spotify",color:"bg-green-500"},{id:"discord",name:"Discord",color:"bg-indigo-500"},{id:"slack",name:"Slack",color:"bg-purple-600"},{id:"other",name:"Outro",color:"bg-slate-500"}],w0=(r,t="w-6 h-6 text-white")=>{switch(r){case"google":return j.jsx(Pb,{className:t});case"facebook":return j.jsx(Xb,{className:t});case"instagram":return j.jsx(iA,{className:t});case"twitter":return j.jsx(DA,{className:t});case"linkedin":return j.jsx(sA,{className:t});case"github":return j.jsx(Wb,{className:t});case"microsoft":return j.jsx(uA,{className:t});case"apple":return j.jsx(qb,{className:t});case"amazon":return j.jsx(bA,{className:t});case"netflix":return j.jsx(CA,{className:t});case"spotify":return j.jsx(hA,{className:t});case"discord":return j.jsx(Zb,{className:t});case"slack":return j.jsx(SA,{className:t});default:return j.jsx(eA,{className:t})}},VA=({account:r,onDelete:t,onEdit:i})=>{const[a,l]=he.useState(!1),[c,d]=he.useState(null),g=El.find(b=>b.id===r.serviceId)||El[El.length-1],y=(b,A)=>{navigator.clipboard.writeText(b),d(A),setTimeout(()=>d(null),2e3)},v=b=>{b.preventDefault(),b.stopPropagation(),t(r.id)};return j.jsxs("div",{className:"relative bg-white border-2 border-black rounded-lg shadow-hard hover:shadow-hard-lg transition-all duration-200 transform hover:-translate-y-1",children:[j.jsxs("div",{className:"p-4 border-b-2 border-black bg-yellow-50 flex justify-between items-center rounded-t-md",children:[j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx("div",{className:`w-10 h-10 rounded-md border-2 border-black flex items-center justify-center ${g.color} text-white shadow-hard-sm`,children:w0(r.serviceId,"w-6 h-6")}),j.jsxs("div",{children:[j.jsx("h3",{className:"font-black text-lg text-black leading-none",children:g.name}),j.jsx("p",{className:"text-xs font-bold text-slate-500 mt-1 uppercase tracking-wider",children:new Date(r.createdAt).toLocaleDateString("pt-BR")})]})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("button",{type:"button",onClick:()=>i(r.id),className:"text-white bg-blue-500 hover:bg-blue-600 border-2 border-black p-2 rounded-md transition-all active-press shadow-hard-sm",title:"Editar conta",children:j.jsx(dA,{size:18})}),j.jsx("button",{type:"button",onClick:v,className:"text-black bg-red-400 hover:bg-red-500 border-2 border-black p-2 rounded-md transition-all active-press shadow-hard-sm",title:"Excluir conta",children:j.jsx(RA,{size:18})})]})]}),j.jsxs("div",{className:"p-4 space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"text-xs font-black text-black uppercase mb-1 block",children:"Email"}),j.jsxs("div",{className:"flex items-center justify-between bg-white border-2 border-black rounded-md p-2",children:[j.jsx("span",{className:"text-sm font-mono font-bold text-slate-800 truncate select-all",children:r.email}),j.jsx("button",{type:"button",onClick:()=>y(r.email,"email"),className:`ml-2 border-2 border-transparent hover:border-black rounded p-1 transition-all ${c==="email"?"bg-green-400 text-black":"hover:bg-gray-200 text-slate-500"}`,children:j.jsx(F_,{size:14})})]})]}),j.jsxs("div",{children:[j.jsx("label",{className:"text-xs font-black text-black uppercase mb-1 block",children:"Senha"}),j.jsxs("div",{className:"flex items-center justify-between bg-white border-2 border-black rounded-md p-2",children:[j.jsx("span",{className:`text-sm font-bold text-slate-800 truncate font-mono ${a?"":"tracking-widest"}`,children:a?r.password:""}),j.jsxs("div",{className:"flex items-center gap-1",children:[j.jsx("button",{type:"button",onClick:()=>l(!a),className:"hover:bg-yellow-200 border-2 border-transparent hover:border-black rounded p-1 transition-all",children:a?j.jsx(Gb,{size:14}):j.jsx(Kb,{size:14})}),j.jsx("div",{className:"w-0.5 h-4 bg-black mx-1"}),j.jsx("button",{type:"button",onClick:()=>y(r.password,"pass"),className:`border-2 border-transparent hover:border-black rounded p-1 transition-all ${c==="pass"?"bg-green-400 text-black":"hover:bg-gray-200 text-slate-500"}`,children:j.jsx(F_,{size:14})})]})]})]}),r.observations&&j.jsx("div",{className:"pt-2",children:j.jsxs("div",{className:"bg-blue-100 border-2 border-black border-dashed rounded-md p-3 text-sm font-medium text-slate-900 relative",children:[j.jsx("span",{className:"absolute -top-3 left-2 bg-blue-100 px-1 text-[10px] font-black uppercase border-2 border-black text-black",children:"Notas"}),r.observations]})})]})]})},MA=({selected:r,onChange:t})=>j.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-7 gap-3 py-2",children:El.map(i=>{const a=r===i.id;return j.jsxs("button",{type:"button",onClick:()=>t(i.id),className:`group relative flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-100 border-2 border-black ${a?"bg-black text-white shadow-none translate-y-1 translate-x-1":"bg-white hover:bg-yellow-100 shadow-hard hover:translate-y-[-2px] hover:translate-x-[-2px] hover:shadow-hard-lg"}`,children:[j.jsx("div",{className:`p-1.5 rounded-md mb-1 ${a?"bg-white text-black":`${i.color} text-white border-2 border-black`}`,children:w0(i.id,"w-4 h-4")}),j.jsx("span",{className:"text-[10px] font-bold truncate w-full text-center uppercase tracking-tight",children:i.name})]},i.id)})}),kA=({onAddAccount:r})=>j.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center border-4 border-black border-dashed rounded-3xl bg-white/50 m-4",children:[j.jsx("div",{className:"bg-yellow-400 p-6 rounded-full border-4 border-black shadow-hard mb-6 rotate-3",children:j.jsx(_A,{className:"w-12 h-12 text-black"})}),j.jsx("h3",{className:"text-3xl font-black text-black mb-2 uppercase tracking-tight",children:"Vazio!"}),j.jsx("p",{className:"text-slate-800 font-medium max-w-md mb-8 border-b-2 border-black/10 pb-4",children:"Nenhuma credencial encontrada. O cofre est aberto e esperando seus dados."}),j.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-8 py-4 bg-blue-600 text-white font-black rounded-lg border-2 border-black shadow-hard hover:shadow-hard-lg transition-all hover:-translate-y-1 active:translate-y-0 active:shadow-hard-sm",children:[j.jsx(S0,{size:24,strokeWidth:3}),j.jsx("span",{className:"uppercase tracking-wider",children:"Registrar Agora"})]})]});function UA({onGoogleLogin:r,loading:t,error:i}){return j.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:j.jsxs("div",{className:"w-full max-w-md",children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:j.jsx("div",{className:"bg-yellow-400 p-3 rounded-lg border-4 border-black shadow-hard",children:j.jsx(EA,{size:48,strokeWidth:2.5,className:"text-black"})})}),j.jsx("h1",{className:"text-5xl font-black text-black mb-2",style:{fontFamily:"Outfit, sans-serif"},children:"CONTASEGURA"}),j.jsx("p",{className:"text-lg text-gray-700 font-medium",children:"Gerenciador de Credenciais de Emails"})]}),j.jsxs("div",{className:"bg-white border-4 border-black shadow-hard-lg p-8 rounded-2xl",children:[j.jsxs("div",{className:"text-center mb-6",children:[j.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:"Bem-vindo!"}),j.jsx("p",{className:"text-gray-600",children:"Faa login com sua conta Google para acessar suas credenciais"})]}),i&&j.jsx("div",{className:"mb-6 bg-red-100 border-3 border-red-500 rounded-lg p-4",children:j.jsxs("p",{className:"text-red-700 font-semibold text-sm",children:[" ",i]})}),j.jsx("button",{onClick:r,disabled:t,className:"w-full bg-white hover:bg-gray-50 border-4 border-black rounded-xl p-4 font-bold text-lg transition-all active-press shadow-hard disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:t?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}),j.jsx("span",{children:"Conectando..."})]}):j.jsxs(j.Fragment,{children:[j.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[j.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),j.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),j.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),j.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),j.jsx("span",{children:"Entrar com Google"})]})}),j.jsx("div",{className:"mt-6 text-center",children:j.jsx("p",{className:"text-xs text-gray-500",children:" Seus dados so protegidos e sincronizados em tempo real com Firebase"})})]}),j.jsx("div",{className:"text-center mt-6",children:j.jsx("p",{className:"text-sm text-gray-600",children:"Apenas usurios autenticados podem acessar e gerenciar credenciais"})})]})})}const LA=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},PA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,v=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let N=(g&15)<<2|v>>6,F=v&63;y||(F=64,d||(N=64)),a.push(i[b],i[A],i[N],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(R0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):PA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||A==null)throw new zA;const N=c<<2|g>>4;if(a.push(N),v!==64){const F=g<<4&240|v>>2;if(a.push(F),A!==64){const Z=v<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(r){const t=R0(r);return I0.encodeByteArray(t,!0)},Pc=function(r){return jA(r).replace(/\./g,"")},C0=function(r){try{return I0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=()=>BA().__FIREBASE_DEFAULTS__,HA=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&C0(r[1]);return t&&JSON.parse(t)},ih=()=>{try{return LA()||qA()||HA()||FA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},N0=r=>{var t,i;return(i=(t=ih())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},GA=r=>{const t=N0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},D0=()=>{var r;return(r=ih())===null||r===void 0?void 0:r.config},O0=r=>{var t;return(t=ih())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const Tl={};function YA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function XA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Q_=!1;function V0(r,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Tl[r]===t||Tl[r]||Q_)return;Tl[r]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=YA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Q_=!0,d()},N}function b(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=XA(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),dt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ut=N.element;g(ut),b(W,et);const Tt=v();y(dt,ct),ut.append(dt,Z,W,Tt),document.body.appendChild(ut)}c?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function ZA(){var r;const t=(r=ih())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="FirebaseError";class Wi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?aS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Wi(l,g,a)}}function aS(r,t){return r.replace(oS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const oS=/\{\$([^}]+)}/g;function lS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(K_(c)&&K_(d)){if(!Fs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function K_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function uS(r,t){const i=new cS(r,t);return i.subscribe.bind(i)}class cS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new QA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===Ps?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const pS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},yS=Mt.INFO,_S={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},vS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=_S[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const ES=(r,t)=>t.some(i=>r instanceof i);let Y_,X_;function TS(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Fd=new WeakMap,k0=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function AS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Kr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&M0.set(i,r)}).catch(()=>{}),vm.set(t,r),t}function SS(r){if(Fd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Fd.set(r,t)}let Gd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Fd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||k0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Kr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function wS(r){Gd=r(Gd)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Md(this),t,...i);return k0.set(a,t.sort?t.sort():[t]),Kr(a)}:bS().includes(r)?function(...t){return r.apply(Md(this),t),Kr(M0.get(this))}:function(...t){return Kr(r.apply(Md(this),t))}}function IS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&SS(r),ES(r,TS())?new Proxy(r,Gd):r)}function Kr(r){if(r instanceof IDBRequest)return AS(r);if(Vd.has(r))return Vd.get(r);const t=IS(r);return t!==r&&(Vd.set(r,t),vm.set(t,r)),t}const Md=r=>vm.get(r);function CS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Kr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Kr(d.result),y.oldVersion,y.newVersion,Kr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const NS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],kd=new Map;function $_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=DS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&y.done]))[0]};return kd.set(t,c),c}wS(r=>({...r,get:(t,i,a)=>$_(t,i)||r.get(t,i,a),has:(t,i)=>!!$_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qd="@firebase/app",Z_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new _m("@firebase/app"),VS="@firebase/app-compat",MS="@firebase/analytics-compat",kS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",PS="@firebase/auth",zS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",FS="@firebase/functions-compat",GS="@firebase/installations",QS="@firebase/installations-compat",KS="@firebase/messaging",YS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",t2="@firebase/storage-compat",e2="@firebase/firestore",n2="@firebase/ai",i2="@firebase/firestore-compat",r2="firebase",s2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",a2={[Qd]:"fire-core",[VS]:"fire-core-compat",[kS]:"fire-analytics",[MS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[PS]:"fire-auth",[zS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[FS]:"fire-fn-compat",[GS]:"fire-iid",[QS]:"fire-iid-compat",[KS]:"fire-fcm",[YS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[t2]:"fire-gcs-compat",[e2]:"fire-fst",[i2]:"fire-fst-compat",[n2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,o2=new Map,Yd=new Map;function J_(r,t){try{r.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(Yd.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,r);for(const i of zc.values())J_(i,r);for(const i of o2.values())J_(i,r);return!0}function Em(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Ul("app","Firebase",l2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=s2;function U0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Kd,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(i||(i=D0()),!i)throw Yr.create("no-options");const c=zc.get(l);if(c){if(Fs(i,c.options)&&Fs(a,c.config))return c;throw Yr.create("duplicate-app",{appName:l})}const d=new gS(l);for(const y of Yd.values())d.addComponent(y);const g=new u2(i,a,d);return zc.set(l,g),g}function L0(r=Kd){const t=zc.get(r);if(!t&&r===Kd&&D0())return U0();if(!t)throw Yr.create("no-app",{appName:r});return t}function Xr(r,t,i){var a;let l=(a=a2[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(g.join(" "));return}$a(new Gs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firebase-heartbeat-database",h2=1,Il="firebase-heartbeat-store";let Ud=null;function P0(){return Ud||(Ud=CS(c2,h2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function f2(r){try{const i=(await P0()).transaction(Il),a=await i.objectStore(Il).get(z0(r));return await i.done,a}catch(t){if(t instanceof Wi)Xi.warn(t.message);else{const i=Yr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(i.message)}}}async function W_(r,t){try{const a=(await P0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,z0(r)),await a.done}catch(i){if(i instanceof Wi)Xi.warn(i.message);else{const a=Yr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Xi.warn(a.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=1024,m2=30;class g2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new y2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=tv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>m2){const d=_2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=tv(),{heartbeatsToSend:a,unsentEntries:l}=p2(this._heartbeatsCache.heartbeats),c=Pc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Xi.warn(i),""}}}function tv(){return new Date().toISOString().substring(0,10)}function p2(r,t=d2){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class y2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await f2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return W_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return W_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function ev(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function _2(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){$a(new Gs("platform-logger",t=>new OS(t),"PRIVATE")),$a(new Gs("heartbeat",t=>new g2(t),"PRIVATE")),Xr(Qd,Z_,r),Xr(Qd,Z_,"esm2017"),Xr("fire-js","")}v2("");var E2="firebase",T2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(E2,T2,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,j0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(x,V,k){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return S.prototype[V].apply(x,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,R){R||(R=0);var x=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)x[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],V=C.g[2];var k=C.g[3],I=S+(k^R&(V^k))+x[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+x[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+x[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+x[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(k^R&(V^k))+x[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+x[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+x[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+x[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(k^R&(V^k))+x[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+x[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+x[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+x[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(k^R&(V^k))+x[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+x[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+x[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+x[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(V^k&(R^V))+x[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+x[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+x[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+x[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^k&(R^V))+x[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+x[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+x[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+x[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^k&(R^V))+x[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+x[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+x[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+x[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^k&(R^V))+x[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+x[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+x[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+x[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(R^V^k)+x[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+x[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+x[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+x[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^k)+x[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+x[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+x[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+x[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^k)+x[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+x[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+x[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+x[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^k)+x[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+x[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+x[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+x[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(V^(R|~k))+x[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+x[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+x[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+x[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~k))+x[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+x[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+x[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+x[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~k))+x[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+x[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+x[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+x[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~k))+x[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+x[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+x[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,x=this.B,V=this.h,k=0;k<S;){if(V==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(x[V++]=C.charCodeAt(k++),V==this.blockSize){l(this,x),V=0;break}}else for(;k<S;)if(x[V++]=C[k++],V==this.blockSize){l(this,x),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var x=0;32>x;x+=8)C[R++]=this.g[S]>>>x&255;return C};function c(C,S){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;for(var R=[],x=!0,V=C.length-1;0<=V;V--){var k=C[V]|0;x&&k==S||(R[V]=k,x=!1)}this.g=R}var g={};function y(C){return-128<=C&&128>C?c(C,function(S){return new d([S|0],0>S?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return W(v(-C));for(var S=[],R=1,x=0;C>=R;x++)S[x]=C/R|0,R*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(b(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),x=A,V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V),I=parseInt(C.substring(V,V+k),S);8>k?(k=v(Math.pow(S,k)),x=x.j(k).add(v(I))):(x=x.j(R),x=x.add(v(I)))}return x}var A=y(0),N=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-W(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var x=this.i(R);C+=(0<=x?x:4294967296+x)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+W(this).toString(C);for(var S=v(Math.pow(C,6)),R=this,x="";;){var V=Tt(R,S).g;R=ct(R,V.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,Z(R))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ct(this,C),et(C)?-1:Z(C)?0:1};function W(C){for(var S=C.g.length,R=[],x=0;x<S;x++)R[x]=~C.g[x];return new d(R,~C.h).add(N)}r.abs=function(){return et(this)?W(this):this},r.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],x=0,V=0;V<=S;V++){var k=x+(this.i(V)&65535)+(C.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);x=I>>>16,k&=65535,I&=65535,R[V]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ct(C,S){return C.add(W(S))}r.j=function(C){if(Z(this)||Z(C))return A;if(et(this))return et(C)?W(this).j(W(C)):W(W(this).j(C));if(et(C))return W(this.j(W(C)));if(0>this.l(F)&&0>C.l(F))return v(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<C.g.length;V++){var k=this.i(x)>>>16,I=this.i(x)&65535,fe=C.i(V)>>>16,ye=C.i(V)&65535;R[2*x+2*V]+=I*ye,dt(R,2*x+2*V),R[2*x+2*V+1]+=k*ye,dt(R,2*x+2*V+1),R[2*x+2*V+1]+=I*fe,dt(R,2*x+2*V+1),R[2*x+2*V+2]+=k*fe,dt(R,2*x+2*V+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new d(R,0)};function dt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ut(C,S){this.g=C,this.h=S}function Tt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new ut(A,A);if(et(C))return S=Tt(W(C),S),new ut(W(S.g),W(S.h));if(et(S))return S=Tt(C,W(S)),new ut(W(S.g),S.h);if(30<C.g.length){if(et(C)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,x=S;0>=x.l(C);)R=Zt(R),x=Zt(x);var V=St(R,1),k=St(x,1);for(x=St(x,2),R=St(R,2);!Z(x);){var I=k.add(x);0>=I.l(C)&&(V=V.add(R),k=I),x=St(x,1),R=St(R,1)}return S=ct(C,V.j(S)),new ut(V,S)}for(V=A;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=v(R),I=k.j(S);et(I)||0<I.l(C);)R-=x,k=v(R),I=k.j(S);Z(k)&&(k=N),V=V.add(k),C=ct(C,I)}return new ut(V,C)}r.A=function(C){return Tt(this,C).h},r.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)&C.i(x);return new d(R,this.h&C.h)},r.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)|C.i(x);return new d(R,this.h|C.h)},r.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)^C.i(x);return new d(R,this.h^C.h)};function Zt(C){for(var S=C.g.length+1,R=[],x=0;x<S;x++)R[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(R,C.h)}function St(C,S){var R=S>>5;S%=32;for(var x=C.g.length-R,V=[],k=0;k<x;k++)V[k]=0<S?C.i(k+R)>>>S|C.i(k+R+1)<<32-S:C.i(k+R);return new d(V,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,j0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,$r=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,pl,q0,Cc,Xd,H0,F0,G0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,U={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,_){return u.call.apply(u.bind,arguments)}function A(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function N(u,m,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,N.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,U,H){for(var nt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)nt[Ht-2]=arguments[Ht];return m.prototype[U].apply(T,nt)}}function et(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const U=u.length||0,H=T.length||0;u.length=U+H;for(let nt=0;nt<H;nt++)u[U+nt]=T[nt]}else u.push(T)}}class ct{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Tt(u){return Tt[" "](u),u}Tt[" "]=function(){};var Zt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function St(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let H=0;H<R.length;H++)_=R[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function k(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Ct;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,_){const T=ye.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ye=new ct(()=>new L,u=>u.reset());class L{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let J,it=!1,Ct=new fe,Ot=()=>{const u=g.Promise.resolve(void 0);J=()=>{u.then(O)}};var O=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){k(_)}var m=ye;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}it=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function pt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Zt){t:{try{Tt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:wt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&pt.aa.h.call(this)}}Z(pt,tt);var wt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),Le=0;function se(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++Le,this.da=this.fa=!1}function Jn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function vi(u){this.src=u,this.g={},this.h=0}vi.prototype.add=function(u,m,_,T,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var nt=Js(u,m,T,U);return-1<nt?(m=u[nt],_||(m.fa=!1)):(m=new se(m,this.src,H,!!T,U),m.fa=_,u.push(m)),m};function ls(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(Jn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Js(u,m,_,T){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return U}return-1}var jn="closure_lm_"+(1e6*Math.random()|0),us={};function Ws(u,m,_,T,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Ws(u,m[H],_,T,U);return null}return _=Yl(_),u&&u[Ut]?u.K(m,_,v(T)?!!T.capture:!1,U):bh(u,m,_,!1,T,U)}function bh(u,m,_,T,U,H){if(!m)throw Error("Invalid event type");var nt=v(U)?!!U.capture:!!U,Ht=fo(u);if(Ht||(u[jn]=Ht=new vi(u)),_=Ht.add(m,_,T,nt,H),_.proxy)return _;if(T=Kl(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)ot||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ea(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kl(){function u(_){return m.call(u.src,u.listener,_)}const m=Ah;return u}function ta(u,m,_,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)ta(u,m[H],_,T,U);else T=v(T)?!!T.capture:!!T,_=Yl(_),u&&u[Ut]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Js(H,_,T,U),-1<_&&(Jn(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=fo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Js(m,_,T,U)),(_=-1<u?m[u]:null)&&cs(_))}function cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ut])ls(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ea(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=fo(m))?(ls(_,u),_.h==0&&(_.src=null,m[jn]=null)):Jn(u)}}}function ea(u){return u in us?us[u]:us[u]="on"+u}function Ah(u,m){if(u.da)u=!0;else{m=new pt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&cs(u),u=_.call(T,m)}return u}function fo(u){return u=u[jn],u instanceof vi?u:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yl(u){return typeof u=="function"?u:(u[Pe]||(u[Pe]=function(m){return u.handleEvent(m)}),u[Pe])}function Ie(){Q.call(this),this.i=new vi(this),this.M=this,this.F=null}Z(Ie,Q),Ie.prototype[Ut]=!0,Ie.prototype.removeEventListener=function(u,m,_,T){ta(this,u,m,_,T)};function De(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var U=m;m=new tt(T,u),x(m,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var nt=m.g=_[H];U=Ei(nt,T,!0,m)&&U}if(nt=m.g=u,U=Ei(nt,T,!0,m)&&U,U=Ei(nt,T,!1,m)&&U,_)for(H=0;H<_.length;H++)nt=m.g=_[H],U=Ei(nt,T,!1,m)&&U}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Jn(_[T]);delete u.g[m],u.h--}}this.F=null},Ie.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ie.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Ei(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var nt=m[H];if(nt&&!nt.da&&nt.capture==_){var Ht=nt.listener,_e=nt.ha||nt.src;nt.fa&&ls(u.i,nt),U=Ht.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function Xl(u,m,_){if(typeof u=="function")_&&(u=N(u,_));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function mo(u){u.g=Xl(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Sh extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(u){Q.call(this),this.h=u,this.g={}}Z(hs,Q);var tr=[];function Ye(u){St(u.g,function(m,_){this.g.hasOwnProperty(_)&&cs(m)},u),u.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Ye(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,en=g.JSON.parse,wh=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function go(){}go.prototype.h=null;function $l(u){return u.h||(u.h=u.i())}function fs(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){tt.call(this,"d")}Z(er,tt);function Bn(){tt.call(this,"c")}Z(Bn,tt);var Cn={},nr=null;function na(){return nr=nr||new Ie}Cn.La="serverreachability";function po(u){tt.call(this,Cn.La,u)}Z(po,tt);function Ti(u){const m=na();De(m,new po(m))}Cn.STAT_EVENT="statevent";function ir(u,m){tt.call(this,Cn.STAT_EVENT,u),this.stat=m}Z(ir,tt);function ze(u){const m=na();De(m,new ir(m,u))}Cn.Ma="timingevent";function yo(u,m){tt.call(this,Cn.Ma,u),this.size=m}Z(yo,tt);function rr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function sr(){this.g=!0}sr.prototype.xa=function(){this.g=!1};function _o(u,m,_,T,U,H){u.info(function(){if(u.g)if(H)for(var nt="",Ht=H.split("&"),_e=0;_e<Ht.length;_e++){var Rt=Ht[_e].split("=");if(1<Rt.length){var xe=Rt[0];Rt=Rt[1];var Ve=xe.split("_");nt=2<=Ve.length&&Ve[1]=="type"?nt+(xe+"="+Rt+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+nt})}function vo(u,m,_,T,U,H,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+nt})}function bi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ti(u,_)+(T?" "+T:"")})}function Zl(u,m){u.info(function(){return"TIMEOUT: "+m})}sr.prototype.info=function(){};function ti(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return In(_)}catch{return m}}var oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ar(){}Z(ar,go),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},ei=new ar;function ni(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jl}function Jl(){this.i=null,this.g="",this.h=!1}var Eo={},Ai={};function ds(u,m,_){u.L=1,u.v=ps(le(m)),u.m=_,u.P=!0,Si(u,null)}function Si(u,m){u.F=Date.now(),qn(u),u.A=le(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ii(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Jl,u.g=mu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Sh(N(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(tr[0]=U.toString()),U=tr);for(var H=0;H<U.length;H++){var nt=Ws(_,U[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ti(),_o(u.i,u.u,u.A,u.l,u.R,u.m)}ni.prototype.ca=function(u){u=u.target;const m=this.M;m&&sn(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)t:{const Ve=sn(this.g);var m=this.g.Ba();const vr=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||vs(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=vr?Ti(3):Ti(2)),ia(this);var _=this.g.Z();this.X=_;e:if(wi(this)){var T=vs(this.g);u="";var U=T.length,H=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),or(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,vo(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ht,_e=this.g;if((Ht=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Ht)){var Rt=Ht;break e}}Rt=null}if(_=Rt)bi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ii(this,_);else{this.o=!1,this.s=3,ze(12),nn(this),or(this);break t}}if(this.P){_=!0;let un;for(;!this.J&&this.C<nt.length;)if(un=ms(this,nt),un==Ai){Ve==4&&(this.s=4,ze(14),_=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Eo){this.s=4,ze(15),bi(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else bi(this.i,this.l,un,null),ii(this,un);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||nt.length!=0||this.h.h||(this.s=1,ze(16),_=!1),this.o=this.o&&_,!_)bi(this.i,this.l,nt,"[Invalid Chunked Response]"),nn(this),or(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Oo(xe),xe.M=!0,ze(11))}}else bi(this.i,this.l,nt,null),ii(this,nt);Ve==4&&nn(this),this.o&&!this.J&&(Ve==4?hu(this.j,this):(this.o=!1,qn(this)))}else su(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),nn(this),or(this)}}}catch{}finally{}};function wi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ms(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ai:(_=Number(m.substring(_,T)),isNaN(_)?Eo:(T+=1,T+_>m.length?Ai:(m=m.slice(T,T+_),u.C=T+_,m)))}ni.prototype.cancel=function(){this.J=!0,nn(this)};function qn(u){u.S=Date.now()+u.I,de(u,u.I)}function de(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=rr(N(u.ba,u),m)}function ia(u){u.B&&(g.clearTimeout(u.B),u.B=null)}ni.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zl(this.i,this.A),this.L!=2&&(Ti(),ze(17)),nn(this),this.s=2,or(this)):de(this,this.S-u)};function or(u){u.j.G==0||u.J||hu(u.j,u)}function nn(u){ia(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ye(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ii(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||lr(_.h,u))){if(!u.K&&lr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)yr(_),pr(_);else break t;Do(_),ze(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(N(_.Za,_),6e3));if(1>=Wl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((u.K||_.g==u)&&yr(_),!dt(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Rt=U[m];if(_.T=Rt[0],Rt=Rt[1],_.G==2)if(Rt[0]=="c"){_.K=Rt[1],_.ia=Rt[2];const xe=Rt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const Ve=Rt[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const vr=Rt[5];vr!=null&&typeof vr=="number"&&0<vr&&(T=1.5*vr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const un=u.g;if(un){const bs=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var H=T.h;H.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ur(H,H.h),H.h=null))}if(T.D){const Di=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Di&&(T.ya=Di,zt(T.I,T.D,Di))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var nt=u;if(T.qa=du(T,T.J?T.ia:null,T.W),nt.K){Nn(T.h,nt);var Ht=nt,_e=T.L;_e&&(Ht.I=_e),Ht.B&&(ia(Ht),qn(Ht)),T.g=nt}else uu(T);0<_.i.length&&ha(_)}else Rt[0]!="stop"&&Rt[0]!="close"||Ni(_,7);else _.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Ni(_,7):Co(_):Rt[0]!="noop"&&_.l&&_.l.ta(Rt),_.v=0)}}Ti(4)}catch{}}var Rh=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wl(u){return u.h?1:u.g?u.g.size:0}function lr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ur(u,m){u.g?u.g.add(m):u.h=m}function Nn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return et(u.i)}function tu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Ih(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function ra(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ih(u),T=tu(u),U=T.length,H=0;H<U;H++)m.call(void 0,T[H],_&&_[H],u)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),U=null;if(0<=T){var H=u[_].substring(0,T);U=u[_].substring(T+1)}else H=u[_];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ri){this.h=u.h,cr(this,u.j),this.o=u.o,this.g=u.g,gs(this,u.s),this.l=u.l;var m=u.i,_=new ri;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),aa(this,_),this.m=u.m}else u&&(m=String(u).match(Ao))?(this.h=!1,cr(this,m[1]||"",!0),this.o=hr(m[2]||""),this.g=hr(m[3]||"",!0),gs(this,m[4]),this.l=hr(m[5]||"",!0),aa(this,m[6]||"",!0),this.m=hr(m[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Ri.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Dn(m,So,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dn(m,So,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dn(_,_.charAt(0)=="/"?wo:eu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dn(_,Dh)),u.join("")};function le(u){return new Ri(u)}function cr(u,m,_){u.j=_?hr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function aa(u,m,_){m instanceof ri?(u.i=m,nu(u.i,u.h)):(_||(m=Dn(m,Nh)),u.i=new ri(m,u.h))}function zt(u,m,_){u.i.set(m,_)}function ps(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function hr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Ch),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ch(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var So=/[#\/\?@]/g,eu=/[#\?:]/g,wo=/[#\?]/g,Nh=/[#\?@]/g,Dh=/#/g;function ri(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Oe(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ri.prototype,r.add=function(u,m){Oe(this),this.i=null,u=yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function oa(u,m){Oe(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function la(u,m){return Oe(u),m=yn(u,m),u.g.has(m)}r.forEach=function(u,m){Oe(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){Oe(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const U=u[T];for(let H=0;H<U.length;H++)_.push(m[T])}return _},r.V=function(u){Oe(this);let m=[];if(typeof u=="string")la(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Oe(this),this.i=null,u=yn(this,u),la(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ii(u,m,_){oa(u,m),0<_.length&&(u.i=null,u.g.set(yn(u,m),et(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var U=H;nt[T]!==""&&(U+="="+encodeURIComponent(String(nt[T]))),u.push(U)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nu(u,m){m&&!u.j&&(Oe(u),u.i=null,u.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(oa(this,T),Ii(this,U,_))},u)),u.j=m}function Ro(u,m){const _=new sr;if(g.Image){const T=new Image;T.onload=F(ln,_,"TestLoadImage: loaded",!0,m,T),T.onerror=F(ln,_,"TestLoadImage: error",!1,m,T),T.onabort=F(ln,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(ln,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function iu(u,m){const _=new sr,T=new AbortController,U=setTimeout(()=>{T.abort(),ln(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?ln(_,"TestPingServer: ok",!0,m):ln(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),ln(_,"TestPingServer: error",!1,m)})}function ln(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function Hn(){this.g=new wh}function Io(u,m,_){const T=_||"";try{ra(u,function(U,H){let nt=U;v(U)&&(nt=In(U)),m.push(T+H+"="+encodeURIComponent(nt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function si(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(si,go),si.prototype.g=function(){return new _n(this.l,this.j)},si.prototype.i=(function(u){return function(){return u}})({});function _n(u,m){Ie.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(_n,Ie),r=_n.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,fr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ua(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ai(this):fr(this),this.readyState==3&&ua(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ai(this))},r.Qa=function(u){this.g&&(this.response=u,ai(this))},r.ga=function(){this.g&&ai(this)};function ai(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fr(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function fr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ys(u){let m="";return St(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function dr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=ys(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,m,_))}function te(u){Ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(te,Ie);var Xe=/^https?$/i,Ci=["POST","PUT"];r=te.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?$l(this.o):$l(ei),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){_s(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ci,m,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){_s(this,H)}};function _s(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,mr(u),gr(u)}function mr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,De(this,"complete"),De(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),te.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ru(this):this.bb())},r.bb=function(){ru(this)};function ru(u){if(u.h&&typeof d<"u"&&(!u.v[1]||sn(u)!=4||u.Z()!=2)){if(u.u&&sn(u)==4)Xl(u.Ea,0,u);else if(De(u,"readystatechange"),sn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=nt===0){var U=String(u.D).match(Ao)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Xe.test(U?U.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.m=6;try{var H=2<sn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",mr(u)}}finally{gr(u)}}}}function gr(u,m){if(u.g){ca(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||De(u,"ready");try{_.onreadystatechange=T}catch{}}}function ca(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),en(m)}};function vs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function su(u){const m={};u=(u.g&&2<=sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var _=V(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}C(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function au(u){this.Aa=0,this.i=[],this.j=new sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,u),this.cb=Es("retryDelaySeedMs",1e4,u),this.Wa=Es("forwardChannelMaxRetries",2,u),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new To(u&&u.concurrentRequestLimit),this.Da=new Hn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=au.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){ze(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=du(this,null,this.W),ha(this)};function Co(u){if(ou(u),u.G==3){var m=u.U++,_=le(u.I);if(zt(_,"SID",u.K),zt(_,"RID",m),zt(_,"TYPE","terminate"),Ts(u,_),m=new ni(u,u.j,m),m.L=2,m.v=ps(le(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qn(m)}xo(u)}function pr(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function ou(u){pr(u),u.u&&(g.clearTimeout(u.u),u.u=null),yr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ha(u){if(!bo(u.h)&&!u.s){u.s=!0;var m=u.Ga;J||Ot(),it||(J(),it=!0),Ct.add(m,u),u.B=0}}function Oh(u,m){return Wl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=rr(N(u.Ga,u,m),fu(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new ni(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=No(this,U,m),_=le(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),Ts(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(ys(H)))+"&"+m:this.m&&dr(_,this.m,H)),ur(this.h,U),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",m),zt(_,"SID","null"),U.T=!0,ds(U,_,null)):ds(U,_,m),this.G=2}}else this.G==3&&(u?lu(this,u):this.i.length==0||bo(this.h)||lu(this))};function lu(u,m){var _;m?_=m.l:_=u.U++;const T=le(u.I);zt(T,"SID",u.K),zt(T,"RID",_),zt(T,"AID",u.T),Ts(u,T),u.m&&u.o&&dr(T,u.m,u.o),_=new ni(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ur(u.h,_),ds(_,T,m)}function Ts(u,m){u.H&&St(u.H,function(_,T){zt(m,T,_)}),u.l&&ra({},function(_,T){zt(m,T,_)})}function No(u,m,_){_=Math.min(u.i.length,_);var T=u.l?N(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=U[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Ht=!0;for(let _e=0;_e<_;_e++){let Rt=U[_e].g;const xe=U[_e].map;if(Rt-=H,0>Rt)H=Math.max(0,U[_e].g-100),Ht=!1;else try{Io(xe,nt,"req"+Rt+"_")}catch{T&&T(xe)}}if(Ht){T=nt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function uu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;J||Ot(),it||(J(),it=!0),Ct.add(m,u),u.v=0}}function Do(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=rr(N(u.Fa,u),fu(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=rr(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),pr(this),cu(this))};function Oo(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new ni(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=le(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),Ts(u,m),u.m&&u.o&&dr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ps(le(m)),_.m=null,_.P=!0,Si(_,u)}r.Za=function(){this.C!=null&&(this.C=null,pr(this),Do(this),ze(19))};function yr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){yr(u),Oo(u),u.g=null;var T=2}else if(lr(u.h,m))_=m.D,Nn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=na(),De(T,new yo(T,_)),ha(u)}else uu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Oh(u,m)||T==2&&Do(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function fu(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var _=N(u.fb,u),T=u.Xa;const U=!T;T=new Ri(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||cr(T,"https"),ps(T),U?Ro(T.toString(),_):iu(T.toString(),_)}else ze(2);u.G=0,u.l&&u.l.sa(m),xo(u),ou(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=rn(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function du(u,m,_){var T=_ instanceof Ri?le(_):new Ri(_);if(T.g!="")m&&(T.g=m+"."+T.g),gs(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new Ri(null);T&&cr(H,T),m&&(H.g=m),U&&gs(H,U),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&zt(T,_,m),zt(T,"VER",u.la),Ts(u,T),T}function mu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new te(new si({eb:_})):new te(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fa(){}fa.prototype.g=function(u,m){return new an(u,m)};function an(u,m){Ie.call(this),this.g=new au(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new _r(this)}Z(an,Ie),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Co(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);m.i.push(new Rh(m.Ya++,u)),m.G==3&&ha(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,an.aa.N.call(this)};function pu(u){er.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(pu,er);function yu(){Bn.call(this),this.status=1}Z(yu,Bn);function _r(u){this.g=u}Z(_r,gu),_r.prototype.ua=function(){De(this.g,"a")},_r.prototype.ta=function(u){De(this.g,new pu(u))},_r.prototype.sa=function(u){De(this.g,new yu)},_r.prototype.ra=function(){De(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,G0=function(){return new fa},F0=function(){return na()},H0=Cn,Xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,Cc=oe,je.COMPLETE="complete",q0=je,fs.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,pl=fs,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,B0=te}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",rv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new _m("@firebase/firestore");function Ba(){return Qs.logLevel}function st(r,...t){if(Qs.logLevel<=Mt.DEBUG){const i=t.map(Tm);Qs.debug(`Firestore (${ao}): ${r}`,...i)}}function $i(r,...t){if(Qs.logLevel<=Mt.ERROR){const i=t.map(Tm);Qs.error(`Firestore (${ao}): ${r}`,...i)}}function Wr(r,...t){if(Qs.logLevel<=Mt.WARN){const i=t.map(Tm);Qs.warn(`Firestore (${ao}): ${r}`,...i)}}function Tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Q0(r,a,i)}function Q0(r,t,i){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Q0(t,l,a)}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Wi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class A2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Bs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Bs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new K0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class w2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=C2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function It(r,t){return r<t?-1:r>t?1:0}function $d(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return It(a,l);{const c=Y0(),d=N2(c.encode(av(r,i)),c.encode(av(t,i)));return d!==0?d:It(a,l)}}i+=a>65535?2:1}return It(r.length,t.length)}function av(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function N2(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return It(r[i],t[i]);return It(r.length,t.length)}function Za(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class hi{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=hi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return It(t.length,i.length)}static compareSegments(t,i){const a=hi.isNumericId(t),l=hi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?hi.extractNumericId(t).compare(hi.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class Jt extends hi{construct(t,i,a){return new Jt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends hi{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return D2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Qe([ov])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Jt.fromString(t))}static fromName(t){return new ft(Jt.fromString(t).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function O2(r,t,i,a){if(t===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function lv(r){if(!ft.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uv(r){if(ft.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Zr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rh(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,t){const i={typeString:r};return t&&(i.value=t),i}function Pl(r,t){if(!$0(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*hv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<cv)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:we("string",ie._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function x2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new ts(l,ft.empty(),t)}function V2(r){return new ts(r.readTime,r.key,Cl)}class ts{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ts(_t.min(),ft.empty(),Cl)}static max(){return new ts(_t.max(),ft.empty(),Cl)}}function M2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==k2)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((b=>{d[v]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function L2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}sh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function ah(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function P2(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function z2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=fv(t)),t=j2(r.get(i),t);return fv(t)}function j2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Z0:i+="";break;default:i+=c}}return i}function fv(r){return r+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function as(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function J0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ne(this.comparator);return i.data=t,i}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new Ne(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new W0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const B2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=B2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="server_timestamp",eE="__type__",nE="__previous_value__",iE="__local_write_time__";function Sm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[eE])===null||i===void 0?void 0:i.stringValue)===tE}function oh(r){const t=r.mapValue.fields[nE];return Sm(t)?oh(t):t}function Nl(r){const t=es(r.mapValue.fields[iE].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,i,a,l,c,d,g,y,v,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const Bc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Bc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",H2="__max__",Ac={mapValue:{}},sE="__vector__",qc="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:G2(r)?9007199254740991:F2(r)?10:11:gt(28295,{value:r})}function yi(r,t){if(r===t)return!0;const i=is(r);if(i!==is(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nl(r).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=es(l.timestampValue),g=es(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ns(l.bytesValue).isEqual(ns(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?jc(d)===jc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(dv(d)!==dv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!yi(d[y],g[y])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Ol(r,t){return(r.values||[]).find((i=>yi(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=is(r),a=is(t);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),y=pe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return gv(r.timestampValue,t.timestampValue);case 4:return gv(Nl(r),Nl(t));case 5:return $d(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ns(c),y=ns(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const b=It(g[v],y[v]);if(b!==0)return b}return It(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=It(pe(c.latitude),pe(d.latitude));return g!==0?g:It(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){var g,y,v,b;const A=c.fields||{},N=d.fields||{},F=(g=A[qc])===null||g===void 0?void 0:g.arrayValue,Z=(y=N[qc])===null||y===void 0?void 0:y.arrayValue,et=It(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((b=Z==null?void 0:Z.values)===null||b===void 0?void 0:b.length)||0);return et!==0?et:pv(F,Z)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const N=$d(y[A],b[A]);if(N!==0)return N;const F=Ja(g[y[A]],v[b[A]]);if(F!==0)return F}return It(y.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{le:i})}}function gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const i=es(r),a=es(t),l=It(i.seconds,a.seconds);return l!==0?l:It(i.nanos,a.nanos)}function pv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return It(i.length,a.length)}function Wa(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=es(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ns(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Zd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Nc(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(r);return t?16+Nc(t):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Nc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return as(a.fields,((c,d)=>{l+=c.length+Nc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Jd(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function F2(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[rE])===null||i===void 0?void 0:i.stringValue)===sE}function bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return as(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function G2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=bl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){as(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new pn(bl(this.value))}}function aE(r){const t=[];return as(r.fields,((i,a)=>{const l=new Qe([i]);if(Dc(a)){const c=aE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,_t.min(),_t.min(),_t.min(),pn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,_t.min(),_t.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,_t.min(),_t.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!yi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,i="asc"){this.field=t,this.dir=i}}function Q2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class Se extends oE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Y2(t,i,a):i==="array-contains"?new Z2(t,a):i==="in"?new J2(t,a):i==="not-in"?new W2(t,a):i==="array-contains-any"?new tw(t,a):new Se(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new X2(t,a):new $2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&is(this.value)===is(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends oE{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new Zn(t,i)}matches(t){return lE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function lE(r){return r.op==="and"}function uE(r){return K2(r)&&lE(r)}function K2(r){for(const t of r.filters)if(t instanceof Zn)return!1;return!0}function Wd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(uE(r))return r.filters.map((t=>Wd(t))).join(",");{const t=r.filters.map((i=>Wd(i))).join(",");return`${r.op}(${t})`}}function cE(r,t){return r instanceof Se?(function(a,l){return l instanceof Se&&a.op===l.op&&a.field.isEqual(l.field)&&yi(a.value,l.value)})(r,t):r instanceof Zn?(function(a,l){return l instanceof Zn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&cE(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function hE(r){return r instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"})(r):"Filter"}class Y2 extends Se{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class X2 extends Se{constructor(t,i){super(t,"in",i),this.keys=fE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class $2 extends Se{constructor(t,i){super(t,"not-in",i),this.keys=fE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function fE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>ft.fromName(a.referenceValue)))}class Z2 extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Ol(i.arrayValue,this.value)}}class J2 extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class W2 extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class tw extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ol(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function bv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new ew(r,t,i,a,l,c,d)}function Rm(r){const t=Et(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Pe=i}return t.Pe}function Im(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Q2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!cE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function tm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nw(r,t,i,a,l,c,d,g){return new uo(r,t,i,a,l,c,d,g)}function Cm(r){return new uo(r)}function Av(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dE(r){return r.collectionGroup!==null}function Al(r){const t=Et(r);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ne(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new xl(c,a))})),i.has(Qe.keyField().canonicalString())||t.Te.push(new xl(Qe.keyField(),a))}return t.Te}function fi(r){const t=Et(r);return t.Ie||(t.Ie=iw(t,Al(r))),t.Ie}function iw(r,t){if(r.limitType==="F")return bv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new xl(l.field,c)}));const i=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return bv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function em(r,t){const i=r.filters.concat([t]);return new uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function nm(r,t,i){return new uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function lh(r,t){return Im(fi(r),fi(t))&&r.limitType===t.limitType}function mE(r){return`${Rm(fi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>hE(l))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(fi(r))}; limitType=${r.limitType})`}function uh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const v=Ev(d,g,y);return d.inclusive?v<=0:v<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,y){const v=Ev(d,g,y);return d.inclusive?v>=0:v>0})(a.endAt,Al(a),l))})(r,t)}function rw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gE(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const c=sw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function sw(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?Ja(y,v):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){as(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new ae(ft.comparator);function Zi(){return aw}const pE=new ae(ft.comparator);function yl(...r){let t=pE;for(const i of r)t=t.insert(i.key,i);return t}function yE(r){let t=pE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zs(){return Sl()}function _E(){return Sl()}function Sl(){return new Xs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const ow=new ae(ft.comparator),lw=new Ne(ft.comparator);function kt(...r){let t=lw;for(const i of r)t=t.add(i);return t}const uw=new Ne(It);function cw(){return uw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function vE(r){return{integerValue:""+r}}function hw(r,t){return P2(t)?vE(t):Nm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function fw(r,t,i){return r instanceof Fc?(function(l,c){const d={fields:{[eE]:{stringValue:tE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=oh(c)),c&&(d.fields[nE]=c),{mapValue:d}})(i,t):r instanceof Vl?TE(r,t):r instanceof Ml?bE(r,t):(function(l,c){const d=EE(l,c),g=Sv(d)+Sv(l.Ee);return Jd(d)&&Jd(l.Ee)?vE(g):Nm(l.serializer,g)})(r,t)}function dw(r,t,i){return r instanceof Vl?TE(r,t):r instanceof Ml?bE(r,t):i}function EE(r,t){return r instanceof Gc?(function(a){return Jd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Fc extends ch{}class Vl extends ch{constructor(t){super(),this.elements=t}}function TE(r,t){const i=AE(t);for(const a of r.elements)i.some((l=>yi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends ch{constructor(t){super(),this.elements=t}}function bE(r,t){let i=AE(t);for(const a of r.elements)i=i.filter((l=>!yi(l,a)));return{arrayValue:{values:i}}}class Gc extends ch{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function Sv(r){return pe(r.integerValue||r.doubleValue)}function AE(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function mw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Vl&&l instanceof Vl||a instanceof Ml&&l instanceof Ml?Za(a.elements,l.elements,yi):a instanceof Gc&&l instanceof Gc?yi(a.Ee,l.Ee):a instanceof Fc&&l instanceof Fc})(r.transform,t.transform)}class gw{constructor(t,i){this.version=t,this.transformResults=i}}class Xn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class hh{}function SE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dm(r.key,Xn.none()):new zl(r.key,r.data,Xn.none());{const i=r.data,a=pn.empty();let l=new Ne(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new os(r.key,a,new Rn(l.toArray()),Xn.none())}}function pw(r,t,i){r instanceof zl?(function(l,c,d){const g=l.value.clone(),y=Rv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof os?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(wE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(r,t,i,a){return r instanceof zl?(function(c,d,g,y){if(!Oc(c.precondition,d))return g;const v=c.value.clone(),b=Iv(c.fieldTransforms,y,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof os?(function(c,d,g,y){if(!Oc(c.precondition,d))return g;const v=Iv(c.fieldTransforms,y,d),b=d.data;return b.setAll(wE(c)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function yw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=EE(a.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>mw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class zl extends hh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class os extends hh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Rv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,dw(d,g,i[l]))}return a}function Iv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fw(c,d,t))}return a}class Dm extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&pw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=_E();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=SE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>wv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>wv(i,a)))}}class Om{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{Ve:t.mutations.length,me:a.length});let l=(function(){return ow})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Om(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Pt;function bw(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function RE(r){if(r===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ae.OK:return X.OK;case Ae.CANCELLED:return X.CANCELLED;case Ae.UNKNOWN:return X.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return X.INTERNAL;case Ae.UNAVAILABLE:return X.UNAVAILABLE;case Ae.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ae.NOT_FOUND:return X.NOT_FOUND;case Ae.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ae.ABORTED:return X.ABORTED;case Ae.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ae.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Pt=Ae||(Ae={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new $r([4294967295,4294967295],0);function Cv(r){const t=Y0().encode(r),i=new j0;return i.update(t),new Uint8Array(i.digest())}function Nv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,a],0),new $r([l,c],0)]}class xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=$r.fromNumber(this.fe)}pe(t,i,a){let l=t.add(i.multiply($r.fromNumber(a)));return l.compare(Aw)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=Cv(t),[a,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(a,l,c);if(!this.ye(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new xm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.fe===0)return;const i=Cv(t),[a,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(a,l,c);this.we(d)}}we(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new fh(_t.min(),l,new ae(It),Zi(),kt())}}class jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jl(a,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.be=l}}class IE{constructor(t,i){this.targetId=t,this.De=i}}class CE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Dv{constructor(){this.ve=0,this.Ce=Ov(),this.Fe=Ke.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=kt(),i=kt(),a=kt();return this.Ce.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new jl(this.Fe,this.Me,t,i,a)}ke(){this.xe=!1,this.Ce=Ov()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Sw{constructor(t){this.We=t,this.Ge=new Map,this.ze=Zi(),this.je=Sc(),this.Je=Sc(),this.He=new ae(It)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,(i=>{const a=this.tt(i);switch(t.state){case 0:this.nt(i)&&a.Be(t.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(t.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach(((a,l)=>{this.nt(l)&&i(l)}))}it(t){const i=t.targetId,a=t.De.count,l=this.st(i);if(l){const c=l.target;if(tm(c))if(a===0){const d=new ft(c.path);this.Xe(i,d,We.newNoDocument(d,_t.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const g=this._t(t),y=g?this.ut(g,t,d):1;if(y!==0){this.rt(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ns(a).toUint8Array()}catch(y){if(y instanceof W0)return Wr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new xm(d,l,c)}catch(y){return Wr(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(t,i,a){return i.De.count===a-this.ht(t,i.targetId)?0:2}ht(t,i){const a=this.We.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(i,c,null),l++)})),l}Pt(t){const i=new Map;this.Ge.forEach(((c,d)=>{const g=this.st(d);if(g){if(c.current&&tm(g.target)){const y=new ft(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,We.newNoDocument(y,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}}));let a=kt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.st(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.ze.forEach(((c,d)=>d.setReadTime(t)));const l=new fh(t,i,this.He,this.ze,a);return this.ze=Zi(),this.je=Sc(),this.Je=Sc(),this.He=new ae(It),l}Ze(t,i){if(!this.nt(t))return;const a=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,a){if(!this.nt(t))return;const l=this.tt(t);this.It(t,i)?l.qe(i,1):l.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new Dv,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ne(It),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ne(It),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Dv),this.We.getRemoteKeysForTarget(t).forEach((i=>{this.Xe(t,i,null)}))}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new ae(ft.comparator)}function Ov(){return new ae(ft.comparator)}const ww={asc:"ASCENDING",desc:"DESCENDING"},Rw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iw={and:"AND",or:"OR"};class Cw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function Qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Nw(r,t){return Qc(r,t.toTimestamp())}function di(r){return Ft(!!r,49232),_t.fromTimestamp((function(i){const a=es(i);return new ie(a.seconds,a.nanos)})(r))}function Vm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function DE(r){const t=Jt.fromString(r);return Ft(kE(t),10190,{key:t.toString()}),t}function sm(r,t){return Vm(r.databaseId,t.path)}function Ld(r,t){const i=DE(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(xE(i))}function OE(r,t){return Vm(r.databaseId,t)}function Dw(r){const t=DE(r);return t.length===4?Jt.emptyPath():xE(t)}function am(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xv(r,t,i){return{name:sm(r,t),fields:i.value.mapValue.fields}}function Ow(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const b=v.code===void 0?X.UNKNOWN:RE(v.code);return new rt(b,v.message||"")})(d);i=new CE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ld(r,a.document.name),c=di(a.document.updateTime),d=a.document.createTime?di(a.document.createTime):_t.min(),g=new pn({mapValue:{fields:a.document.fields}}),y=We.newFoundDocument(l,c,d,g),v=a.targetIds||[],b=a.removedTargetIds||[];i=new xc(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ld(r,a.document),c=a.readTime?di(a.readTime):_t.min(),d=We.newNoDocument(l,c),g=a.removedTargetIds||[];i=new xc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ld(r,a.document),c=a.removedTargetIds||[];i=new xc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{At:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Tw(l,c),g=a.targetId;i=new IE(g,d)}}return i}function xw(r,t){let i;if(t instanceof zl)i={update:xv(r,t.key,t.value)};else if(t instanceof Dm)i={delete:sm(r,t.key)};else if(t instanceof os)i={update:xv(r,t.key,t.data),updateMask:Bw(t.fieldMask)};else{if(!(t instanceof _w))return gt(16599,{Rt:t.type});i={verify:sm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Nw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function Vw(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?di(l.updateTime):di(c);return d.isEqual(_t.min())&&(d=di(c)),new gw(d,l.transformResults||[])})(i,t)))):[]}function Mw(r,t){return{documents:[OE(r,t.path)]}}function kw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=OE(r,l);const c=(function(v){if(v.length!==0)return ME(Zn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((b=>(function(N){return{field:Ha(N.field),direction:Pw(N.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=im(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{Vt:i,parent:l}}function Uw(r){let t=Dw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const N=VE(A);return N instanceof Zn&&uE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(Z){return new xl(Fa(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,ah(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(A){const N=!!A.before,F=A.values||[];return new Hc(F,N)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const N=!A.before,F=A.values||[];return new Hc(F,N)})(i.endAt)),nw(t,l,d,c,g,"F",y,v)}function Lw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Se.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((a=>VE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Pw(r){return ww[r]}function zw(r){return Rw[r]}function jw(r){return Iw[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Qe.fromServerFormat(r.fieldPath)}function ME(r){return r instanceof Se?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:zw(i.op),value:i.value}}})(r):r instanceof Zn?(function(i){const a=i.getFilters().map((l=>ME(l)));return a.length===1?a[0]:{compositeFilter:{op:jw(i.op),filters:a}}})(r):gt(54877,{filter:r})}function Bw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.gt=t}}function Hw(r){const t=Uw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Dn=new Gw}addToCollectionParentIndex(t,i){return this.Dn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ts.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ts.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Gw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ne(Jt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ne(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(UE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new to(0)}static ur(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",Qw=1048576;function kv([r,t],[i,a]){const l=It(r,i);return l===0?It(t,a):l}class Kw{constructor(t){this.Tr=t,this.buffer=new Ne(kv),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Yw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(Mv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?st(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Rr(3e5)}))}}class Xw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(sh.ue);const a=new Kw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.gr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Vv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.pr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let a,l,c,d,g,y,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(v=Date.now(),Ba()<=Mt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function $w(r,t){return new Xw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.changes=new Xs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&wl(a.mutation,l,Rn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=zs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=Zi();const d=Sl(),g=(function(){return Sl()})();return i.forEach(((y,v)=>{const b=a.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof os)?c=c.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),wl(b.mutation,v,b.mutation.getFieldMask(),ie.now())):d.set(v.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>{var A;return g.set(v,new Jw(b,(A=d.get(v))!==null&&A!==void 0?A:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new ae(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let b=a.get(y)||Rn.empty();b=g.applyToLocalView(v,b),a.set(y,b);const A=(l.get(g.batchId)||kt()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,b=y.value,A=_E();b.forEach((N=>{if(!c.has(N)){const F=SE(i.get(N),a.get(N));F!==null&&A.set(N,F),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(zs());let g=Cl,y=c;return d.next((v=>$.forEach(v,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((N=>{y=y.insert(b,N)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,kt()))).next((b=>({batchId:g,changes:yE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(y=>{const v=(function(A,N){return new uo(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((b=>{b.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,We.newInvalidDocument(b)))}));let g=yl();return d.forEach(((y,v)=>{const b=c.get(y);b!==void 0&&wl(b.mutation,v,Rn.empty(),ie.now()),uh(i,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return $.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:di(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,(function(l){return{name:l.name,query:Hw(l.bundledQuery),readTime:di(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.overlays=new ae(ft.comparator),this.kr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.wt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.kr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.kr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=zs(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ae(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=c.get(v.largestBatchId);b===null&&(b=zs(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=zs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=l)););return $.resolve(g)}wt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(a.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ew(i,a));let c=this.kr.get(i);c===void 0&&(c=kt(),this.kr.set(i,c)),this.kr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.qr=new Ne(ke.Qr),this.$r=new Ne(ke.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new ke(t,i))}Gr(t,i){t.forEach((a=>this.removeReference(a,i)))}zr(t){const i=new ft(new Jt([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.$r.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new ft(new Jt([])),a=new ke(i,t),l=new ke(i,t+1);let c=kt();return this.$r.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return ft.comparator(t.key,i.key)||It(t.Hr,i.Hr)}static Ur(t,i){return It(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ne(ke.Qr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Yr=this.Yr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Am:this.er-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ne(It);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ft(c),0);let g=new Ne(It);return this.Yr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.Hr)),!0)}),d),$.resolve(this.ei(g))}ei(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return $.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Yr=a}))}rr(t){}containsKey(t,i){const a=new ke(i,0),l=this.Yr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.ni=t,this.docs=(function(){return new ae(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=Zi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Zi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||M2(V2(b),a)<=0||(l.has(b.key)||uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ri(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sR(this)}getSize(t){return $.resolve(this.size)}}class sR extends Zw{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Or.addEntry(t,l)):this.Or.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.persistence=t,this.ii=new Xs((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.si=0,this.oi=new Mm,this.targetCount=0,this._i=to.ar()}forEachTarget(t,i){return this.ii.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),$.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new to(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.hr(i),$.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ii.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ii.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.oi.Kr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.oi.Gr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.oi.Jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i){this.ai={},this.overlays={},this.ui=new sh(0),this.ci=!1,this.ci=!0,this.li=new nR,this.referenceDelegate=t(this),this.hi=new aR(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(l){return new rR(l)})((a=>this.referenceDelegate.Pi(a))),this.serializer=new qw(i),this.Ti=new tR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new eR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ai[t.toKey()];return a||(a=new iR(i,this.referenceDelegate),this.ai[t.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new oR(this.ui.next());return this.referenceDelegate.Ii(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this.ai).map((a=>()=>a.containsKey(t,i))))}}class oR extends U2{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Ai=new Mm,this.Ri=null}static Vi(t){return new km(t)}get mi(){if(this.Ri)return this.Ri;throw gt(60996)}addReference(t,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach((l=>this.mi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.mi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,(a=>{const l=ft.fromPath(a);return this.fi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ri=null,i.apply(t))))}updateLimboDocument(t,i){return this.fi(t,i).next((a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(t){return 0}fi(t,i){return $.or([()=>$.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Kc{constructor(t,i){this.persistence=t,this.gi=new Xs((a=>z2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=$w(this,i)}static Vi(t,i){return new Kc(t,i)}Ii(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}yr(t){let i=0;return this.gr(t,(a=>{i++})).next((()=>i))}gr(t,i){return $.forEach(this.gi,((a,l)=>this.Sr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,(d=>this.Sr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.gi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.gi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),$.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}Sr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.gi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Is=a,this.ds=l}static Es(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return nS()?8:L2(tn())>0?6:4})()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ps(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ys(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lR;return this.ws(t,i,d).next((g=>{if(c.result=g,this.Rs)return this.Ss(t,i,d,g.size)}))})).next((()=>c.result))}Ss(t,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ba()<=Mt.DEBUG&&st("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.fs*l?(Ba()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(i))):$.resolve())}ps(t,i){if(Av(i))return $.resolve(null);let a=fi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=fi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.gs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.bs(i,g);return this.Ds(i,v,d,y.readTime)?this.ps(t,nm(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ys(t,i,a,l){return Av(i)||l.isEqual(_t.min())?$.resolve(null):this.gs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ds(i,d,a,l)?$.resolve(null):(Ba()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,x2(l,Cl)).next((g=>g)))}))}bs(t,i){let a=new Ne(gE(t));return i.forEach(((l,c)=>{uh(t,c)&&(a=a.add(c))})),a}Ds(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,i,a){return Ba()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",qa(i)),this.gs.getDocumentsMatchingQuery(t,i,ts.min(),a)}vs(t,i,a,l){return this.gs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",cR=3e8;class hR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.Fs=new ae(It),this.Ms=new Xs((c=>Rm(c)),Im),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(a)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ww(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Fs)))}}function fR(r,t,i,a){return new hR(r,t,i,a)}async function PE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=kt();for(const v of l){d.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of c){g.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Bs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function dR(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,b){const A=v.batch,N=A.keys();let F=$.resolve();return N.forEach((Z=>{F=F.next((()=>b.getEntry(y,Z))).next((et=>{const W=v.docVersions.get(Z);Ft(W!==null,48541),et.version.compareTo(W)<0&&(A.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),b.addEntry(et)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=kt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function zE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.hi.getLastRemoteSnapshotVersion(i)))}function mR(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});l=i.Fs;const g=[];t.targetChanges.forEach(((b,A)=>{const N=l.get(A);if(!N)return;g.push(i.hi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.hi.addMatchingKeys(c,b.addedDocuments,A))));let F=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(A,F),(function(et,W,ct){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=cR?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(N,F,b)&&g.push(i.hi.updateTargetData(c,F))}));let y=Zi(),v=kt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(gR(c,d,t.documentUpdates).next((b=>{y=b.Ls,v=b.ks}))),!a.isEqual(_t.min())){const b=i.hi.getLastRemoteSnapshotVersion(c).next((A=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Fs=l,c)))}function gR(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Zi();return i.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(Lm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Ls:d,ks:l}}))}function pR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function yR(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.hi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.hi.allocateTargetId(a).next((d=>(l=new Qr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Fs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(t,a.targetId)),a}))}async function om(r,t,i){const a=Et(r),l=a.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!lo(d))throw d;st(Lm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Fs=a.Fs.remove(t),a.Ms.delete(l.target)}function Uv(r,t,i){const a=Et(r);let l=_t.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,b){const A=Et(y),N=A.Ms.get(b);return N!==void 0?$.resolve(A.Fs.get(N)):A.hi.getTargetData(v,b)})(a,d,fi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:kt()))).next((g=>(_R(a,rw(t),g),{documents:g,qs:c})))))}function _R(r,t,i){let a=r.xs.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.xs.set(t,a)}class Lv{constructor(){this.activeTargetIds=cw()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vR{constructor(){this.Fo=new Lv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,a){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Lv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class zv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function lm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",TR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bR{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.Ko=this.databaseId.database===Bc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=lm(),g=this.Go(t,i.toUriEncodedString());st(Pd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,l,c);const{host:v}=new URL(g),b=ro(v);return this.jo(t,g,y,a,b).then((A=>(st(Pd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Wr(Pd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}zo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Go(t,i){const a=TR[t];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class SR extends bR{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,a,l,c){const d=lm();return new Promise(((g,y)=>{const v=new B0;v.setWithCredentials(!0),v.listenOnce(q0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Cc.NO_ERROR:const A=v.getResponseJson();st(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Cc.TIMEOUT:st(Ze,`RPC '${t}' ${d} timed out`),y(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const N=v.getStatus();if(st(Ze,`RPC '${t}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const et=(function(ct){const dt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(dt)>=0?dt:X.UNKNOWN})(Z.status);y(new rt(et,Z.message))}else y(new rt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new rt(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{c_:t,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{st(Ze,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(Ze,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",b,a,15)}))}P_(t,i,a){const l=lm(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=G0(),g=F0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");st(Ze,`Creating RPC '${t}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.T_(A);let N=!1,F=!1;const Z=new AR({Ho:W=>{F?st(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(N||(st(Ze,`Opening RPC '${t}' stream ${l} transport.`),A.open(),N=!0),st(Ze,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Yo:()=>A.close()}),et=(W,ct,dt)=>{W.listen(ct,(ut=>{try{dt(ut)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return et(A,pl.EventType.OPEN,(()=>{F||(st(Ze,`RPC '${t}' stream ${l} transport opened.`),Z.s_())})),et(A,pl.EventType.CLOSE,(()=>{F||(F=!0,st(Ze,`RPC '${t}' stream ${l} transport closed`),Z.__(),this.I_(A))})),et(A,pl.EventType.ERROR,(W=>{F||(F=!0,Wr(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.__(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),et(A,pl.EventType.MESSAGE,(W=>{var ct;if(!F){const dt=W.data[0];Ft(!!dt,16349);const ut=dt,Tt=(ut==null?void 0:ut.error)||((ct=ut[0])===null||ct===void 0?void 0:ct.error);if(Tt){st(Ze,`RPC '${t}' stream ${l} received error:`,Tt);const Zt=Tt.status;let St=(function(R){const x=Ae[R];if(x!==void 0)return RE(x)})(Zt),C=Tt.message;St===void 0&&(St=X.INTERNAL,C="Unknown error status: "+Zt+" with message "+Tt.message),F=!0,Z.__(new rt(St,C)),A.close()}else st(Ze,`RPC '${t}' stream ${l} received:`,dt),Z.a_(dt)}})),et(g,H0.STAT_EVENT,(W=>{W.stat===Xd.PROXY?st(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Xd.NOPROXY&&st(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.o_()}),0),Z}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((i=>i===t))}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new Cw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=a,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="PersistentStream";class BE{constructor(t,i,a,l,c,d,g,y){this.Fi=t,this.w_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jE(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.b_===i&&this.W_(a,l)}),(a=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(l)}))}))}W_(t,i){const a=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.e_((()=>{a((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((l=>{a((()=>this.G_(l)))})),this.stream.onMessage((l=>{a((()=>++this.C_==1?this.j_(l):this.onNext(l)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return st(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget((()=>this.b_===t?i():(st(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wR extends BE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=Ow(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?di(d.readTime):_t.min()})(t);return this.listener.J_(i,a)}H_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=tm(y)?{documents:Mw(c,y)}:{query:kw(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=NE(c,d.resumeToken);const v=im(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Qc(c,d.snapshotVersion.toTimestamp());const v=im(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=Lw(this.serializer,t);a&&(i.labels=a),this.k_(i)}Y_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.k_(i)}}class RR extends BE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=Vw(t.writeResults,t.commitTime),a=di(t.commitTime);return this.listener.ta(a,i)}na(){const t={};t.database=am(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>xw(this.serializer,a)))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{}class CR extends IR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Jo(t,i,a,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Jo(t,rm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class NR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($i(i),this._a=!1):st("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class DR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo((d=>{a.enqueueAndForget((async()=>{$s(this)&&(st(Ks,"Restarting streams for network reachability change."),await(async function(y){const v=Et(y);v.Ia.add(4),await Bl(v),v.Aa.set("Unknown"),v.Ia.delete(4),await mh(v)})(this))}))})),this.Aa=new NR(a,l)}}async function mh(r){if($s(r))for(const t of r.da)await t(!0)}async function Bl(r){for(const t of r.da)await t(!1)}function qE(r,t){const i=Et(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Bm(i)?jm(i):co(i).x_()&&zm(i,t))}function Pm(r,t){const i=Et(r),a=co(i);i.Ta.delete(t),a.x_()&&HE(i,t),i.Ta.size===0&&(a.x_()?a.B_():$s(i)&&i.Aa.set("Unknown"))}function zm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(r).H_(t)}function HE(r,t){r.Ra.$e(t),co(r).Y_(t)}function jm(r){r.Ra=new Sw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Aa.aa()}function Bm(r){return $s(r)&&!co(r).M_()&&r.Ta.size>0}function $s(r){return Et(r).Ia.size===0}function FE(r){r.Ra=void 0}async function OR(r){r.Aa.set("Online")}async function xR(r){r.Ta.forEach(((t,i)=>{zm(r,t)}))}async function VR(r,t){FE(r),Bm(r)?(r.Aa.la(t),jm(r)):r.Aa.set("Unknown")}async function MR(r,t,i){if(r.Aa.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ta.delete(g),l.Ra.removeTarget(g))})(r,t)}catch(a){st(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Yc(r,a)}else if(t instanceof xc?r.Ra.Ye(t):t instanceof IE?r.Ra.it(t):r.Ra.et(t),!i.isEqual(_t.min()))try{const a=await zE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ta.get(v);b&&c.Ta.set(v,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const b=c.Ta.get(y);if(!b)return;c.Ta.set(y,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),HE(c,y);const A=new Qr(b.target,y,v,b.sequenceNumber);zm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){st(Ks,"Failed to raise snapshot:",a),await Yc(r,a)}}async function Yc(r,t,i){if(!lo(t))throw t;r.Ia.add(1),await Bl(r),r.Aa.set("Offline"),i||(i=()=>zE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Ks,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await mh(r)}))}function GE(r,t){return t().catch((i=>Yc(r,i,t)))}async function gh(r){const t=Et(r),i=rs(t);let a=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Am;for(;kR(t);)try{const l=await pR(t.localStore,a);if(l===null){t.Pa.length===0&&i.B_();break}a=l.batchId,UR(t,l)}catch(l){await Yc(t,l)}QE(t)&&KE(t)}function kR(r){return $s(r)&&r.Pa.length<10}function UR(r,t){r.Pa.push(t);const i=rs(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function QE(r){return $s(r)&&!rs(r).M_()&&r.Pa.length>0}function KE(r){rs(r).start()}async function LR(r){rs(r).na()}async function PR(r){const t=rs(r);for(const i of r.Pa)t.X_(i.mutations)}async function zR(r,t,i){const a=r.Pa.shift(),l=Om.from(a,t,i);await GE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gh(r)}async function jR(r,t){t&&rs(r).Z_&&await(async function(a,l){if((function(d){return bw(d)&&d!==X.ABORTED})(l.code)){const c=a.Pa.shift();rs(a).N_(),await GE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gh(a)}})(r,t),QE(r)&&KE(r)}async function Bv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),st(Ks,"RemoteStore received new credentials");const a=$s(i);i.Ia.add(3),await Bl(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await mh(i)}async function BR(r,t){const i=Et(r);t?(i.Ia.delete(2),await mh(i)):t||(i.Ia.add(2),await Bl(i),i.Aa.set("Unknown"))}function co(r){return r.Va||(r.Va=(function(i,a,l){const c=Et(i);return c.ia(),new wR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:OR.bind(null,r),e_:xR.bind(null,r),n_:VR.bind(null,r),J_:MR.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),Bm(r)?jm(r):r.Aa.set("Unknown")):(await r.Va.stop(),FE(r))}))),r.Va}function rs(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.ia(),new RR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:LR.bind(null,r),n_:jR.bind(null,r),ea:PR.bind(null,r),ta:zR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await gh(r)):(await r.ma.stop(),r.Pa.length>0&&(st(Ks,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new qm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,t){if($i("AsyncQueue",`${t}: ${r}`),lo(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.fa=new ae(ft.comparator)}track(t){const i=t.doc.key,a=this.fa.get(i);a?t.type!==0&&a.type===3?this.fa=this.fa.insert(i,t):t.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.fa=this.fa.remove(i):t.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):gt(63341,{At:t,ga:a}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new eo(t,i,Ga.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class HR{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Hv(),c.forEach(((d,g)=>{for(const y of g.wa)y.onError(a)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Hv(){return new Xs((r=>mE(r)),lh)}async function FR(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.ba()&&(a=2):(c=new qR,a=t.ba()?0:1);try{switch(a){case 0:c.ya=await i.onListen(l,!0);break;case 1:c.ya=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Hm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&Fm(i)}async function GR(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function QR(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(l)&&(a=!0);d.ya=l}}a&&Fm(i)}function KR(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.wa)c.onError(i);a.queries.delete(t)}function Fm(r){r.Da.forEach((t=>{t.next()}))}var um,Fv;(Fv=um||(um={})).Fa="default",Fv.Cache="cache";class YR{constructor(t,i,a){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){this.key=t}}class XE{constructor(t){this.key=t}}class XR{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=kt(),this.mutatedKeys=kt(),this.Xa=gE(t),this.eu=new Ga(this.Xa)}get tu(){return this.Ha}nu(t,i){const a=i?i.ru:new qv,l=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const N=l.get(b),F=uh(this.query,A)?A:null,Z=!!N&&this.mutatedKeys.has(N.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;N&&F?N.data.isEqual(F.data)?Z!==et&&(a.track({type:3,doc:F}),W=!0):this.iu(N,F)||(a.track({type:2,doc:F}),W=!0,(y&&this.Xa(F,y)>0||v&&this.Xa(F,v)<0)&&(g=!0)):!N&&F?(a.track({type:0,doc:F}),W=!0):N&&!F&&(a.track({type:1,doc:N}),W=!0,(y||v)&&(g=!0)),W&&(F?(d=d.add(F),c=et?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{eu:d,ru:a,Ds:g,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort(((b,A)=>(function(F,Z){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{At:W})}};return et(F)-et(Z)})(b.type,A.type)||this.Xa(b.doc,A.doc))),this.su(a),l=l!=null&&l;const g=i&&!l?this.ou():[],y=this.Za.size===0&&this.current&&!l?1:0,v=y!==this.Ya;return this.Ya=y,d.length!==0||v?{snapshot:new eo(this.query,t.eu,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new qv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=kt(),this.eu.forEach((a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))}));const i=[];return t.forEach((a=>{this.Za.has(a)||i.push(new XE(a))})),this.Za.forEach((a=>{t.has(a)||i.push(new YE(a))})),i}uu(t){this.Ha=t.qs,this.Za=kt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return eo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Gm="SyncEngine";class $R{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZR{constructor(t){this.key=t,this.lu=!1}}class JR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Xs((g=>mE(g)),lh),this.Tu=new Map,this.Iu=new Set,this.du=new ae(ft.comparator),this.Eu=new Map,this.Au=new Mm,this.Ru={},this.Vu=new Map,this.mu=to.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function WR(r,t,i=!0){const a=eT(r);let l;const c=a.Pu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await $E(a,t,i,!0),l}async function tI(r,t){const i=eT(r);await $E(i,t,!0,!1)}async function $E(r,t,i,a){const l=await yR(r.localStore,fi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await eI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&qE(r.remoteStore,l),g}async function eI(r,t,i,a,l){r.gu=(A,N,F)=>(async function(et,W,ct,dt){let ut=W.view.nu(ct);ut.Ds&&(ut=await Uv(et.localStore,W.query,!1).then((({documents:C})=>W.view.nu(C,ut))));const Tt=dt&&dt.targetChanges.get(W.targetId),Zt=dt&&dt.targetMismatches.get(W.targetId)!=null,St=W.view.applyChanges(ut,et.isPrimaryClient,Tt,Zt);return Qv(et,W.targetId,St._u),St.snapshot})(r,A,N,F);const c=await Uv(r.localStore,t,!0),d=new XR(t,c.qs),g=d.nu(c.documents),y=jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,y);Qv(r,i,v._u);const b=new $R(t,i,d);return r.Pu.set(t,b),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),v.snapshot}async function nI(r,t,i){const a=Et(r),l=a.Pu.get(t),c=a.Tu.get(l.targetId);if(c.length>1)return a.Tu.set(l.targetId,c.filter((d=>!lh(d,t)))),void a.Pu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Pm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(oo)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function iI(r,t){const i=Et(r),a=i.Pu.get(t),l=i.Tu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pm(i.remoteStore,a.targetId))}async function rI(r,t,i){const a=hI(r);try{const l=await(function(d,g){const y=Et(d),v=ie.now(),b=g.reduce(((F,Z)=>F.add(Z.key)),kt());let A,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=Zi(),et=kt();return y.Os.getEntries(F,b).next((W=>{Z=W,Z.forEach(((ct,dt)=>{dt.isValidDocument()||(et=et.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{A=W;const ct=[];for(const dt of g){const ut=yw(dt,A.get(dt.key).overlayedDocument);ut!=null&&ct.push(new os(dt.key,ut,aE(ut.value.mapValue),Xn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,ct,g)})).next((W=>{N=W;const ct=W.applyToLocalDocumentSet(A,et);return y.documentOverlayCache.saveOverlays(F,W.batchId,ct)}))})).then((()=>({batchId:N.batchId,changes:yE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let v=d.Ru[d.currentUser.toKey()];v||(v=new ae(It)),v=v.insert(g,y),d.Ru[d.currentUser.toKey()]=v})(a,l.batchId,i),await ql(a,l.changes),await gh(a.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function ZE(r,t){const i=Et(r);try{const a=await mR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Eu.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?Ft(d.lu,14607):l.removedDocuments.size>0&&(Ft(d.lu,42227),d.lu=!1))})),await ql(i,a,t)}catch(a){await oo(a)}}function Gv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Pu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let v=!1;y.queries.forEach(((b,A)=>{for(const N of A.wa)N.va(g)&&(v=!0)})),v&&Fm(y)})(a.eventManager,t),l.length&&a.hu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sI(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Eu.get(t),c=l&&l.key;if(c){let d=new ae(ft.comparator);d=d.insert(c,We.newNoDocument(c,_t.min()));const g=kt().add(c),y=new fh(_t.min(),new Map,new ae(It),d,g);await ZE(a,y),a.du=a.du.remove(c),a.Eu.delete(t),Qm(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(oo)}async function aI(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await dR(i.localStore,t);WE(i,a,null),JE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ql(i,l)}catch(l){await oo(l)}}async function oI(r,t,i){const a=Et(r);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,g).next((A=>(Ft(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(v,A)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(a.localStore,t);WE(a,t,i),JE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ql(a,l)}catch(l){await oo(l)}}function JE(r,t){(r.Vu.get(t)||[]).forEach((i=>{i.resolve()})),r.Vu.delete(t)}function WE(r,t,i){const a=Et(r);let l=a.Ru[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ru[a.currentUser.toKey()]=l}}function cm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Tu.get(t))r.Pu.delete(a),i&&r.hu.pu(a,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((a=>{r.Au.containsKey(a)||tT(r,a)}))}function tT(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Pm(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),Qm(r))}function Qv(r,t,i){for(const a of i)a instanceof YE?(r.Au.addReference(a.key,t),lI(r,a)):a instanceof XE?(st(Gm,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,t),r.Au.containsKey(a.key)||tT(r,a.key)):gt(19791,{yu:a})}function lI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Iu.has(a)||(st(Gm,"New document in limbo: "+i),r.Iu.add(a),Qm(r))}function Qm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new ft(Jt.fromString(t)),a=r.mu.next();r.Eu.set(a,new ZR(i)),r.du=r.du.insert(i,a),qE(r.remoteStore,new Qr(fi(Cm(i.path)),a,"TargetPurposeLimboResolution",sh.ue))}}async function ql(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach(((g,y)=>{d.push(a.gu(y,t,i).then((v=>{var b;if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(y.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Um.Es(y.targetId,v);c.push(A)}})))})),await Promise.all(d),a.hu.J_(l),await(async function(y,v){const b=Et(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(v,(N=>$.forEach(N.Is,(F=>b.persistence.referenceDelegate.addReference(A,N.targetId,F))).next((()=>$.forEach(N.ds,(F=>b.persistence.referenceDelegate.removeReference(A,N.targetId,F)))))))))}catch(A){if(!lo(A))throw A;st(Lm,"Failed to update sequence numbers: "+A)}for(const A of v){const N=A.targetId;if(!A.fromCache){const F=b.Fs.get(N),Z=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(Z);b.Fs=b.Fs.insert(N,et)}}})(a.localStore,c))}async function uI(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){st(Gm,"User change. New user:",t.toKey());const a=await PE(i.localStore,t);i.currentUser=t,(function(c,d){c.Vu.forEach((g=>{g.forEach((y=>{y.reject(new rt(X.CANCELLED,d))}))})),c.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ql(i,a.Bs)}}function cI(r,t){const i=Et(r),a=i.Eu.get(t);if(a&&a.lu)return kt().add(a.key);{let l=kt();const c=i.Tu.get(t);if(!c)return l;for(const d of c){const g=i.Pu.get(d);l=l.unionWith(g.view.tu)}return l}}function eT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.hu.J_=QR.bind(null,t.eventManager),t.hu.pu=KR.bind(null,t.eventManager),t}function hI(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return fR(this.persistence,new uR,t.initialUser,this.serializer)}Du(t){return new LE(km.Vi,this.serializer)}bu(t){return new vR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class fI extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Ft(this.persistence.referenceDelegate instanceof Kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Yw(a,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new LE((a=>Kc.Vi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),await BR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HR})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),a=(function(c){return new SR(c)})(t.databaseInfo);return(function(c,d,g,y){return new CR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new DR(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Gv(this.syncEngine,i,0)),(function(){return zv.C()?new zv:new ER})())}createSyncEngine(t,i){return(function(l,c,d,g,y,v,b){const A=new JR(l,c,d,g,y,v);return b&&(A.fu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=Et(l);st(Ks,"RemoteStore shutting down."),c.Ia.add(5),await Bl(c),c.Ea.shutdown(),c.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class mI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ss,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await PE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>{Wr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((l=>{Wr("Terminating Firestore due to IndexedDb database deletion failed",l)}))})),r._offlineComponents=t}async function Kv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await gI(r);st(ss,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Bv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Bv(t.remoteStore,l))),r._onlineComponents=t}async function gI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ss,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wr("Error using user provided cache. Falling back to memory cache: "+i),await jd(r,new Xc)}}else st(ss,"Using default OfflineComponentProvider"),await jd(r,new fI(void 0));return r._offlineComponents}async function nT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ss,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(st(ss,"Using default OnlineComponentProvider"),await Kv(r,new hm))),r._onlineComponents}function pI(r){return nT(r).then((t=>t.syncEngine))}async function Yv(r){const t=await nT(r),i=t.eventManager;return i.onListen=WR.bind(null,t.syncEngine),i.onUnlisten=nI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=iI.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firestore.googleapis.com",$v=!0;class Zv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=$v}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qw)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new b2;switch(a.type){case"firstParty":return new R2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Xv.get(i);a&&(st("ComponentProvider","Removing Datastore"),Xv.delete(i),a.terminate())})(this),Promise.resolve()}}function yI(r,t,i,a={}){var l;r=Zr(r,ph);const c=ro(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${i}`;c&&(x0(`https://${y}`),V0("Firestore",!0)),d.host!==rT&&d.host!==y&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:a});if(!Fs(v,g)&&(r._setSettings(v),a.mockUserToken)){let b,A;if(typeof a.mockUserToken=="string")b=a.mockUserToken,A=Je.MOCK_USER;else{b=KA(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(N)}r._authCredentials=new A2(new K0(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zs(this.firestore,t,this._query)}}class Re{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Re._jsonSchema))return new Re(t,a||null,new ft(Jt.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),referencePath:we("string")};class Jr extends Zs{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ft(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function Jv(r,t,...i){if(r=Ue(r),X0("collection","path",t),r instanceof ph){const a=Jt.fromString(t,...i);return uv(a),new Jr(r,null,a)}{if(!(r instanceof Re||r instanceof Jr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(t,...i));return uv(a),new Jr(r.firestore,null,a)}}function fm(r,t,...i){if(r=Ue(r),arguments.length===1&&(t=bm.newId()),X0("doc","path",t),r instanceof ph){const a=Jt.fromString(t,...i);return lv(a),new Re(r,null,new ft(a))}{if(!(r instanceof Re||r instanceof Jr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(t,...i));return lv(a),new Re(r.firestore,r instanceof Jr?r.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jE(this,"async_queue_retry"),this.oc=()=>{const a=zd();a&&st(Wv,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new Bs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!lo(t))throw t;st(Wv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const i=this._c.then((()=>(this.nc=!0,t().catch((a=>{throw this.tc=a,this.nc=!1,$i("INTERNAL UNHANDLED ERROR: ",e0(a)),a})).then((a=>(this.nc=!1,a))))));return this._c=i,i}enqueueAfterDelay(t,i,a){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,a,(c=>this.lc(c)));return this.ec.push(l),l}ac(){this.tc&&gt(47125,{hc:e0(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function e0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class no extends ph{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new t0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function _I(r,t){const i=typeof r=="object"?r:L0(),a=typeof r=="string"?r:Bc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=GA("firestore");c&&yI(l,...c)}return l}function sT(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vI(r),r._firestoreClient}function vI(r){var t,i,a;const l=r._freezeSettings(),c=(function(g,y,v,b){return new q2(g,y,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,iT(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new mI(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ke.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:we("string",zn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,mi._jsonSchema))return new mi(t.latitude,t.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:we("string",mi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new gi(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:we("string",gi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=/^__.*__$/;class TI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new os(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}class aT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new os(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function oT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ec:r})}}class Ym{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Ym(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:a,mc:!1});return l.fc(t),l}gc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:a,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return $c(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(oT(this.Ec)&&EI.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class bI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||dh(t)}Dc(t,i,a,l=!1){return new Ym({Ec:t,methodName:i,bc:a,path:Qe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(r){const t=r._freezeSettings(),i=dh(r._databaseId);return new bI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AI(r,t,i,a,l,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,i,l);$m("Data must be an object, but it was:",d,a);const g=lT(a,d);let y,v;if(c.merge)y=new Rn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const N=dm(t,A,i);if(!d.contains(N))throw new rt(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);cT(b,N)||b.push(N)}y=new Rn(b),v=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,v=d.fieldTransforms;return new TI(new pn(g),y,v)}class _h extends Km{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}function SI(r,t,i,a){const l=r.Dc(1,t,i);$m("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();as(a,((y,v)=>{const b=Zm(t,y,i);v=Ue(v);const A=l.gc(b);if(v instanceof _h)c.push(b);else{const N=Hl(v,A);N!=null&&(c.push(b),d.set(b,N))}}));const g=new Rn(c);return new aT(d,g,l.fieldTransforms)}function wI(r,t,i,a,l,c){const d=r.Dc(1,t,i),g=[dm(t,a,i)],y=[l];if(c.length%2!=0)throw new rt(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(dm(t,c[N])),y.push(c[N+1]);const v=[],b=pn.empty();for(let N=g.length-1;N>=0;--N)if(!cT(v,g[N])){const F=g[N];let Z=y[N];Z=Ue(Z);const et=d.gc(F);if(Z instanceof _h)v.push(F);else{const W=Hl(Z,et);W!=null&&(v.push(F),b.set(F,W))}}const A=new Rn(v);return new aT(b,A,d.fieldTransforms)}function RI(r,t,i,a=!1){return Hl(i,r.Dc(a?4:3,t))}function Hl(r,t){if(uT(r=Ue(r)))return $m("Unsupported field value:",t,r),lT(r,t);if(r instanceof Km)return(function(a,l){if(!oT(l.Ec))throw l.wc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=Hl(g,l.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ue(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Qc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(a instanceof mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:NE(l.serializer,a._byteString)};if(a instanceof Re){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof gi)return(function(d,g){return{mapValue:{fields:{[rE]:{stringValue:sE},[qc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return Nm(g.serializer,v)}))}}}}}})(a,l);throw l.wc(`Unsupported field value: ${rh(a)}`)})(r,t)}function lT(r,t){const i={};return J0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(r,((a,l)=>{const c=Hl(l,t.Vc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function uT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof mi||r instanceof zn||r instanceof Re||r instanceof Km||r instanceof gi)}function $m(r,t,i){if(!uT(i)||!$0(i)){const a=rh(i);throw a==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+a)}}function dm(r,t,i){if((t=Ue(t))instanceof yh)return t._internalPath;if(typeof t=="string")return Zm(r,t);throw $c("Field path arguments must be of type string or ",r,!1,void 0,i)}const II=new RegExp("[~\\*/\\[\\]]");function Zm(r,t,i){if(t.search(II)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new yh(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function $c(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new rt(X.INVALID_ARGUMENT,g+r+y)}function cT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Jm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CI extends hT{data(){return super.data()}}function Jm(r,t){return typeof t=="string"?Zm(r,t):t instanceof yh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class fT extends Wm{}function DI(r,t,...i){let a=[];t instanceof Wm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof eg)).length,g=c.filter((y=>y instanceof tg)).length;if(d>1||d>0&&g>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class tg extends fT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new tg(t,i,a)}_apply(t){const i=this._parse(t);return dT(t._query,i),new Zs(t.firestore,t.converter,em(t._query,i))}_parse(t){const i=Xm(t.firestore);return(function(c,d,g,y,v,b,A){let N;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){r0(A,b);const Z=[];for(const et of A)Z.push(i0(y,c,et));N={arrayValue:{values:Z}}}else N=i0(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||r0(A,b),N=RI(g,d,A,b==="in"||b==="not-in");return Se.create(v,b,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class eg extends Wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new eg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)dT(d,y),d=em(d,y)})(t._query,i),new Zs(t.firestore,t.converter,em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends fT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ng(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(c,d)})(t._query,this._field,this._direction);return new Zs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new uo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function OI(r,t="asc"){const i=t,a=Jm("orderBy",r);return ng._create(a,i)}function i0(r,t,i){if(typeof(i=Ue(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Jt.fromString(i));if(!ft.isDocumentKey(a))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return yv(r,new ft(a))}if(i instanceof Re)return yv(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(i)}.`)}function r0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dT(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class xI{convertValue(t,i="none"){switch(is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return as(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[qc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>pe(d.doubleValue)));return new gi(c)}convertGeoPoint(t){return new mi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=es(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Jt.fromString(t);Ft(kE(a),9688,{name:t});const l=new Dl(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qs extends hT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Jm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:we("string",qs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Vc extends qs{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Vc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,b=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:MI(g.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:we("string",Qa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class mT extends xI{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function kI(r,t,i,...a){r=Zr(r,Re);const l=Zr(r.firestore,no),c=Xm(l);let d;return d=typeof(t=Ue(t))=="string"||t instanceof yh?wI(c,"updateDoc",r._key,t,i,a):SI(c,"updateDoc",r._key,t),ig(l,[d.toMutation(r._key,Xn.exists(!0))])}function UI(r){return ig(Zr(r.firestore,no),[new Dm(r._key,Xn.none())])}function LI(r,t){const i=Zr(r.firestore,no),a=fm(r),l=VI(r.converter,t);return ig(i,[AI(Xm(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Xn.exists(!1))]).then((()=>a))}function PI(r,...t){var i,a,l;r=Ue(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||n0(t[d])||(c=t[d++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(n0(t[d])){const A=t[d];t[d]=(i=A.next)===null||i===void 0?void 0:i.bind(A),t[d+1]=(a=A.error)===null||a===void 0?void 0:a.bind(A),t[d+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let y,v,b;if(r instanceof Re)v=Zr(r.firestore,no),b=Cm(r._key.path),y={next:A=>{t[d]&&t[d](zI(v,r,A))},error:t[d+1],complete:t[d+2]};else{const A=Zr(r,Zs);v=Zr(A.firestore,no),b=A._query;const N=new mT(v);y={next:F=>{t[d]&&t[d](new Qa(v,N,A,F))},error:t[d+1],complete:t[d+2]},NI(r._query)}return(function(N,F,Z,et){const W=new dI(et),ct=new YR(F,W,Z);return N.asyncQueue.enqueueAndForget((async()=>FR(await Yv(N),ct))),()=>{W.Ou(),N.asyncQueue.enqueueAndForget((async()=>GR(await Yv(N),ct)))}})(sT(v),b,g,y)}function ig(r,t){return(function(a,l){const c=new Bs;return a.asyncQueue.enqueueAndForget((async()=>rI(await pI(a),l,c))),c.promise})(sT(r),t)}function zI(r,t,i){const a=i.docs.get(t._key),l=new mT(r);return new qs(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){ao=l})(so),$a(new Gs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new no(new S2(a.getProvider("auth-internal")),new I2(d,a.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(v.options.projectId,b)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xr(iv,rv,t),Xr(iv,rv,"esm2017")})();function rg(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=gT,pT=new Ul("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new _m("@firebase/auth");function BI(r,...t){Zc.logLevel<=Mt.WARN&&Zc.warn(`Auth (${so}): ${r}`,...t)}function Mc(r,...t){Zc.logLevel<=Mt.ERROR&&Zc.error(`Auth (${so}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(r,...t){throw ag(r,...t)}function $n(r,...t){return ag(r,...t)}function sg(r,t,i){const a=Object.assign(Object.assign({},jI()),{[t]:i});return new Ul("auth","Firebase",a).create(t,{appName:r.name})}function Hs(r){return sg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&_i(r,"argument-error"),sg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ag(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return pT.create(r,...t)}function yt(r,t,...i){if(!r)throw ag(t,...i)}function Ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function Ji(r,t){r||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function HI(){return s0()==="http:"||s0()==="https:"}function s0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||WA()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ji(i>t,"Short delay should be less than long delay!"),this.isMobile=$A()||tS()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,t){Ji(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new Fl(3e4,6e4);function lg(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ho(r,t,i,a,l={}){return _T(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Ll(Object.assign({key:r.config.apiKey},d)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:y},c);return JA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&ro(r.emulatorConfig.host)&&(v.credentials="include"),yT.fetch()(await vT(r,r.config.apiHost,i,g),v)})}async function _T(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},QI),t);try{const l=new $I(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw sg(r,b,v);_i(r,b)}}catch(l){if(l instanceof Wi)throw l;_i(r,"network-request-failed",{message:String(l)})}}async function XI(r,t,i,a,l={}){const c=await ho(r,t,i,a,l);return"mfaPendingCredential"in c&&_i(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function vT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?og(r.config,l):`${r.config.apiScheme}://${l}`;return KI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a($n(this.auth,"network-request-failed")),YI.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=$n(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function Jc(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JI(r,t=!1){const i=Ue(r),a=await i.getIdToken(t),l=ug(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:Rl(Bd(l.auth_time)),issuedAtTime:Rl(Bd(l.iat)),expirationTime:Rl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Bd(r){return Number(r)*1e3}function ug(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=C0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function a0(r){const t=ug(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Wi&&WI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await kl(r,Jc(i,{idToken:a}));yt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?ET(c.providerUserInfo):[],g=nC(r.providerData,d),y=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),b=y?v:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new gm(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(r,A)}async function eC(r){const t=Ue(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function ET(r){return r.map(t=>{var{providerId:i}=t,a=rg(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,t){const i=await _T(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await vT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&ro(r.emulatorConfig.host)&&(y.credentials="include"),yT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rC(r,t){return ho(r,"POST","/v2/accounts:revokeToken",lg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):a0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=a0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await iC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=rg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new gm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return JI(this,t)}reload(){return eC(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Hs(this.auth));const t=await this.getIdToken();return await kl(this,ZI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,y,v,b;const A=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,et=(g=i.tenantId)!==null&&g!==void 0?g:void 0,W=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,ct=(v=i.createdAt)!==null&&v!==void 0?v:void 0,dt=(b=i.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:ut,emailVerified:Tt,isAnonymous:Zt,providerData:St,stsTokenManager:C}=i;yt(ut&&C,t,"internal-error");const S=Ka.fromJSON(this.name,C);yt(typeof ut=="string",t,"internal-error"),qr(A,t.name),qr(N,t.name),yt(typeof Tt=="boolean",t,"internal-error"),yt(typeof Zt=="boolean",t,"internal-error"),qr(F,t.name),qr(Z,t.name),qr(et,t.name),qr(W,t.name),qr(ct,t.name),qr(dt,t.name);const R=new Yn({uid:ut,auth:t,email:N,emailVerified:Tt,displayName:A,isAnonymous:Zt,photoURL:Z,phoneNumber:F,tenantId:et,stsTokenManager:S,createdAt:ct,lastLoginAt:dt});return St&&Array.isArray(St)&&(R.providerData=St.map(x=>Object.assign({},x))),W&&(R._redirectEventId=W),R}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ET(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ka;g.updateFromIdToken(a);const y=new Yn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new gm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function Yi(r){Ji(r instanceof Function,"Expected a class definition");let t=o0.get(r);return t?(Ji(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,o0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}TT.type="NONE";const l0=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(Yi(l0),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Yi(l0);const d=kc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const b=await v._get(d);if(b){let A;if(typeof b=="string"){const N=await Jc(t,{idToken:b}).catch(()=>{});if(!N)break;A=await Yn._fromGetAccountInfoResponse(t,N,b)}else A=Yn._fromJSON(t,b);v!==c&&(g=A),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ya(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IT(t))return"Blackberry";if(CT(t))return"Webos";if(AT(t))return"Safari";if((t.includes("chrome/")||ST(t))&&!t.includes("edge/"))return"Chrome";if(RT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function bT(r=tn()){return/firefox\//i.test(r)}function AT(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ST(r=tn()){return/crios\//i.test(r)}function wT(r=tn()){return/iemobile/i.test(r)}function RT(r=tn()){return/android/i.test(r)}function IT(r=tn()){return/blackberry/i.test(r)}function CT(r=tn()){return/webos/i.test(r)}function cg(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sC(r=tn()){var t;return cg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function aC(){return eS()&&document.documentMode===10}function NT(r=tn()){return cg(r)||RT(r)||CT(r)||IT(r)||/windows phone/i.test(r)||wT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,t=[]){let i;switch(r){case"Browser":i=u0(tn());break;case"Worker":i=`${u0(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,t={}){return ho(r,"GET","/v2/passwordPolicy",lg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=6;class cC{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:uC,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===g)&&(y!=null&&y.user)&&(l=y.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Hs(this));const i=t?Ue(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lC(this),i=new cC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rC(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&BI(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function vh(r){return Ue(r)}class c0{constructor(t){this.auth=t,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(r){hg=r}function dC(r){return hg.loadJS(r)}function mC(){return hg.gapiScript}function gC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r,t){const i=Em(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fs(c,t??{}))return l;_i(l,"already-initialized")}return i.initialize({options:t})}function yC(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Yi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function _C(r,t,i){const a=vh(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=OT(t),{host:d,port:g}=vC(t),y=g===null?"":`:${g}`,v={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Fs(v,a.config.emulator)&&Fs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,ro(d)?(x0(`${c}//${d}${y}`),V0("Auth",!0)):EC()}function OT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vC(r){const t=OT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,t){return XI(r,"POST","/v1/accounts:signInWithIdp",lg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="http://localhost";class Ys extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):_i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=rg(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Ys(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends fg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Gl{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ys._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Qi.credential(i,a)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Gl{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gr.credential(i,a)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Yn._fromIdTokenResponse(t,a,l),d=f0(a);return new io({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=f0(a);return new io({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function f0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Wi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new th(t,i,a,l)}}function VT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,t,a):c})}async function bC(r,t,i=!1){const a=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return io._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,t,i=!1){const{auth:a}=r;if(Kn(a.app))return Promise.reject(Hs(a));const l="reauthenticate";try{const c=await kl(r,VT(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=ug(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(r.uid===g,a,"user-mismatch"),io._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&_i(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,t,i=!1){if(Kn(r.app))return Promise.reject(Hs(r));const a="signIn",l=await VT(r,a,t),c=await io._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function wC(r,t,i,a){return Ue(r).onIdTokenChanged(t,i,a)}function RC(r,t,i){return Ue(r).beforeAuthStateChanged(t,i)}function IC(r,t,i,a){return Ue(r).onAuthStateChanged(t,i,a)}function CC(r){return Ue(r).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1e3,DC=10;class kT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);aC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,DC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}kT.type="LOCAL";const OC=kT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}UT.type="SESSION";const LT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),y=await xC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const v=dg("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function MC(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function kC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function LC(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",PC=1,nh="firebaseLocalStorage",jT="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function zC(){const r=indexedDB.deleteDatabase(zT);return new Ql(r).toPromise()}function pm(){const r=indexedDB.open(zT,PC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nh,{keyPath:jT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await zC(),t(await pm()))})})}async function d0(r,t,i){const a=Th(r,!0).put({[jT]:t,value:i});return new Ql(a).toPromise()}async function jC(r,t){const i=Th(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function m0(r,t){const i=Th(r,!0).delete(t);return new Ql(i).toPromise()}const BC=800,qC=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>qC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(LC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pm();return await d0(t,eh,"1"),await m0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>jC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const HC=BT;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t){return t?Yi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends xT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function FC(r){return SC(r.auth,new mg(r),r.bypassAuthState)}function GC(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),AC(i,new mg(r),r.bypassAuthState)}async function QC(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),bC(i,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:_i(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new Fl(2e3,1e4);async function YC(r,t,i){if(Kn(r.app))return Promise.reject($n(r,"operation-not-supported-in-this-environment"));const a=vh(r);qI(r,t,fg);const l=qT(a,i);return new js(a,"signInViaPopup",t,l).executeNotNull()}class js extends HT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KC.get())};t()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="pendingRedirect",Uc=new Map;class $C extends HT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await ZC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZC(r,t){const i=t4(t),a=WC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function JC(r,t){Uc.set(r._key(),t)}function WC(r){return Yi(r._redirectPersistence)}function t4(r){return kc(XC,r.config.apiKey,r.name)}async function e4(r,t,i=!1){if(Kn(r.app))return Promise.reject(Hs(r));const a=vh(r),l=qT(a,t),d=await new $C(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=600*1e3;class i4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!r4(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!FT(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError($n(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(t))}saveEventToCache(t){this.cachedEventUids.add(g0(t)),this.lastProcessedEventTime=Date.now()}}function g0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function FT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function r4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(r,t={}){return ho(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(r){if(r.config.emulator)return;const{authorizedDomains:t}=await s4(r);for(const i of t)try{if(u4(i))return}catch{}_i(r,"unauthorized-domain")}function u4(r){const t=mm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!o4.test(i))return!1;if(a4.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Fl(3e4,6e4);function p0(){const r=pi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function h4(r){return new Promise((t,i)=>{var a,l,c;function d(){p0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p0(),i($n(r,"network-request-failed"))},timeout:c4.get()})}if(!((l=(a=pi().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=pi().gapi)===null||c===void 0)&&c.load)d();else{const g=gC("iframefcb");return pi()[g]=()=>{gapi.load?d():i($n(r,"network-request-failed"))},dC(`${mC()}?onload=${g}`).catch(y=>i(y))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function f4(r){return Lc=Lc||h4(r),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Fl(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?og(t,g4):`https://${r.config.authDomain}/${m4}`,a={apiKey:t.apiKey,appName:r.name,v:so},l=y4.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function v4(r){const t=await f4(r),i=pi().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:_4(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=$n(r,"network-request-failed"),g=pi().setTimeout(()=>{c(d)},d4.get());function y(){pi().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,b4=600,A4="_blank",S4="http://localhost";class y0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w4(r,t,i,a=T4,l=b4){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y=Object.assign(Object.assign({},E4),{width:a.toString(),height:l.toString(),top:c,left:d}),v=tn().toLowerCase();i&&(g=ST(v)?A4:i),bT(v)&&(t=t||S4,y.scrollbars="yes");const b=Object.entries(y).reduce((N,[F,Z])=>`${N}${F}=${Z},`,"");if(sC(v)&&g!=="_self")return R4(t||"",g),new y0(null);const A=window.open(t||"",g,b);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new y0(A)}function R4(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__/auth/handler",C4="emulator/auth/handler",N4=encodeURIComponent("fac");async function _0(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof fg){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",lS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Gl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await r._getAppCheckToken(),v=y?`#${N4}=${encodeURIComponent(y)}`:"";return`${D4(r)}?${Ll(g).slice(1)}${v}`}function D4({config:r}){return r.emulator?og(r,C4):`https://${r.authDomain}/${I4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class O4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=e4,this._overrideRedirectResult=JC}async _openPopup(t,i,a,l){var c;Ji((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await _0(t,i,a,mm(),l);return w4(t,d,dg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await _0(t,i,a,mm(),l);return MC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ji(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await v4(t),a=new i4(t);return i.register("authEvent",l=>(yt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[qd];d!==void 0&&i(!!d),_i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=l4(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return NT()||AT()||cg()}}const x4=O4;var v0="@firebase/auth",E0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k4(r){$a(new Gs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},v=new hC(a,l,c,y);return yC(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Gs("auth-internal",t=>{const i=vh(t.getProvider("auth").getImmediate());return(a=>new V4(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(v0,E0,M4(r)),Xr(v0,E0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=300,L4=O0("authIdTokenMaxAge")||U4;let T0=null;const P4=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>L4)return;const l=i==null?void 0:i.token;T0!==l&&(T0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function z4(r=L0()){const t=Em(r,"auth");if(t.isInitialized())return t.getImmediate();const i=pC(r,{popupRedirectResolver:x4,persistence:[HC,OC,LT]}),a=O0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=P4(c.toString());RC(i,d,()=>d(i.currentUser)),wC(i,g=>d(g))}}const l=N0("auth");return l&&_C(i,`http://${l}`),i}function j4(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}fC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=$n("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",j4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k4("Browser");const B4={apiKey:"AIzaSyDs36YM4BsxN2YQr4kkWpN9w09aVDL1aqE",authDomain:"contasegura-bd12b.firebaseapp.com",projectId:"contasegura-bd12b",storageBucket:"contasegura-bd12b.firebasestorage.app",messagingSenderId:"239955889708",appId:"1:239955889708:web:b1ebf8b3b02ffbd48e4b89"},GT=U0(B4),Ic=_I(GT),Hd=z4(GT),q4=new Qi;function H4(){const[r,t]=he.useState(null),[i,a]=he.useState(!0),[l,c]=he.useState(null),[d,g]=he.useState([]),[y,v]=he.useState(""),[b,A]=he.useState("list"),[N,F]=he.useState("google"),[Z,et]=he.useState(""),[W,ct]=he.useState(""),[dt,ut]=he.useState(""),[Tt,Zt]=he.useState(null),[St,C]=he.useState(null);he.useEffect(()=>{const L=IC(Hd,J=>{t(J),a(!1)});return()=>L()},[]),he.useEffect(()=>{if(!r){g([]);return}const L=Jv(Ic,"accounts"),J=DI(L,OI("createdAt","desc")),it=PI(J,Ct=>{const Ot=[];Ct.forEach(O=>{Ot.push({id:O.id,...O.data()})}),g(Ot)},Ct=>{console.error("Erro ao carregar contas:",Ct);const Ot=localStorage.getItem("contasegura-accounts");Ot&&g(JSON.parse(Ot))});return()=>it()},[r]);const S=async()=>{c(null);try{await YC(Hd,q4)}catch(L){console.error("Erro ao fazer login:",L),c("Erro ao fazer login com Google. Tente novamente.")}},R=async()=>{try{await CC(Hd),g([]),A("list")}catch(L){console.error("Erro ao fazer logout:",L)}},x=async()=>{if(!r)return;if(!Z.trim()||!W.trim()){alert("Por favor, preencha email e senha");return}const L={serviceId:N,email:Z.trim(),password:W.trim(),observations:dt.trim(),createdAt:Date.now(),creatorUserId:r.uid,creatorEmail:r.email||void 0};try{await LI(Jv(Ic,"accounts"),L);const J=[...d,{...L,id:Date.now().toString()}];localStorage.setItem("contasegura-accounts",JSON.stringify(J)),et(""),ct(""),ut(""),F("google"),A("list")}catch(J){console.error("Erro ao salvar conta:",J),alert("Erro ao salvar conta. Tente novamente.")}},V=L=>{if(!r)return;const J=d.find(it=>it.id===L);if(J){if(J.creatorUserId&&J.creatorUserId!==r.uid){C("Ops! Este registro no  seu, escolha um registro que seja seu para alterar os dados."),setTimeout(()=>C(null),5e3);return}Zt(J),F(J.serviceId),et(J.email),ct(J.password),ut(J.observations),A("edit")}},k=async()=>{if(!(!r||!Tt)){if(Tt.creatorUserId&&Tt.creatorUserId!==r.uid){C("Ops! Este registro no  seu, escolha um registro que seja seu para alterar os dados."),setTimeout(()=>C(null),5e3);return}if(!Z.trim()||!W.trim()){alert("Por favor, preencha email e senha");return}try{const L=fm(Ic,"accounts",Tt.id);await kI(L,{serviceId:N,email:Z.trim(),password:W.trim(),observations:dt.trim()});const J=d.map(it=>it.id===Tt.id?{...it,serviceId:N,email:Z.trim(),password:W.trim(),observations:dt.trim()}:it);localStorage.setItem("contasegura-accounts",JSON.stringify(J)),I()}catch(L){console.error("Erro ao atualizar conta:",L),alert("Erro ao atualizar conta. Tente novamente.")}}},I=()=>{Zt(null),et(""),ct(""),ut(""),F("google"),A("list")},fe=async L=>{if(!r)return;const J=d.find(it=>it.id===L);if(J){if(J.creatorUserId&&J.creatorUserId!==r.uid){C("Ops! Voc no pode excluir um registro que no  seu."),setTimeout(()=>C(null),5e3);return}if(confirm("Tem certeza que deseja excluir esta conta?"))try{await UI(fm(Ic,"accounts",L));const it=d.filter(Ct=>Ct.id!==L);localStorage.setItem("contasegura-accounts",JSON.stringify(it))}catch(it){console.error("Erro ao deletar conta:",it),alert("Erro ao deletar conta. Tente novamente.")}}},ye=d.filter(L=>{var J;return L.email.toLowerCase().includes(y.toLowerCase())||((J=El.find(it=>it.id===L.serviceId))==null?void 0:J.name.toLowerCase().includes(y.toLowerCase()))});return i?j.jsx("div",{className:"min-h-screen flex items-center justify-center",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?j.jsxs("div",{className:"min-h-screen bg-gray-100 pb-8",children:[St&&j.jsxs("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 z-50 bg-red-500 text-white px-6 py-4 rounded-lg border-4 border-black shadow-hard-lg flex items-center gap-3 animate-bounce",children:[j.jsx(jb,{size:24,strokeWidth:3}),j.jsx("span",{className:"font-bold",children:St})]}),j.jsx("header",{className:"bg-white border-b-4 border-black sticky top-0 z-40",children:j.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"bg-yellow-400 p-2 rounded-lg border-2 border-black shadow-hard-sm",children:j.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:j.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),j.jsx("h1",{className:"text-2xl md:text-3xl font-black text-black tracking-tight",style:{fontFamily:"Outfit, sans-serif"},children:"CONTASEGURA"})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gray-100 px-3 py-2 rounded-lg border-2 border-black",children:[j.jsx(xA,{size:18}),j.jsx("span",{className:"text-sm font-semibold",children:r.email})]}),j.jsxs("button",{onClick:R,className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg border-2 border-black font-bold transition-all active-press shadow-hard-sm",title:"Sair",children:[j.jsx(oA,{size:18}),j.jsx("span",{className:"hidden md:inline",children:"SAIR"})]}),b==="list"&&j.jsxs("button",{onClick:()=>A("add"),className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg border-2 border-black font-bold transition-all active-press shadow-hard-sm",children:[j.jsx(S0,{size:20,strokeWidth:3}),j.jsx("span",{children:"NOVA CONTA"})]})]})]})}),j.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:b==="list"?j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[j.jsxs("div",{className:"flex-1 relative",children:[j.jsx(pA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),j.jsx("input",{type:"text",placeholder:"PESQUISAR...",value:y,onChange:L=>v(L.target.value),className:"w-full pl-12 pr-4 py-3 border-4 border-black rounded-xl font-bold text-lg focus:outline-none focus:ring-4 focus:ring-indigo-300 shadow-hard"})]}),j.jsxs("div",{className:"bg-white px-6 py-3 border-4 border-black rounded-xl font-black text-lg shadow-hard",children:[" ",d.length," REGS."]})]}),ye.length===0?j.jsx(kA,{onAddAccount:()=>A("add")}):j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ye.map(L=>j.jsx(VA,{account:L,onDelete:fe,onEdit:V},L.id))})]}):j.jsx(j.Fragment,{children:j.jsxs("div",{className:"max-w-2xl mx-auto",children:[j.jsxs("button",{onClick:b==="edit"?I:()=>A("list"),className:"mb-6 flex items-center gap-2 text-black hover:text-indigo-600 font-bold transition-colors",children:[j.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:j.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"VOLTAR"]}),j.jsxs("div",{className:"bg-white border-4 border-black rounded-2xl shadow-hard-lg p-8",children:[j.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[j.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg border-2 border-black",children:j.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[j.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),j.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-black text-black",children:b==="edit"?"EDITAR CREDENCIAL":"NOVA CREDENCIAL"}),j.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"FIREBASE FIRESTORE: TEMPO REAL"})]})]}),j.jsx(MA,{selected:N,onChange:F}),j.jsxs("div",{className:"space-y-4 mt-6",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-bold text-black mb-2",children:"USURIO / EMAIL"}),j.jsx("input",{type:"text",value:Z,onChange:L=>et(L.target.value),placeholder:"usuario@email.com",className:"w-full px-4 py-3 border-3 border-black rounded-lg font-mono focus:outline-none focus:ring-4 focus:ring-indigo-300"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-bold text-black mb-2",children:"SENHA"}),j.jsx("input",{type:"text",value:W,onChange:L=>ct(L.target.value),placeholder:"",className:"w-full px-4 py-3 border-3 border-black rounded-lg font-mono focus:outline-none focus:ring-4 focus:ring-indigo-300"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-bold text-black mb-2",children:"OBSERVAES (OPCIONAL)"}),j.jsx("textarea",{value:dt,onChange:L=>ut(L.target.value),placeholder:"Anote detalhes importantes aqui...",rows:4,className:"w-full px-4 py-3 border-3 border-black rounded-lg font-mono focus:outline-none focus:ring-4 focus:ring-indigo-300 resize-none"})]})]}),j.jsxs("div",{className:"flex gap-4 mt-8",children:[j.jsx("button",{onClick:b==="edit"?I:()=>A("list"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-black px-6 py-3 rounded-xl border-3 border-black font-bold text-lg transition-all active-press shadow-hard",children:"CANCELAR"}),j.jsx("button",{onClick:b==="edit"?k:x,className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl border-3 border-black font-bold text-lg transition-all active-press shadow-hard",children:b==="edit"?"ATUALIZAR DADOS":"SALVAR DADOS"})]})]})]})})})]}):j.jsx(UA,{onGoogleLogin:S,loading:!1,error:l})}const QT=document.getElementById("root");if(!QT)throw new Error("Could not find root element to mount to");const F4=Ob.createRoot(QT);F4.render(j.jsx(Ab.StrictMode,{children:j.jsx(H4,{})}));
