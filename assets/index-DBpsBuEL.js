(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function I0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Od={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function Db(){if(P_)return pl;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var z_;function Ob(){return z_||(z_=1,Od.exports=Db()),Od.exports}var x=Ob(),Vd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Vb(){if(j_)return At;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function ut(O,Q,W){this.props=O,this.context=Q,this.refs=J,this.updater=W||$}ut.prototype.isReactComponent={},ut.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ut.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function mt(){}mt.prototype=ut.prototype;function ct(O,Q,W){this.props=O,this.context=Q,this.refs=J,this.updater=W||$}var Tt=ct.prototype=new mt;Tt.constructor=ct,tt(Tt,ut.prototype),Tt.isPureReactComponent=!0;var Yt=Array.isArray;function wt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(O,Q,W){var at=W.ref;return{$$typeof:r,type:O,key:Q,ref:at!==void 0?at:null,props:W}}function V(O,Q){return w(O.type,Q,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return Q[W]})}var I=/\/+/g;function pe(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Q,W,at,pt){var vt=typeof O;(vt==="undefined"||vt==="boolean")&&(O=null);var Ct=!1;if(O===null)Ct=!0;else switch(vt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(O.$$typeof){case r:case t:Ct=!0;break;case T:return Ct=O._init,F(Ct(O._payload),Q,W,at,pt)}}if(Ct)return pt=pt(O),Ct=at===""?"."+pe(O,0):at,Yt(pt)?(W="",Ct!=null&&(W=Ct.replace(I,"$&/")+"/"),F(pt,Q,W,"",function(ce){return ce})):pt!=null&&(M(pt)&&(pt=V(pt,W+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(I,"$&/")+"/")+Ct)),Q.push(pt)),1;Ct=0;var it=at===""?".":at+":";if(Yt(O))for(var yt=0;yt<O.length;yt++)at=O[yt],vt=it+pe(at,yt),Ct+=F(at,Q,W,vt,pt);else if(yt=H(O),typeof yt=="function")for(O=yt.call(O),yt=0;!(at=O.next()).done;)at=at.value,vt=it+pe(at,yt++),Ct+=F(at,Q,W,vt,pt);else if(vt==="object"){if(typeof O.then=="function")return F(xe(O),Q,W,at,pt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function nt(O,Q,W){if(O==null)return O;var at=[],pt=0;return F(O,at,"","",function(vt){return Q.call(W,vt,pt++)}),at}function ht(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},zt={map:nt,forEach:function(O,Q,W){nt(O,function(){Q.apply(this,arguments)},W)},count:function(O){var Q=0;return nt(O,function(){Q++}),Q},toArray:function(O){return nt(O,function(Q){return Q})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=A,At.Children=zt,At.Component=ut,At.Fragment=i,At.Profiler=l,At.PureComponent=ct,At.StrictMode=s,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Q,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=tt({},O.props),pt=O.key;if(Q!=null)for(vt in Q.key!==void 0&&(pt=""+Q.key),Q)!S.call(Q,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Q.ref===void 0||(at[vt]=Q[vt]);var vt=arguments.length-2;if(vt===1)at.children=W;else if(1<vt){for(var Ct=Array(vt),it=0;it<vt;it++)Ct[it]=arguments[it+2];at.children=Ct}return w(O.type,pt,at)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Q,W){var at,pt={},vt=null;if(Q!=null)for(at in Q.key!==void 0&&(vt=""+Q.key),Q)S.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=Q[at]);var Ct=arguments.length-2;if(Ct===1)pt.children=W;else if(1<Ct){for(var it=Array(Ct),yt=0;yt<Ct;yt++)it[yt]=arguments[yt+2];pt.children=it}if(O&&O.defaultProps)for(at in Ct=O.defaultProps,Ct)pt[at]===void 0&&(pt[at]=Ct[at]);return w(O,vt,pt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=M,At.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},At.startTransition=function(O){var Q=N.T,W={};N.T=W;try{var at=O(),pt=N.S;pt!==null&&pt(W,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(wt,Pt)}catch(vt){Pt(vt)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),N.T=Q}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(O){return N.H.use(O)},At.useActionState=function(O,Q,W){return N.H.useActionState(O,Q,W)},At.useCallback=function(O,Q){return N.H.useCallback(O,Q)},At.useContext=function(O){return N.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Q){return N.H.useDeferredValue(O,Q)},At.useEffect=function(O,Q){return N.H.useEffect(O,Q)},At.useEffectEvent=function(O){return N.H.useEffectEvent(O)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(O,Q,W){return N.H.useImperativeHandle(O,Q,W)},At.useInsertionEffect=function(O,Q){return N.H.useInsertionEffect(O,Q)},At.useLayoutEffect=function(O,Q){return N.H.useLayoutEffect(O,Q)},At.useMemo=function(O,Q){return N.H.useMemo(O,Q)},At.useOptimistic=function(O,Q){return N.H.useOptimistic(O,Q)},At.useReducer=function(O,Q,W){return N.H.useReducer(O,Q,W)},At.useRef=function(O){return N.H.useRef(O)},At.useState=function(O){return N.H.useState(O)},At.useSyncExternalStore=function(O,Q,W){return N.H.useSyncExternalStore(O,Q,W)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.3",At}var B_;function Sm(){return B_||(B_=1,Vd.exports=Vb()),Vd.exports}var Ft=Sm();const Mb=I0(Ft);var Md={exports:{}},gl={},kd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function kb(){return q_||(q_=1,(function(r){function t(F,nt){var ht=F.length;F.push(nt);t:for(;0<ht;){var Pt=ht-1>>>1,zt=F[Pt];if(0<l(zt,nt))F[Pt]=nt,F[ht]=zt,ht=Pt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var nt=F[0],ht=F.pop();if(ht!==nt){F[0]=ht;t:for(var Pt=0,zt=F.length,O=zt>>>1;Pt<O;){var Q=2*(Pt+1)-1,W=F[Q],at=Q+1,pt=F[at];if(0>l(W,ht))at<zt&&0>l(pt,W)?(F[Pt]=pt,F[at]=ht,Pt=at):(F[Pt]=W,F[Q]=ht,Pt=Q);else if(at<zt&&0>l(pt,ht))F[Pt]=pt,F[at]=ht,Pt=at;else break t}}return nt}function l(F,nt){var ht=F.sortIndex-nt.sortIndex;return ht!==0?ht:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],v=[],T=1,A=null,C=3,H=!1,$=!1,tt=!1,J=!1,ut=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Tt(F){for(var nt=i(v);nt!==null;){if(nt.callback===null)s(v);else if(nt.startTime<=F)s(v),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(v)}}function Yt(F){if(tt=!1,Tt(F),!$)if(i(y)!==null)$=!0,wt||(wt=!0,U());else{var nt=i(v);nt!==null&&xe(Yt,nt.startTime-F)}}var wt=!1,N=-1,S=5,w=-1;function V(){return J?!0:!(r.unstable_now()-w<S)}function M(){if(J=!1,wt){var F=r.unstable_now();w=F;var nt=!0;try{t:{$=!1,tt&&(tt=!1,mt(N),N=-1),H=!0;var ht=C;try{e:{for(Tt(F),A=i(y);A!==null&&!(A.expirationTime>F&&V());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,C=A.priorityLevel;var zt=Pt(A.expirationTime<=F);if(F=r.unstable_now(),typeof zt=="function"){A.callback=zt,Tt(F),nt=!0;break e}A===i(y)&&s(y),Tt(F)}else s(y);A=i(y)}if(A!==null)nt=!0;else{var O=i(v);O!==null&&xe(Yt,O.startTime-F),nt=!1}}break t}finally{A=null,C=ht,H=!1}nt=void 0}}finally{nt?U():wt=!1}}}var U;if(typeof ct=="function")U=function(){ct(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=M,U=function(){pe.postMessage(null)}}else U=function(){ut(M,0)};function xe(F,nt){N=ut(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var nt=3;break;default:nt=C}var ht=C;C=nt;try{return F()}finally{C=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=C;C=F;try{return nt()}finally{C=ht}},r.unstable_scheduleCallback=function(F,nt,ht){var Pt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Pt+ht:Pt):ht=Pt,F){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ht+zt,F={id:T++,callback:nt,priorityLevel:F,startTime:ht,expirationTime:zt,sortIndex:-1},ht>Pt?(F.sortIndex=ht,t(v,F),i(y)===null&&F===i(v)&&(tt?(mt(N),N=-1):tt=!0,xe(Yt,ht-Pt))):(F.sortIndex=zt,t(y,F),$||H||($=!0,wt||(wt=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var nt=C;return function(){var ht=C;C=nt;try{return F.apply(this,arguments)}finally{C=ht}}}})(Ud)),Ud}var H_;function Ub(){return H_||(H_=1,kd.exports=kb()),kd.exports}var Ld={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Lb(){if(F_)return We;F_=1;var r=Sm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:v,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(y,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,T)},We.flushSync=function(y){var v=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=T,s.d.f()}},We.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},We.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},We.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var T=v.as,A=p(T,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:H}):T==="script"&&s.d.X(y,{crossOrigin:A,integrity:C,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},We.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},We.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,A=p(T,v.crossOrigin);s.d.L(y,T,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},We.preloadModule=function(y,v){if(typeof y=="string")if(v){var T=p(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},We.requestFormReset=function(y){s.d.r(y)},We.unstable_batchedUpdates=function(y,v){return y(v)},We.useFormState=function(y,v,T){return d.H.useFormState(y,v,T)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var G_;function Pb(){if(G_)return Ld.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=Lb(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function zb(){if(Q_)return gl;Q_=1;var r=Ub(),t=Sm(),i=Pb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ut:return"Profiler";case J:return"StrictMode";case Yt:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ct:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:pe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return pe(e(n))}catch{}}return null}var xe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Pt=[],zt=-1;function O(e){return{current:e}}function Q(e){0>zt||(e.current=Pt[zt],Pt[zt]=null,zt--)}function W(e,n){zt++,Pt[zt]=e.current,e.current=n}var at=O(null),pt=O(null),vt=O(null),Ct=O(null);function it(e,n){switch(W(vt,n),W(pt,e),W(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=o_(n),e=l_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(at),W(at,e)}function yt(){Q(at),Q(pt),Q(vt)}function ce(e){e.memoizedState!==null&&W(Ct,e);var n=at.current,a=l_(n,e.type);n!==a&&(W(pt,e),W(at,a))}function oe(e){pt.current===e&&(Q(at),Q(pt)),Ct.current===e&&(Q(Ct),hl._currentValue=ht)}var je,ni;function En(e){if(je===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);je=n&&n[1]||"",ni=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+ni}var ds=!1;function na(e,n){if(!e||ds)return"";ds=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var j=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){j=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){j=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ds=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?En(a):""}function Ch(e,n){switch(e.tag){case 26:case 27:case 5:return En(e.type);case 16:return En("Lazy");case 13:return e.child!==n&&n!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return na(e.type,!1);case 11:return na(e.type.render,!1);case 1:return na(e.type,!0);case 31:return En("Activity");default:return""}}function Xl(e){try{var n="",a=null;do n+=Ch(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ia=Object.prototype.hasOwnProperty,ms=r.unstable_scheduleCallback,ra=r.unstable_cancelCallback,xh=r.unstable_shouldYield,mo=r.unstable_requestPaint,Be=r.unstable_now,$l=r.unstable_getCurrentPriorityLevel,Ne=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,Ai=r.unstable_NormalPriority,Zl=r.unstable_LowPriority,po=r.unstable_IdlePriority,Nh=r.log,ps=r.unstable_setDisableYieldValue,ir=null,Ze=null;function Dn(e){if(typeof Nh=="function"&&ps(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ir,e)}catch{}}var sn=Math.clz32?Math.clz32:Jl,Dh=Math.log,go=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Dh(e)/go|0)|0}var gs=256,ii=262144,rr=4194304;function Qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function On(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Qn(o):(g&=E,g!==0?h=Qn(g):a||(a=E&~e,a!==0&&(h=Qn(a))))):(E=o&~f,E!==0?h=Qn(E):g!==0?h=Qn(g):a||(a=o&~e,a!==0&&(h=Qn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function sr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),e}function Si(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qe(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-sn(a),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var B=j[G];B!==null&&(B.lane&=-536870913)}a&=~Y}o!==0&&_o(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function _o(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-sn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function or(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-sn(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function lr(e,n){var a=n&-n;return a=(a&42)!==0?1:vo(a),(a&(e.suspendedLanes|n))!==0?0:a}function vo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function Wl(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var ri=Math.random().toString(36).slice(2),he="__reactFiber$"+ri,He="__reactProps$"+ri,si="__reactContainer$"+ri,ur="__reactEvents$"+ri,ai="__reactListeners$"+ri,tu="__reactHandles$"+ri,To="__reactResources$"+ri,Ri="__reactMarker$"+ri;function ys(e){delete e[he],delete e[He],delete e[ur],delete e[ai],delete e[tu]}function Ii(e){var n=e[he];if(n)return n;for(var a=e.parentNode;a;){if(n=a[si]||a[he]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=p_(e);e!==null;){if(a=e[he])return a;e=p_(e)}return n}e=a,a=e.parentNode}return null}function Ci(e){if(e=e[he]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _s(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Kn(e){var n=e[To];return n||(n=e[To]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ge(e){e[Ri]=!0}var aa=new Set,cr={};function an(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(cr[e]=n,e=0;e<n.length;e++)aa.add(n[e])}var Oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ao={};function eu(e){return ia.call(Ao,e)?!0:ia.call(bo,e)?!1:Oh.test(e)?Ao[e]=!0:(bo[e]=!0,!1)}function hr(e,n,a){if(eu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function fr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Vn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vh(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oa(e){if(!e._valueTracker){var n=nu(e)?"checked":"value";e._valueTracker=Vh(e,n,""+e[n])}}function So(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=nu(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xi=/[\n"\\]/g;function fe(e){return e.replace(xi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dr(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+on(n)):e.value!==""+on(n)&&(e.value=""+on(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ua(e,g,on(n)):a!=null?ua(e,g,on(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+on(E):e.removeAttribute("name")}function vs(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){oa(e);return}a=a!=null?""+on(a):"",n=n!=null?""+on(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),oa(e)}function ua(e,n,a){n==="number"&&la(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+on(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Es(e,n,a){if(n!=null&&(n=""+on(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+on(a):""}function mr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(xe(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=on(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),oa(e)}function Mn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Mh.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function iu(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function Ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(e){return Uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Me(){}var ca=null;function ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Tn=null;function ru(e){var n=Ci(e);if(n&&(e=n.stateNode)){var a=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(dr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(s(90));dr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&So(o)}break t;case"textarea":Es(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Bt(e,!!a.multiple,n,!1)}}}var Io=!1;function su(e,n,a){if(Io)return e(n,a);Io=!0;try{var o=e(n);return o}finally{if(Io=!1,(Ni!==null||Tn!==null)&&(ec(),Ni&&(n=Ni,e=Tn,Tn=Ni=null,ru(n),e)))for(n=0;n<e.length;n++)ru(e[n])}}function hn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[He]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=!1;if(Yn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Co=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Co=!1}var bn=null,fa=null,ci=null;function pr(){if(ci)return ci;var e,n=fa,a=n.length,o,h="value"in bn?bn.value:bn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return ci=h.slice(e,1<o?1-o:void 0)}function Ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function ie(){return!1}function Je(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gr:ie,this.isPropagationStopped=ie,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=Je(Di),yr=A({},Di,{view:0,detail:0}),au=Je(yr),_r,da,ln,As=A({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&e.type==="mousemove"?(_r=e.screenX-ln.screenX,da=e.screenY-ln.screenY):da=_r=0,ln=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:da}}),ou=Je(As),Ss=A({},As,{dataTransfer:0}),lu=Je(Ss),xo=A({},yr,{relatedTarget:0}),vr=Je(xo),uu=A({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Je(uu),Lh=A({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=Je(Lh),ws=A({},Di,{data:0}),No=Je(ws),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Oo[e])?!!n[e]:!1}function Er(){return fu}var du=A({},yr,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Do[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=Je(du),Oi=A({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=Je(Oi),pu=A({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),gu=Je(pu),yu=A({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=Je(yu),un=A({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=Je(un),vu=A({},Di,{newState:0,oldState:0}),Tr=Je(vu),u=[9,13,27,32],m=Yn&&"CompositionEvent"in window,_=null;Yn&&"documentMode"in document&&(_=document.documentMode);var b=Yn&&"TextEvent"in window&&!_,L=Yn&&(!m||_&&8<_&&11>=_),q=" ",et=!1;function Qt(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function ke(e,n){switch(e){case"compositionend":return Te(n);case"keypress":return n.which!==32?null:(et=!0,q);case"textInput":return e=n.data,e===q&&et?null:e;default:return null}}function Ue(e,n){if(xt)return e==="compositionend"||!m&&Qt(e,n)?(e=pr(),ci=fa=bn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!br[e.type]:n==="textarea"}function Rs(e,n,a,o){Ni?Tn?Tn.push(o):Tn=[o]:Ni=o,n=lc(n,"onChange"),0<n.length&&(a=new bs("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vi=null,Mo=null;function rT(e){e_(e,0)}function Eu(e){var n=_s(e);if(So(n))return e}function Ep(e,n){if(e==="change")return n}var Tp=!1;if(Yn){var Ph;if(Yn){var zh="oninput"in document;if(!zh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),zh=typeof bp.oninput=="function"}Ph=zh}else Ph=!1;Tp=Ph&&(!document.documentMode||9<document.documentMode)}function Ap(){Vi&&(Vi.detachEvent("onpropertychange",Sp),Mo=Vi=null)}function Sp(e){if(e.propertyName==="value"&&Eu(Mo)){var n=[];Rs(n,Mo,e,ha(e)),su(rT,n)}}function sT(e,n,a){e==="focusin"?(Ap(),Vi=n,Mo=a,Vi.attachEvent("onpropertychange",Sp)):e==="focusout"&&Ap()}function aT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Mo)}function oT(e,n){if(e==="click")return Eu(n)}function lT(e,n){if(e==="input"||e==="change")return Eu(n)}function uT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:uT;function ko(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ia.call(n,h)||!An(e[h],n[h]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,n){var a=wp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=wp(a)}}function Ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=la(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=la(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var cT=Yn&&"documentMode"in document&&11>=document.documentMode,ga=null,Bh=null,Uo=null,qh=!1;function xp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||ga==null||ga!==la(o)||(o=ga,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=lc(Bh,"onSelect"),0<o.length&&(n=new bs("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ga)))}function Is(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Hh={},Np={};Yn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Cs(e){if(Hh[e])return Hh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Np)return Hh[e]=n[a];return e}var Dp=Cs("animationend"),Op=Cs("animationiteration"),Vp=Cs("animationstart"),hT=Cs("transitionrun"),fT=Cs("transitionstart"),dT=Cs("transitioncancel"),Mp=Cs("transitionend"),kp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Xn(e,n){kp.set(e,n),an(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],_a=0,Gh=0;function bu(){for(var e=_a,n=Gh=_a=0;n<e;){var a=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Up(a,h,f)}}function Au(e,n,a,o){kn[_a++]=e,kn[_a++]=n,kn[_a++]=a,kn[_a++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,a,o){return Au(e,n,a,o),Su(e)}function xs(e,n){return Au(e,null,null,n),Su(e)}function Up(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-sn(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Su(e){if(50<rl)throw rl=0,nd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function mT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,a,o){return new mT(e,n,a,o)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var a=e.alternate;return a===null?(a=Sn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Lp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Kh(e)&&(g=1);else if(typeof e=="string")g=vb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Sn(31,a,n,h),e.elementType=w,e.lanes=f,e;case tt:return Ns(a.children,h,f,n);case J:g=8,h|=24;break;case ut:return e=Sn(12,a,n,h|2),e.elementType=ut,e.lanes=f,e;case Yt:return e=Sn(13,a,n,h),e.elementType=Yt,e.lanes=f,e;case wt:return e=Sn(19,a,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case mt:g=9;break t;case Tt:g=11;break t;case N:g=14;break t;case S:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ns(e,n,a,o){return e=Sn(7,e,o,n),e.lanes=a,e}function Yh(e,n,a){return e=Sn(6,e,null,n),e.lanes=a,e}function Pp(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zp=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var a=zp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Xl(n)},zp.set(e,n),n)}return{value:e,source:n,stack:Xl(n)}}var Ea=[],Ta=0,Ru=null,Lo=0,Ln=[],Pn=0,Ar=null,hi=1,fi="";function ki(e,n){Ea[Ta++]=Lo,Ea[Ta++]=Ru,Ru=e,Lo=n}function jp(e,n,a){Ln[Pn++]=hi,Ln[Pn++]=fi,Ln[Pn++]=Ar,Ar=e;var o=hi;e=fi;var h=32-sn(o)-1;o&=~(1<<h),a+=1;var f=32-sn(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,hi=1<<32-sn(n)+h|a<<h|o,fi=f+e}else hi=1<<f|a<<h|o,fi=e}function $h(e){e.return!==null&&(ki(e,1),jp(e,1,0))}function Zh(e){for(;e===Ru;)Ru=Ea[--Ta],Ea[Ta]=null,Lo=Ea[--Ta],Ea[Ta]=null;for(;e===Ar;)Ar=Ln[--Pn],Ln[Pn]=null,fi=Ln[--Pn],Ln[Pn]=null,hi=Ln[--Pn],Ln[Pn]=null}function Bp(e,n){Ln[Pn++]=hi,Ln[Pn++]=fi,Ln[Pn++]=Ar,hi=n.id,fi=n.overflow,Ar=e}var Fe=null,re=null,Lt=!1,Sr=null,zn=!1,Jh=Error(s(519));function wr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Un(n,e)),Jh}function qp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[he]=e,n[He]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<al.length;a++)Ot(al[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),vs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),mr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||s_(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Me),n=!0):n=!1,n||wr(e,!0)}function Hp(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Fe=Fe.return}}function ba(e){if(e!==Fe)return!1;if(!Lt)return Hp(e),Lt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&re&&wr(e),Hp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=m_(e)}else n===27?(n=re,zr(e.type)?(e=bd,bd=null,re=e):re=n):re=Fe?Bn(e.stateNode.nextSibling):null;return!0}function Ds(){re=Fe=null,Lt=!1}function Wh(){var e=Sr;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Sr=null),e}function Po(e){Sr===null?Sr=[e]:Sr.push(e)}var tf=O(null),Os=null,Ui=null;function Rr(e,n,a){W(tf,n._currentValue),n._currentValue=a}function Li(e){e._currentValue=tf.current,Q(tf)}function ef(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function nf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ef(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&nf(n,e,a,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Os=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Fp(Os,e)}function Cu(e,n){return Os===null&&Vs(e),Fp(e,n)}function Fp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(e===null)throw Error(s(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return a}var pT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},gT=r.unstable_scheduleCallback,yT=r.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new pT,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&gT(yT,function(){e.controller.abort()})}var jo=null,sf=0,Sa=0,wa=null;function _T(e,n){if(jo===null){var a=jo=[];sf=0,Sa=ld(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(Gp,Gp),n}function Gp(){if(--sf===0&&jo!==null){wa!==null&&(wa.status="fulfilled");var e=jo;jo=null,Sa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function vT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Qp=F.S;F.S=function(e,n){xy=Be(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_T(e,n),Qp!==null&&Qp(e,n)};var Ms=O(null);function af(){var e=Ms.current;return e!==null?e:te.pooledCache}function xu(e,n){n===null?W(Ms,Ms.current):W(Ms,n.pool)}function Kp(){var e=af();return e===null?null:{parent:be._currentValue,pool:e}}var Ra=Error(s(460)),of=Error(s(474)),Nu=Error(s(542)),Du={then:function(){}};function Yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Me,Me),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e;default:if(typeof n.status=="string")n.then(Me,Me);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e}throw Us=n,Ra}}function ks(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Ra):a}}var Us=null;function $p(){if(Us===null)throw Error(s(459));var e=Us;return Us=null,e}function Zp(e){if(e===Ra||e===Nu)throw Error(s(483))}var Ia=null,Bo=0;function Ou(e){var n=Bo;return Bo+=1,Ia===null&&(Ia=[]),Xp(Ia,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Mi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=Yh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,K){var ft=P.type;return ft===tt?G(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&ks(ft)===D.type)?(D=h(D,P.props),qo(D,P),D.return=k,D):(D=wu(P.type,P.key,P.props,null,k.mode,K),qo(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,K,ft){return D===null||D.tag!==7?(D=Ns(P,k.mode,K,ft),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=wu(D.type,D.key,D.props,null,k.mode,P),qo(P,D),P.return=k,P;case $:return D=Xh(D,k.mode,P),D.return=k,D;case S:return D=ks(D),Y(k,D,P)}if(xe(D)||U(D))return D=Ns(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Ou(D),P);if(D.$$typeof===ct)return Y(k,Cu(k,D),P);Vu(k,D)}return null}function j(k,D,P,K){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ft?R(k,D,P,K):null;case $:return P.key===ft?z(k,D,P,K):null;case S:return P=ks(P),j(k,D,P,K)}if(xe(P)||U(P))return ft!==null?null:G(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,Ou(P),K);if(P.$$typeof===ct)return j(k,D,Cu(k,P),K);Vu(k,P)}return null}function B(k,D,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?P:K.key)||null,R(D,k,K,ft);case $:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ft);case S:return K=ks(K),B(k,D,P,K,ft)}if(xe(K)||U(K))return k=k.get(P)||null,G(D,k,K,ft,null);if(typeof K.then=="function")return B(k,D,P,Ou(K),ft);if(K.$$typeof===ct)return B(k,D,P,Cu(D,K),ft);Vu(D,K)}return null}function ot(k,D,P,K){for(var ft=null,qt=null,lt=D,It=D=0,Mt=null;lt!==null&&It<P.length;It++){lt.index>It?(Mt=lt,lt=null):Mt=lt.sibling;var Ht=j(k,lt,P[It],K);if(Ht===null){lt===null&&(lt=Mt);break}e&&lt&&Ht.alternate===null&&n(k,lt),D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,lt=Mt}if(It===P.length)return a(k,lt),Lt&&ki(k,It),ft;if(lt===null){for(;It<P.length;It++)lt=Y(k,P[It],K),lt!==null&&(D=f(lt,D,It),qt===null?ft=lt:qt.sibling=lt,qt=lt);return Lt&&ki(k,It),ft}for(lt=o(lt);It<P.length;It++)Mt=B(lt,k,It,P[It],K),Mt!==null&&(e&&Mt.alternate!==null&&lt.delete(Mt.key===null?It:Mt.key),D=f(Mt,D,It),qt===null?ft=Mt:qt.sibling=Mt,qt=Mt);return e&&lt.forEach(function(Fr){return n(k,Fr)}),Lt&&ki(k,It),ft}function gt(k,D,P,K){if(P==null)throw Error(s(151));for(var ft=null,qt=null,lt=D,It=D=0,Mt=null,Ht=P.next();lt!==null&&!Ht.done;It++,Ht=P.next()){lt.index>It?(Mt=lt,lt=null):Mt=lt.sibling;var Fr=j(k,lt,Ht.value,K);if(Fr===null){lt===null&&(lt=Mt);break}e&&lt&&Fr.alternate===null&&n(k,lt),D=f(Fr,D,It),qt===null?ft=Fr:qt.sibling=Fr,qt=Fr,lt=Mt}if(Ht.done)return a(k,lt),Lt&&ki(k,It),ft;if(lt===null){for(;!Ht.done;It++,Ht=P.next())Ht=Y(k,Ht.value,K),Ht!==null&&(D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return Lt&&ki(k,It),ft}for(lt=o(lt);!Ht.done;It++,Ht=P.next())Ht=B(lt,k,It,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?It:Ht.key),D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(Nb){return n(k,Nb)}),Lt&&ki(k,It),ft}function Wt(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===tt){if(D.tag===7){a(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&ks(ft)===D.type){a(k,D.sibling),K=h(D,P.props),qo(K,P),K.return=k,k=K;break t}a(k,D);break}else n(k,D);D=D.sibling}P.type===tt?(K=Ns(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=wu(P.type,P.key,P.props,null,k.mode,K),qo(K,P),K.return=k,k=K)}return g(k);case $:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{a(k,D);break}else n(k,D);D=D.sibling}K=Xh(P,k.mode,K),K.return=k,k=K}return g(k);case S:return P=ks(P),Wt(k,D,P,K)}if(xe(P))return ot(k,D,P,K);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),gt(k,D,P,K)}if(typeof P.then=="function")return Wt(k,D,Ou(P),K);if(P.$$typeof===ct)return Wt(k,D,Cu(k,P),K);Vu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,P),K.return=k,k=K):(a(k,D),K=Yh(P,k.mode,K),K.return=k,k=K),g(k)):a(k,D)}return function(k,D,P,K){try{Bo=0;var ft=Wt(k,D,P,K);return Ia=null,ft}catch(lt){if(lt===Ra||lt===Nu)throw lt;var qt=Sn(29,lt,null,k.mode);return qt.lanes=K,qt.return=k,qt}finally{}}}var Ls=Jp(!0),Wp=Jp(!1),Ir=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(e),Up(e,null,a),n}return Au(e,o,n,a),Su(e)}function Ho(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,or(e,a)}}function cf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hf=!1;function Fo(){if(hf){var e=wa;if(e!==null)throw e}}function Go(e,n,a,o){hf=!1;var h=e.updateQueue;Ir=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Vt&j)===j:(o&j)===j){j!==0&&j===Sa&&(hf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=n;var Wt=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){Y=ot.call(Wt,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(Wt,Y,j):ot,j==null)break t;Y=A({},Y,j);break t;case 2:Ir=!0}}j=E.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,R=Y):G=G.next=B,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Mr|=g,e.lanes=g,e.memoizedState=Y}}function tg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function eg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)tg(a[e],n)}var Ca=O(null),Mu=O(0);function ng(e,n){e=Qi,W(Mu,e),W(Ca,n),Qi=e|n.baseLanes}function ff(){W(Mu,Qi),W(Ca,Ca.current)}function df(){Qi=Mu.current,Q(Ca),Q(Mu)}var wn=O(null),jn=null;function Nr(e){var n=e.alternate;W(ye,ye.current&1),W(wn,e),jn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(jn=e)}function mf(e){W(ye,ye.current),W(wn,e),jn===null&&(jn=e)}function ig(e){e.tag===22?(W(ye,ye.current),W(wn,e),jn===null&&(jn=e)):Dr()}function Dr(){W(ye,ye.current),W(wn,wn.current)}function Rn(e){Q(wn),jn===e&&(jn=null),Q(ye)}var ye=O(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Rt=null,Zt=null,Ae=null,Uu=!1,xa=!1,Ps=!1,Lu=0,Qo=0,Na=null,ET=0;function de(){throw Error(s(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!An(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return Pi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?jg:Df,Ps=!1,f=a(o,h),Ps=!1,xa&&(f=sg(n,a,o,h)),rg(e),f}function rg(e){F.H=Xo;var n=Zt!==null&&Zt.next!==null;if(Pi=0,Ae=Zt=Rt=null,Uu=!1,Qo=0,Na=null,n)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&Iu(e)&&(Se=!0))}function sg(e,n,a,o){Rt=e;var h=0;do{if(xa&&(Na=null),Qo=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Bg,f=n(a,o)}while(xa);return f}function TT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function yf(){var e=Lu!==0;return Lu=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Pi=0,Ae=Zt=Rt=null,xa=!1,Qo=Lu=0,Na=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function _e(){if(Zt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?Rt.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,Na===null&&(Na=[]),e=Xp(Na,e,n),n=Rt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?jg:Df),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===ct)return Ge(e)}throw Error(s(438,String(e)))}function Ef(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Pu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function zi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=_e();return Tf(n,Zt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(Pi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Sa&&(G=!0);else if((Pi&j)===j){z=z.next,j===Sa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Rt.lanes|=j,Mr|=j;Y=z.action,Ps&&a(f,Y),f=z.hasEagerState?z.eagerState:a(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=Y,Mr|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!An(f,e.memoizedState)&&(Se=!0,G&&(a=wa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bf(e){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ag(e,n,a){var o=Rt,h=_e(),f=Lt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!An((Zt||h).memoizedState,a);if(g&&(h.memoizedState=a,Se=!0),h=h.queue,wf(ug.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},lg.bind(null,o,h,a,n),null),te===null)throw Error(s(349));f||(Pi&127)!==0||og(o,n,a)}return a}function og(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Pu(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function lg(e,n,a,o){n.value=a,n.getSnapshot=o,cg(n)&&hg(e)}function ug(e,n,a){return a(function(){cg(n)&&hg(e)})}function cg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!An(e,a)}catch{return!0}}function hg(e){var n=xs(e,2);n!==null&&yn(n,e,2)}function Af(e){var n=cn();if(typeof e=="function"){var a=e;if(e=a(),Ps){Dn(!0);try{a()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function fg(e,n,a,o){return e.baseState=a,Tf(e,Zt,typeof o=="function"?o:zi)}function bT(e,n,a,o,h){if(Hu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,dg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),R=F.S;R!==null&&R(g,E),mg(e,n,E)}catch(z){Sf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),mg(e,n,f)}catch(z){Sf(e,n,z)}}function mg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){pg(e,n,o)},function(o){return Sf(e,n,o)}):pg(e,n,a)}function pg(e,n,a){n.status="fulfilled",n.value=a,gg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,dg(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==o)}e.action=null}function gg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yg(e,n){return n}function _g(e,n){if(Lt){var a=te.formState;if(a!==null){t:{var o=Rt;if(Lt){if(re){e:{for(var h=re,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=Bn(h.nextSibling),o=h.data==="F!";break t}}wr(o)}o=!1}o&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:n},a.queue=o,a=Lg.bind(null,Rt,o),o.dispatch=a,o=Af(!1),f=Nf.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=bT.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function vg(e){var n=_e();return Eg(n,Zt,e)}function Eg(e,n,a){if(n=Tf(e,n,yg)[0],e=ju(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===Ra?Nu:g}else o=n;n=_e();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Da(9,{destroy:void 0},AT.bind(null,h,a),null)),[o,f,e]}function AT(e,n){e.action=n}function Tg(e){var n=_e(),a=Zt;if(a!==null)return Eg(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Da(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Pu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function bg(){return _e().memoizedState}function Bu(e,n,a,o){var h=cn();Rt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},a,o===void 0?null:o)}function qu(e,n,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&pf(o,Zt.memoizedState.deps)?h.memoizedState=Da(n,f,a,o):(Rt.flags|=e,h.memoizedState=Da(1|n,f,a,o))}function Ag(e,n){Bu(8390656,8,e,n)}function wf(e,n){qu(2048,8,e,n)}function ST(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Pu(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Sg(e){var n=_e().memoizedState;return ST({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function wg(e,n){return qu(4,2,e,n)}function Rg(e,n){return qu(4,4,e,n)}function Ig(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cg(e,n,a){a=a!=null?a.concat([e]):null,qu(4,4,Ig.bind(null,n,e),a)}function Rf(){}function xg(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ng(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Ps){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[o,n],o}function If(e,n,a){return a===void 0||(Pi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Dy(),Rt.lanes|=e,Mr|=e,a)}function Dg(e,n,a,o){return An(a,n)?a:Ca.current!==null?(e=If(e,a,o),An(e,n)||(Se=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Vt&261930)===0?(Se=!0,e.memoizedState=a):(e=Dy(),Rt.lanes|=e,Mr|=e,n)}function Og(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Nf(e,!1,n,a);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=vT(R,o);Yo(e,n,G,xn(e))}else Yo(e,n,o,xn(e))}catch(Y){Yo(e,n,{then:function(){},status:"rejected",reason:Y},xn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function wT(){}function Cf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Vg(e).queue;Og(e,h,n,ht,a===null?wT:function(){return Mg(e),a(o)})}function Vg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mg(e){var n=Vg(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},xn())}function xf(){return Ge(hl)}function kg(){return _e().memoizedState}function Ug(){return _e().memoizedState}function RT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=xn();e=Cr(a);var o=xr(n,e,a);o!==null&&(yn(o,n,a),Ho(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function IT(e,n,a){var o=xn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Pg(n,a):(a=Qh(e,n,a,o),a!==null&&(yn(a,e,o),zg(a,n,o)))}function Lg(e,n,a){var o=xn();Yo(e,n,a,o)}function Yo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return Au(e,n,h,0),te===null&&bu(),!1}catch{}finally{}if(a=Qh(e,n,h,o),a!==null)return yn(a,e,o),zg(a,n,o),!0}return!1}function Nf(e,n,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(s(479))}else n=Qh(e,a,o,2),n!==null&&yn(n,e,2)}function Hu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Pg(e,n){xa=Uu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,or(e,a)}}var Xo={readContext:Ge,use:zu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Xo.useEffectEvent=de;var jg={readContext:Ge,use:zu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:Ag,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Bu(4194308,4,Ig.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var a=cn();n=n===void 0?null:n;var o=e();if(Ps){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=cn();if(a!==void 0){var h=a(n);if(Ps){Dn(!0);try{a(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=IT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,a=Lg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,n){var a=cn();return If(a,e,n)},useTransition:function(){var e=Af(!1);return e=Og.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=cn();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(Vt&127)!==0||og(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ag(ug.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},lg.bind(null,o,f,a,n),null),a},useId:function(){var e=cn(),n=te.identifierPrefix;if(Lt){var a=fi,o=hi;a=(o&~(1<<32-sn(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Lu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=ET++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:_g,useActionState:_g,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return cn().memoizedState=RT.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),a={impl:e};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:Ge,use:zu,useCallback:xg,useContext:Ge,useEffect:wf,useImperativeHandle:Cg,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:ju,useRef:bg,useState:function(){return ju(zi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=_e();return Dg(a,Zt.memoizedState,e,n)},useTransition:function(){var e=ju(zi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:xf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var a=_e();return fg(a,Zt,e,n)},useMemoCache:Ef,useCacheRefresh:Ug};Df.useEffectEvent=Sg;var Bg={readContext:Ge,use:zu,useCallback:xg,useContext:Ge,useEffect:wf,useImperativeHandle:Cg,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:bf,useRef:bg,useState:function(){return bf(zi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=_e();return Zt===null?If(a,e,n):Dg(a,Zt.memoizedState,e,n)},useTransition:function(){var e=bf(zi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:xf,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var a=_e();return Zt!==null?fg(a,Zt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Ug};Bg.useEffectEvent=Sg;function Of(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=xn(),h=Cr(o);h.payload=n,a!=null&&(h.callback=a),n=xr(e,h,o),n!==null&&(yn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=xn(),h=Cr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=xr(e,h,o),n!==null&&(yn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=xn(),o=Cr(a);o.tag=2,n!=null&&(o.callback=n),n=xr(e,o,a),n!==null&&(yn(n,e,a),Ho(n,e,a))}};function qg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(a,o)||!ko(h,f):!0}function Hg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function zs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Fg(e){Tu(e)}function Gg(e){console.error(e)}function Qg(e){Tu(e)}function Fu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,n)},a}function Yg(e){return e=Cr(e),e.tag=3,e}function Xg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Kg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Kg(n,a,o),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function CT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Aa(n,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?nc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Du?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Du?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(s(435,a.tag))}return sd(e,o,h),nc(),!1}if(Lt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(s(422),{cause:o}),Po(Un(e,a)))):(o!==Jh&&(n=Error(s(423),{cause:o}),Po(Un(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,a),h=Mf(e.stateNode,o,h),cf(e,h),me!==4&&(me=2)),!1;var f=Error(s(520),{cause:o});if(f=Un(f,a),il===null?il=[f]:il.push(f),me!==4&&(me=2),n===null)return!0;o=Un(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),cf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(kr===null||!kr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yg(h),Xg(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var kf=Error(s(461)),Se=!1;function Qe(e,n,a,o){n.child=e===null?Wp(n,null,a,o):Ls(n,e.child,a,o)}function $g(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vs(n),o=gf(e,n,a,g,f,h),E=yf(),e!==null&&!Se?(_f(e,n,h),ji(e,n,h)):(Lt&&E&&$h(n),n.flags|=1,Qe(e,n,o,h),n.child)}function Zg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Jg(e,n,f,o,h)):(e=wu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jg(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Uf(e,n,a,o,h)}function Wg(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?ng(n,f):ff(),ig(n);else return o=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(xu(n,f.cachePool),ng(n,f),Dr(),n.memoizedState=null):(e!==null&&xu(n,null),ff(),Dr());return Qe(e,n,h,a),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,a,o,h){var f=af();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(n,null),ff(),ig(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function Gu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,a){return Ls(n,e.child,null,a),e=Gu(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function xT(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Gu(n,o),n.lanes=536870912,$o(null,e);if(mf(n),(e=re)?(e=d_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,Fe=n,re=null)):e=null,e===null)throw wr(n);return n.lanes=536870912,null}return Gu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Aa(e,n,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(g=lr(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,xs(e,g),yn(o,e,g),kf;nc(),n=ey(e,n,a)}else e=f.treeContext,re=Bn(g.nextSibling),Fe=n,Lt=!0,Sr=null,zn=!1,e!==null&&Bp(n,e),n=Gu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Uf(e,n,a,o,h){return Vs(n),a=gf(e,n,a,o,void 0,h),o=yf(),e!==null&&!Se?(_f(e,n,h),ji(e,n,h)):(Lt&&o&&$h(n),n.flags|=1,Qe(e,n,a,h),n.child)}function ny(e,n,a,o,h,f){return Vs(n),n.updateQueue=null,a=sg(n,o,a,h),rg(e),o=yf(),e!==null&&!Se?(_f(e,n,f),ji(e,n,f)):(Lt&&o&&$h(n),n.flags|=1,Qe(e,n,a,f),n.child)}function iy(e,n,a,o,h){if(Vs(n),n.stateNode===null){var f=va,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):va,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Of(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=zs(a,E);f.props=R;var z=f.context,G=a.contextType;g=va,typeof G=="object"&&G!==null&&(g=Ge(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Hg(n,f,o,g),Ir=!1;var j=n.memoizedState;f.state=j,Go(n,o,f,h),Fo(),z=n.memoizedState,E||j!==z||Ir?(typeof Y=="function"&&(Of(n,a,Y,o),z=n.memoizedState),(R=Ir||qg(n,a,R,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),g=n.memoizedProps,G=zs(a,g),f.props=G,Y=n.pendingProps,j=f.context,z=a.contextType,R=va,typeof z=="object"&&z!==null&&(R=Ge(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Hg(n,f,o,R),Ir=!1,j=n.memoizedState,f.state=j,Go(n,o,f,h),Fo();var B=n.memoizedState;g!==Y||j!==B||Ir||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Of(n,a,E,o),B=n.memoizedState),(G=Ir||qg(n,a,G,o,j,B,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ls(n,e.child,null,h),n.child=Ls(n,null,a,h)):Qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function ry(e,n,a,o){return Ds(),n.flags|=256,Qe(e,n,a,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Kp()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function sy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Nr(n):Dr(),(e=re)?(e=d_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ar!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,Fe=n,re=null)):e=null,e===null)throw wr(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Dr(),h=n.mode,E=Ku({mode:"hidden",children:E},h),o=Ns(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(e,g,a),n.memoizedState=Lf,$o(null,o)):(Nr(n),jf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Nr(n),n.flags&=-257,n=Bf(e,n,a)):n.memoizedState!==null?(Dr(),n.child=e.child,n.flags|=128,n=null):(Dr(),E=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),E=Ns(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ls(n,e.child,null,a),o=n.child,o.memoizedState=Pf(a),o.childLanes=zf(e,g,a),n.memoizedState=Lf,n=$o(null,o));else if(Nr(n),Td(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Bf(e,n,a)}else if(Se||Aa(e,n,a,!1),g=(a&e.childLanes)!==0,Se||g){if(g=te,g!==null&&(o=lr(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,xs(e,o),yn(g,e,o),kf;Ed(E)||nc(),n=Bf(e,n,a)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,re=Bn(E.nextSibling),Fe=n,Lt=!0,Sr=null,zn=!1,e!==null&&Bp(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Dr(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Mi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Mi(z,E):(E=Ns(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(a):(h=E.cachePool,h!==null?(R=be._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Kp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,g,a),n.memoizedState=Lf,$o(e.child,o)):(Nr(n),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function jf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Bf(e,n,a){return Ls(n,e.child,null,a),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,a)}function qf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function oy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(ye,g),Qe(e,n,o,a),o=Lt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,a,n);else if(e.tag===19)ay(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(n,!0,a,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Mr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Aa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Mi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function NT(e,n,a){switch(n.tag){case 3:it(n,n.stateNode.containerInfo),Rr(n,be,e.memoizedState.cache),Ds();break;case 27:case 5:ce(n);break;case 4:it(n,n.stateNode.containerInfo);break;case 10:Rr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?sy(e,n,a):(Nr(n),e=ji(e,n,a),e!==null?e.sibling:null);Nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Aa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return oy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(ye,ye.current),o)break;return null;case 22:return n.lanes=0,Wg(e,n,a,n.pendingProps);case 24:Rr(n,be,e.memoizedState.cache)}return ji(e,n,a)}function ly(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Hf(e,a)&&(n.flags&128)===0)return Se=!1,NT(e,n,a);Se=(e.flags&131072)!==0}else Se=!1,Lt&&(n.flags&1048576)!==0&&jp(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ks(n.elementType),n.type=e,typeof e=="function")Kh(e)?(o=zs(e,o),n.tag=1,n=iy(null,n,e,o,a)):(n.tag=0,n=Uf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=$g(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=Zg(null,n,e,o,a);break t}}throw n=pe(e)||e,Error(s(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zs(o,n.pendingProps),iy(e,n,o,h,a);case 3:t:{if(it(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Go(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Rr(n,be,o),o!==f.cache&&nf(n,[be],a,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(e,n,o,a);break t}else if(o!==h){h=Un(Error(s(424)),n),Po(h),n=ry(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=Bn(e.firstChild),Fe=n,Lt=!0,Sr=null,zn=!0,a=Wp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ds(),o===h){n=ji(e,n,a);break t}Qe(e,n,o,a)}n=n.child}return n;case 26:return Qu(e,n),e===null?(a=v_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,e=n.pendingProps,o=uc(vt.current).createElement(a),o[he]=n,o[He]=e,Ke(o,a,e),ge(o),n.stateNode=o):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ce(n),e===null&&Lt&&(o=n.stateNode=g_(n.type,n.pendingProps,vt.current),Fe=n,zn=!0,h=re,zr(n.type)?(bd=h,re=Bn(o.firstChild)):re=h),Qe(e,n,n.pendingProps.children,a),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=re)&&(o=ab(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Fe=n,re=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||wr(n)),ce(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,TT,null,null,a),hl._currentValue=h),Qu(e,n),Qe(e,n,o,a),n.child;case 6:return e===null&&Lt&&((e=a=re)&&(a=ob(a,n.pendingProps,zn),a!==null?(n.stateNode=a,Fe=n,re=null,e=!0):e=!1),e||wr(n)),null;case 13:return sy(e,n,a);case 4:return it(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ls(n,null,o,a):Qe(e,n,o,a),n.child;case 11:return $g(e,n,n.type,n.pendingProps,a);case 7:return Qe(e,n,n.pendingProps,a),n.child;case 8:return Qe(e,n,n.pendingProps.children,a),n.child;case 12:return Qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Rr(n,n.type,o.value),Qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vs(n),h=Ge(h),o=o(h),n.flags|=1,Qe(e,n,o,a),n.child;case 14:return Zg(e,n,n.type,n.pendingProps,a);case 15:return Jg(e,n,n.type,n.pendingProps,a);case 19:return oy(e,n,a);case 31:return xT(e,n,a);case 22:return Wg(e,n,a,n.pendingProps);case 24:return Vs(n),o=Ge(be),e===null?(h=af(),h===null&&(h=te,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},lf(n),Rr(n,be,h)):((e.lanes&a)!==0&&(uf(e,n),Go(n,null,null,a),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rr(n,be,o)):(o=f.cache,Rr(n,be,o),o!==h.cache&&nf(n,[be],a,!0))),Qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(e){e.flags|=4}function Ff(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ky())e.flags|=8192;else throw Us=Du,of}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(ky())e.flags|=8192;else throw Us=Du,of}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?yo():536870912,e.lanes|=n,ka|=n)}function Zo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function DT(e,n,a){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(be),yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ba(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(se(n),uy(n,f)):(se(n),Ff(n,h,null,o,a))):f?f!==e.memoizedState?(Bi(n),se(n),uy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),se(n),Ff(n,h,e,o,a)),null;case 27:if(oe(n),a=vt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return se(n),null}e=at.current,ba(n)?qp(n):(e=g_(h,o,a),n.stateNode=e,Bi(n))}return se(n),null;case 5:if(oe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(f=at.current,ba(n))qp(n);else{var g=uc(vt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[he]=n,f[He]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return se(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=vt.current,ba(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[he]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,a)),e||wr(n,!0)}else e=uc(e).createTextNode(o),e[he]=n,n.stateNode=e}return se(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[he]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[he]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Yu(n,n.updateQueue),se(n),null);case 4:return yt(),e===null&&fd(n.stateNode.containerInfo),se(n),null;case 10:return Li(n.type),se(n),null;case 19:if(Q(ye),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Lp(a,e),a=a.sibling;return W(ye,ye.current&1|2),Lt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Be()>Wu&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return se(n),null}else 2*Be()-o.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Be(),e.sibling=null,a=ye.current,W(ye,h?a&1|2:a&1),Lt&&ki(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return Rn(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&Yu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Q(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Li(be),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function OT(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(be),yt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oe(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(s(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(ye),null;case 4:return yt(),null;case 10:return Li(n.type),null;case 22:case 23:return Rn(n),df(),e!==null&&Q(Ms),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(be),null;case 25:return null;default:return null}}function cy(e,n){switch(Zh(n),n.tag){case 3:Li(be),yt();break;case 26:case 27:case 5:oe(n);break;case 4:yt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Q(ye);break;case 10:Li(n.type);break;case 22:case 23:Rn(n),df(),e!==null&&Q(Ms);break;case 24:Li(be)}}function Jo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function Or(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(G){$t(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function hy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{eg(n,a)}catch(o){$t(e,e.return,o)}}}function fy(e,n,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function Wo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function di(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function dy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Gf(e,n,a){try{var o=e.stateNode;tb(o,e.type,a,n),o[He]=n}catch(h){$t(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Me));else if(o!==4&&(o===27&&zr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,a),e=e.sibling;e!==null;)Kf(e,n,a),e=e.sibling}function Xu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xu(e,n,a),e=e.sibling;e!==null;)Xu(e,n,a),e=e.sibling}function py(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,o,a),n[he]=e,n[He]=a}catch(f){$t(e,e.return,f)}}var qi=!1,we=!1,Yf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function VT(e,n){if(e=e.containerInfo,pd=gc,e=Cp(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var B;Y!==a||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(B=Y.firstChild)!==null;)j=Y,Y=B;for(;;){if(Y===e)break e;if(j===a&&++z===h&&(E=g),j===f&&++G===o&&(R=g),(B=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},gc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=zs(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function yy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),o&4&&Jo(5,a);break;case 1:if(Fi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(a,a.return,g)}else{var h=zs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(a,a.return,g)}}o&64&&hy(a),o&512&&Wo(a,a.return);break;case 3:if(Fi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{eg(e,n)}catch(g){$t(a,a.return,g)}}break;case 27:n===null&&o&4&&py(a);case 26:case 5:Fi(e,a),n===null&&o&4&&dy(a),o&512&&Wo(a,a.return);break;case 12:Fi(e,a);break;case 31:Fi(e,a),o&4&&Ey(e,a);break;case 13:Fi(e,a),o&4&&Ty(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qT.bind(null,a),lb(e,a))));break;case 22:if(o=a.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||we,h=qi;var f=we;qi=o,(we=n)&&!f?Gi(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),qi=h,we=f}break;case 30:break;default:Fi(e,a)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ys(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,dn=!1;function Hi(e,n,a){for(a=a.child;a!==null;)vy(e,n,a),a=a.sibling}function vy(e,n,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ir,a)}catch{}switch(a.tag){case 26:we||di(a,n),Hi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||di(a,n);var o=le,h=dn;zr(a.type)&&(le=a.stateNode,dn=!1),Hi(e,n,a),ll(a.stateNode),le=o,dn=h;break;case 5:we||di(a,n);case 6:if(o=le,h=dn,le=null,Hi(e,n,a),le=o,dn=h,le!==null)if(dn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:le!==null&&(dn?(e=le,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):h_(le,a.stateNode));break;case 4:o=le,h=dn,le=a.stateNode.containerInfo,dn=!0,Hi(e,n,a),le=o,dn=h;break;case 0:case 11:case 14:case 15:Or(2,a,n),we||Or(4,a,n),Hi(e,n,a);break;case 1:we||(di(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fy(a,n,o)),Hi(e,n,a);break;case 21:Hi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Hi(e,n,a),we=o;break;default:Hi(e,n,a)}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){$t(n,n.return,a)}}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){$t(n,n.return,a)}}function MT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(s(435,e.tag))}}function $u(e,n){var a=MT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=HT.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(zr(E.type)){le=E.stateNode,dn=!1;break t}break;case 5:le=E.stateNode,dn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(le===null)throw Error(s(160));vy(f,g,h),le=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var $n=null;function by(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),pn(e),o&4&&(Or(3,e,e.return),Jo(3,e),Or(5,e,e.return));break;case 1:mn(n,e),pn(e),o&512&&(we||a===null||di(a,a.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(mn(n,e),pn(e),o&512&&(we||a===null||di(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[he]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,a),f[he]=e,ge(f),o=f;break t;case"link":var g=b_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[he]=e,ge(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=T_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?A_(h,e.type,e.stateNode):T_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,a.memoizedProps)}break;case 27:mn(n,e),pn(e),o&512&&(we||a===null||di(a,a.return)),a!==null&&o&4&&Gf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mn(n,e),pn(e),o&512&&(we||a===null||di(a,a.return)),e.flags&32){h=e.stateNode;try{Mn(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(mn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(fc=null,h=$n,$n=cc(n.containerInfo),mn(n,e),$n=h,pn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(ot){$t(e,e.return,ot)}Yf&&(Yf=!1,Ay(e));break;case 4:o=$n,$n=cc(e.stateNode.containerInfo),mn(n,e),pn(e),$n=o;break;case 12:mn(n,e),pn(e);break;case 31:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:mn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ju=Be()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=qi,G=we;if(qi=z||h,we=G||R,mn(n,e),we=G,qi=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||qi||we||js(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){$t(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){$t(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var B=R.stateNode;h?f_(B,!0):f_(R.stateNode,!1)}catch(ot){$t(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,$u(e,a))));break;case 19:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:mn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(my(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(e);Xu(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(Mn(g,""),a.flags&=-33);var E=Qf(e);Xu(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Qf(e);Kf(e,z,R);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),js(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fy(n,n.return,a),js(n);break;case 27:ll(n.stateNode);case 26:case 5:di(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}e=e.sibling}}function Gi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),Jo(4,f);break;case 1:if(Gi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)tg(R[h],E)}catch(z){$t(o,o.return,z)}}a&&g&64&&hy(f),Wo(f,f.return);break;case 27:py(f);case 26:case 5:Gi(h,f,a),a&&o===null&&g&4&&dy(f),Wo(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&g&4&&Ey(h,f);break;case 13:Gi(h,f,a),a&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),Wo(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Zn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,a,o),n=n.sibling}function Sy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,a,o),h&2048&&Jo(9,n);break;case 1:Zn(e,n,a,o);break;case 3:Zn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Zn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Zn(e,n,a,o);break;case 31:Zn(e,n,a,o);break;case 13:Zn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,a,o):tl(e,n):f._visibility&2?Zn(e,n,a,o):(f._visibility|=2,Oa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:Zn(e,n,a,o),h&2048&&$f(n.alternate,n);break;default:Zn(e,n,a,o)}}function Oa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,R,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Oa(f,g,E,R,h):tl(f,g):(G._visibility|=2,Oa(f,g,E,R,h)),h&&z&2048&&Xf(g.alternate,g);break;case 24:Oa(f,g,E,R,h),h&&z&2048&&$f(g.alternate,g);break;default:Oa(f,g,E,R,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:tl(a,o),h&2048&&Xf(o.alternate,o);break;case 24:tl(a,o),h&2048&&$f(o.alternate,o);break;default:tl(a,o)}n=n.sibling}}var el=8192;function Va(e,n,a){if(e.subtreeFlags&el)for(e=e.child;e!==null;)wy(e,n,a),e=e.sibling}function wy(e,n,a){switch(e.tag){case 26:Va(e,n,a),e.flags&el&&e.memoizedState!==null&&Eb(a,$n,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,a);break;case 3:case 4:var o=$n;$n=cc(e.stateNode.containerInfo),Va(e,n,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Va(e,n,a),el=o):Va(e,n,a));break;default:Va(e,n,a)}}function Ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Cy(o,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Or(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):nl(e);break;default:nl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Cy(o,e)}Ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Or(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Cy(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Or(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(_y(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var kT={getCacheForType:function(e){var n=Ge(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ge(be).controller.signal}},UT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Dt=null,Vt=0,Xt=0,In=null,Vr=!1,Ma=!1,Zf=!1,Qi=0,me=0,Mr=0,Bs=0,Jf=0,Cn=0,ka=0,il=null,gn=null,Wf=!1,Ju=0,xy=0,Wu=1/0,tc=null,kr=null,De=0,Ur=null,Ua=null,Ki=0,td=0,ed=null,Ny=null,rl=0,nd=null;function xn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:F.T!==null?ld():wi()}function Dy(){if(Cn===0)if((Vt&536870912)===0||Lt){var e=ii;ii<<=1,(ii&3932160)===0&&(ii=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function yn(e,n,a){(e===te&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Lr(e,Vt,Cn,!1)),ar(e,a),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Bs|=a),me===4&&Lr(e,Vt,Cn,!1)),mi(e))}function Oy(e,n,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||sr(e,n),h=o?zT(e,n):rd(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Lr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!LT(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var R=E.current.memoizedState.isDehydrated;if(R&&(La(E,g).flags|=256),g=rd(E,g,!1),g!==2){if(Zf&&!R){E.errorRecoveryDisabledLanes|=f,Bs|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Lr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Lr(o,n,Cn,!Vr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Ju+300-Be(),10<h)){if(Lr(o,n,Cn,!Vr),On(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=u_(Vy.bind(null,o,a,gn,tc,Wf,n,Cn,Bs,ka,Vr,f,"Throttled",-0,0),h);break t}Vy(o,a,gn,tc,Wf,n,Cn,Bs,ka,Vr,f,null,-0,0)}}break}while(!0);mi(e)}function Vy(e,n,a,o,h,f,g,E,R,z,G,Y,j,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Me},wy(n,f,Y);var ot=(f&62914560)===f?Ju-Be():(f&4194048)===f?xy-Be():0;if(ot=Tb(Y,ot),ot!==null){Ki=f,e.cancelPendingCommit=ot(By.bind(null,e,n,f,a,o,h,g,E,R,G,Y,null,j,B)),Lr(e,f,g,!z);return}}By(e,n,f,a,o,h,g,E,R)}function LT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n,a,o){n&=~Jf,n&=~Bs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-sn(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&_o(e,a,n)}function ec(){return(Gt&6)===0?(sl(0),!1):!0}function id(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,Ui=Os=null,vf(e),Ia=null,Bo=0,e=Dt;for(;e!==null;)cy(e.alternate,e),e=e.return;Dt=null}}function La(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ib(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,id(),te=e,Dt=a=Mi(e.current,null),Vt=n,Xt=0,In=null,Vr=!1,Ma=sr(e,n),Zf=!1,ka=Cn=Jf=Bs=Mr=me=0,gn=il=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-sn(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,bu(),a}function My(e,n){Rt=null,F.H=Xo,n===Ra||n===Nu?(n=$p(),Xt=3):n===of?(n=$p(),Xt=4):Xt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Dt===null&&(me=1,Fu(e,Un(n,e.current)))}function ky(){var e=wn.current;return e===null?!0:(Vt&4194048)===Vt?jn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===jn:!1}function Uy(){var e=F.H;return F.H=Xo,e===null?Xo:e}function Ly(){var e=F.A;return F.A=kT,e}function nc(){me=4,Vr||(Vt&4194048)!==Vt&&wn.current!==null||(Ma=!0),(Mr&134217727)===0&&(Bs&134217727)===0||te===null||Lr(te,Vt,Cn,!1)}function rd(e,n,a){var o=Gt;Gt|=2;var h=Uy(),f=Ly();(te!==e||Vt!==n)&&(tc=null,La(e,n)),n=!1;var g=me;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,R=In;switch(Xt){case 8:id(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Xt;if(Xt=0,In=null,Pa(e,E,R,z),a&&Ma){g=0;break t}break;default:z=Xt,Xt=0,In=null,Pa(e,E,R,z)}}PT(),g=me;break}catch(G){My(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ui=Os=null,Gt=o,F.H=h,F.A=f,Dt===null&&(te=null,Vt=0,bu()),g}function PT(){for(;Dt!==null;)Py(Dt)}function zT(e,n){var a=Gt;Gt|=2;var o=Uy(),h=Ly();te!==e||Vt!==n?(tc=null,Wu=Be()+500,La(e,n)):Ma=sr(e,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=In;e:switch(Xt){case 1:Xt=0,In=null,Pa(e,n,f,1);break;case 2:case 9:if(Yp(f)){Xt=0,In=null,zy(n);break}n=function(){Xt!==2&&Xt!==9||te!==e||(Xt=7),mi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Yp(f)?(Xt=0,In=null,zy(n)):(Xt=0,In=null,Pa(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?S_(g):E.stateNode.complete){Xt=0,In=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,ic(z)):Dt=null}break e}}Xt=0,In=null,Pa(e,n,f,5);break;case 6:Xt=0,In=null,Pa(e,n,f,6);break;case 8:id(),me=6;break t;default:throw Error(s(462))}}jT();break}catch(G){My(e,G)}while(!0);return Ui=Os=null,F.H=o,F.A=h,Gt=a,Dt!==null?0:(te=null,Vt=0,bu(),me)}function jT(){for(;Dt!==null&&!xh();)Py(Dt)}function Py(e){var n=ly(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?ic(e):Dt=n}function zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ny(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=ny(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:vf(n);default:cy(a,n),n=Dt=Lp(n,Qi),n=ly(a,n,Qi)}e.memoizedProps=e.pendingProps,n===null?ic(e):Dt=n}function Pa(e,n,a,o){Ui=Os=null,vf(n),Ia=null,Bo=0;var h=n.return;try{if(CT(e,h,n,a,Vt)){me=1,Fu(e,Un(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;me=1,Fu(e,Un(a,e.current)),Dt=null;return}n.flags&32768?(Lt||o===1?e=!0:Ma||(Vt&536870912)!==0?e=!1:(Vr=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){jy(n,Vr);return}e=n.return;var a=DT(n.alternate,n,Qi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);me===0&&(me=5)}function jy(e,n){do{var a=OT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);me=6,Dt=null}function By(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do rc();while(De!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gh,qe(e,a,f,g,E,R),e===te&&(Dt=te=null,Vt=0),Ua=n,Ur=e,Ki=a,td=f,ed=h,Ny=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,FT(Ai,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Gt,Gt|=4;try{VT(e,n,a)}finally{Gt=g,nt.p=h,F.T=o}}De=1,qy(),Hy(),Fy()}}function qy(){if(De===1){De=0;var e=Ur,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{by(n,e);var f=gd,g=Cp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ip(E.ownerDocument.documentElement,E)){if(R!==null&&jh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var B=j.getSelection(),ot=E.textContent.length,gt=Math.min(R.start,ot),Wt=R.end===void 0?gt:Math.min(R.end,ot);!B.extend&&gt>Wt&&(g=Wt,Wt=gt,gt=g);var k=Rp(E,gt),D=Rp(E,Wt);if(k&&D&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),B.removeAllRanges(),gt>Wt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}gc=!!pd,gd=pd=null}finally{Gt=h,nt.p=o,F.T=a}}e.current=n,De=2}}function Hy(){if(De===2){De=0;var e=Ur,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{yy(e,n.alternate,n)}finally{Gt=h,nt.p=o,F.T=a}}De=3}}function Fy(){if(De===4||De===3){De=0,mo();var e=Ur,n=Ua,a=Ki,o=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ua=Ur=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(kr=null),Eo(a),n=n.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ir,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Ki&3)!==0&&rc(),mi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?rl++:(rl=0,nd=e):rl=0,sl(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function rc(){return qy(),Hy(),Fy(),Qy()}function Qy(){if(De!==5)return!1;var e=Ur,n=td;td=0;var a=Eo(Ki),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=ed,ed=null;var f=Ur,g=Ki;if(De=0,Ua=Ur=null,Ki=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Iy(f.current),Sy(f,f.current,g,a),Gt=E,sl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ir,f)}catch{}return!0}finally{nt.p=h,F.T=o,Gy(e,n)}}function Ky(e,n,a){n=Un(a,n),n=Mf(e.stateNode,n,2),e=xr(e,n,2),e!==null&&(ar(e,2),mi(e))}function $t(e,n,a){if(e.tag===3)Ky(e,e,a);else for(;n!==null;){if(n.tag===3){Ky(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(kr===null||!kr.has(o))){e=Un(a,e),a=Yg(2),o=xr(n,a,2),o!==null&&(Xg(a,o,n,e),ar(o,2),mi(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new UT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Zf=!0,h.add(a),e=BT.bind(null,e,n,a),n.then(e,e))}function BT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Vt&a)===a&&(me===4||me===3&&(Vt&62914560)===Vt&&300>Be()-Ju?(Gt&2)===0&&La(e,0):Jf|=a,ka===Vt&&(ka=0)),mi(e)}function Yy(e,n){n===0&&(n=yo()),e=xs(e,n),e!==null&&(ar(e,n),mi(e))}function qT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Yy(e,a)}function HT(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Yy(e,a)}function FT(e,n){return ms(e,n)}var sc=null,za=null,ad=!1,ac=!1,od=!1,Pr=0;function mi(e){e!==za&&e.next===null&&(za===null?sc=za=e:za=za.next=e),ac=!0,ad||(ad=!0,QT())}function sl(e,n){if(!od&&ac){od=!0;do for(var a=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-sn(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jy(o,f))}else f=Vt,f=On(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||sr(o,f)||(a=!0,Jy(o,f));o=o.next}while(a);od=!1}}function GT(){Xy()}function Xy(){ac=ad=!1;var e=0;Pr!==0&&nb()&&(e=Pr);for(var n=Be(),a=null,o=sc;o!==null;){var h=o.next,f=$y(o,n);f===0?(o.next=null,a===null?sc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}De!==0&&De!==5||sl(e),Pr!==0&&(Pr=0)}function $y(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-sn(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=sa(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,a=Vt,a=On(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ra(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||sr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ra(o),Eo(a)){case 2:case 8:a=Ve;break;case 32:a=Ai;break;case 268435456:a=po;break;default:a=Ai}return o=Zy.bind(null,e),a=ms(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ra(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rc()&&e.callbackNode!==a)return null;var o=Vt;return o=On(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),$y(e,Be()),e.callbackNode!=null&&e.callbackNode===a?Zy.bind(null,e):null)}function Jy(e,n){if(rc())return null;Oy(e,n,!0)}function QT(){rb(function(){(Gt&6)!==0?ms(Ne,GT):Xy()})}function ld(){if(Pr===0){var e=Sa;e===0&&(e=gs,gs<<=1,(gs&261888)===0&&(gs=256)),Pr=e}return Pr}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:li(""+e)}function t_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function KT(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Wy((h[He]||null).action),g=o.submitter;g&&(n=(n=g[He]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new bs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Pr!==0){var R=g?t_(h,g):new FormData(h);Cf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?t_(h,g):new FormData(h),Cf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],YT=cd.toLowerCase(),XT=cd[0].toUpperCase()+cd.slice(1);Xn(YT,"on"+XT)}Xn(Dp,"onAnimationEnd"),Xn(Op,"onAnimationIteration"),Xn(Vp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(hT,"onTransitionRun"),Xn(fT,"onTransitionStart"),Xn(dT,"onTransitionCancel"),Xn(Mp,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function e_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=R}}}}function Ot(e,n){var a=n[ur];a===void 0&&(a=n[ur]=new Set);var o=e+"__bubble";a.has(o)||(n_(n,e,2,!1),a.add(o))}function hd(e,n,a){var o=0;n&&(o|=4),n_(a,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[oc]){e[oc]=!0,aa.forEach(function(a){a!=="selectionchange"&&($T.has(a)||hd(a,!1,e),hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,hd("selectionchange",!1,n))}}function n_(e,n,a,o){switch(D_(n)){case 2:var h=Sb;break;case 8:h=wb;break;default:h=Id}a=h.bind(null,n,a,e),h=void 0,!Co||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function dd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ii(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}su(function(){var z=f,G=ha(a),Y=[];t:{var j=kp.get(e);if(j!==void 0){var B=bs,ot=e;switch(e){case"keypress":if(Ts(a)===0)break t;case"keydown":case"keyup":B=mu;break;case"focusin":ot="focus",B=vr;break;case"focusout":ot="blur",B=vr;break;case"beforeblur":case"afterblur":B=vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=gu;break;case Dp:case Op:case Vp:B=ma;break;case Mp:B=pa;break;case"scroll":case"scrollend":B=au;break;case"wheel":B=_u;break;case"copy":case"cut":case"paste":B=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Vo;break;case"toggle":case"beforetoggle":B=Tr}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=hn(D,k),K!=null&&gt.push(ol(D,K,P))),Wt)break;D=D.return}0<gt.length&&(j=new B(j,ot,null,a,G),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&a!==ca&&(ot=a.relatedTarget||a.fromElement)&&(Ii(ot)||ot[si]))break t;if((B||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=z,ot=ot?Ii(ot):null,ot!==null&&(Wt=c(ot),gt=ot.tag,ot!==Wt||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(B=null,ot=z),B!==ot)){if(gt=ou,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Vo,K="onPointerLeave",k="onPointerEnter",D="pointer"),Wt=B==null?j:_s(B),P=ot==null?j:_s(ot),j=new gt(K,D+"leave",B,a,G),j.target=Wt,j.relatedTarget=P,K=null,Ii(G)===z&&(gt=new gt(k,D+"enter",ot,a,G),gt.target=P,gt.relatedTarget=Wt,K=gt),Wt=K,B&&ot)e:{for(gt=ZT,k=B,D=ot,P=0,K=k;K;K=gt(K))P++;K=0;for(var ft=D;ft;ft=gt(ft))K++;for(;0<P-K;)k=gt(k),P--;for(;0<K-P;)D=gt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){gt=k;break e}k=gt(k),D=gt(D)}gt=null}else gt=null;B!==null&&i_(Y,j,B,gt,!1),ot!==null&&Wt!==null&&i_(Y,Wt,ot,gt,!0)}}t:{if(j=z?_s(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var qt=Ep;else if(fn(j))if(Tp)qt=lT;else{qt=aT;var lt=sT}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Ro(z.elementType)&&(qt=Ep):qt=oT;if(qt&&(qt=qt(e,z))){Rs(Y,qt,a,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ua(j,"number",j.value)}switch(lt=z?_s(z):window,e){case"focusin":(fn(lt)||lt.contentEditable==="true")&&(ga=lt,Bh=z,Uo=null);break;case"focusout":Uo=Bh=ga=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,xp(Y,a,G);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":xp(Y,a,G)}var It;if(m)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else xt?Qt(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(L&&a.locale!=="ko"&&(xt||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&xt&&(It=pr()):(bn=G,fa="value"in bn?bn.value:bn.textContent,xt=!0)),lt=lc(z,Mt),0<lt.length&&(Mt=new No(Mt,e,null,a,G),Y.push({event:Mt,listeners:lt}),It?Mt.data=It:(It=Te(a),It!==null&&(Mt.data=It)))),(It=b?ke(e,a):Ue(e,a))&&(Mt=lc(z,"onBeforeInput"),0<Mt.length&&(lt=new No("onBeforeInput","beforeinput",null,a,G),Y.push({event:lt,listeners:Mt}),lt.data=It)),KT(Y,e,z,a,G)}e_(Y,n)})}function ol(e,n,a){return{instance:e,listener:n,currentTarget:a}}function lc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hn(e,a),h!=null&&o.unshift(ol(e,h,f)),h=hn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ZT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=hn(a,f),z!=null&&g.unshift(ol(a,z,R))):h||(z=hn(a,f),z!=null&&g.push(ol(a,z,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var JT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(JT,`
`).replace(WT,"")}function s_(e,n){return n=r_(n),r_(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Mn(e,""+o);break;case"className":fr(e,"class",o);break;case"tabIndex":fr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,a,o);break;case"style":iu(e,o,f);break;case"data":if(n!=="object"){fr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=li(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=li(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Me);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=li(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),hr(e,"popover",o);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kh.get(a)||a,hr(e,a,o))}}function md(e,n,a,o,h,f){switch(a){case"style":iu(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Mn(e,o):(typeof o=="number"||typeof o=="bigint")&&Mn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Me);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[He]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):hr(e,a,o)}}}function Ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,f,g,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Jt(e,n,o,G,a,null)}}vs(e,f,E,R,z,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?Bt(e,!!o,n,!1):a!=null&&Bt(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(e,n,g,E,a,null)}mr(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,R,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ot(al[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,z,o,a,null)}return;default:if(Ro(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&md(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function tb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(B)||Jt(e,n,B,null,o,Y)}}for(var j in o){var B=o[j];if(Y=a[j],o.hasOwnProperty(j)&&(B!=null||Y!=null))switch(j){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Y&&Jt(e,n,j,B,o,Y)}}dr(e,g,E,R,z,G,f,h);return;case"select":B=g=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Jt(e,n,h,f,o,R)}n=E,a=g,o=B,j!=null?Bt(e,!!a,j,!1):!!o!=!!a&&(n!=null?Bt(e,!!a,n,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":B=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}Es(e,j,B);return;case"option":for(var ot in a)if(j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Jt(e,n,ot,null,o,j)}for(R in o)if(j=o[R],B=a[R],o.hasOwnProperty(R)&&j!==B&&(j!=null||B!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,R,j,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&Jt(e,n,gt,null,o,j);for(z in o)if(j=o[z],B=a[z],o.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(e,n,z,j,o,B)}return;default:if(Ro(n)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&md(e,n,Wt,void 0,o,j);for(G in o)j=o[G],B=a[G],!o.hasOwnProperty(G)||j===B||j===void 0&&B===void 0||md(e,n,G,j,o,B);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,j);for(Y in o)j=o[Y],B=a[Y],!o.hasOwnProperty(Y)||j===B||j==null&&B==null||Jt(e,n,Y,j,o,B)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&a_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&a_(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function nb(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(sb)}:u_;function sb(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function h_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ll(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ll(e.ownerDocument.body);a=h}while(a);Ha(n)}function f_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ab(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function ob(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bd=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Bn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function p_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,a){switch(n=uc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ys(e)}var qn=new Map,y_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=nt.d;nt.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:gb,S:pb,M:yb};function ub(){var e=Yi.f(),n=ec();return e||n}function cb(e){var n=Ci(e);n!==null&&n.tag===5&&n.type==="form"?Mg(n):Yi.r(e)}var ja=typeof document>"u"?null:document;function __(e,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=fe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ke(n,"link",e),ge(n),o.head.appendChild(n)))}}function hb(e){Yi.D(e),__("dns-prefetch",e,null)}function fb(e,n){Yi.C(e,n),__("preconnect",e,n)}function db(e,n,a){Yi.L(e,n,a);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fe(a.imageSizes)+'"]')):h+='[href="'+fe(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}qn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ke(n,"link",e),ge(n),o.head.appendChild(n)))}}function mb(e,n){Yi.m(e,n);var a=ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fe(o)+'"][href="'+fe(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),qn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(f)))return}o=a.createElement("link"),Ke(o,"link",e),ge(o),a.head.appendChild(o)}}}function pb(e,n,a){Yi.S(e,n,a);var o=ja;if(o&&e){var h=Kn(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=qn.get(f))&&Ad(e,a);var R=g=o.createElement("link");ge(R),Ke(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function gb(e,n){Yi.X(e,n);var a=ja;if(a&&e){var o=Kn(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(cl(h)),f||(e=A({src:e,async:!0},n),(n=qn.get(h))&&Sd(e,n),f=a.createElement("script"),ge(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function yb(e,n){Yi.M(e,n);var a=ja;if(a&&e){var o=Kn(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(cl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&Sd(e,n),f=a.createElement("script"),ge(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(e,n,a,o){var h=(h=vt.current)?cc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ba(a.href),a=Kn(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=Kn(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),f||_b(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(a),a=Kn(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ba(e){return'href="'+fe(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function E_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function _b(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ke(n,"link",a),ge(n),e.head.appendChild(n))}function qa(e){return'[src="'+fe(e)+'"]'}function cl(e){return"script[async]"+e}function T_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fe(a.href)+'"]');if(o)return n.instance=o,ge(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ge(o),Ke(o,"style",h),hc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,ge(f),f;o=E_(a),(h=qn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),ge(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ke(f,"link",o),n.state.loading|=4,hc(f,a.precedence,e),n.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(cl(f)))?(n.instance=h,ge(h),h):(o=a,(h=qn.get(f))&&(o=A({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ge(h),Ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,a.precedence,e));return n.instance}function hc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function b_(e,n,a){if(fc===null){var o=new Map,h=fc=new Map;h.set(a,o)}else h=fc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ri]||f[he]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function A_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function vb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ge(f);return}f=n.ownerDocument||n,o=E_(o),(h=qn.get(h))&&Ad(o,h),f=f.createElement("link"),ge(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ke(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=dc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wd=0;function Tb(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*eb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(bb,e),mc=null,dc.call(e))}function bb(e,n){if(!(n.state.loading&4)){var a=mc.get(e);if(a)var o=a.get(null);else{a=new Map,mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Ab(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function w_(e,n,a,o,h,f,g,E,R,z,G,Y){return e=new Ab(e,n,a,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},lf(f),e}function R_(e){return e?(e=va,e):va}function I_(e,n,a,o,h,f){h=R_(h),o.context===null?o.context=h:o.pendingContext=h,o=Cr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=xr(e,o,n),a!==null&&(yn(a,e,n),Ho(a,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Rd(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function x_(e){if(e.tag===13||e.tag===31){var n=xs(e,67108864);n!==null&&yn(n,e,67108864),Rd(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var n=xn();n=vo(n);var a=xs(e,n);a!==null&&yn(a,e,n),Rd(e,n)}}var gc=!0;function Sb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Id(e,n,a,o)}finally{nt.p=f,F.T=h}}function wb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Id(e,n,a,o)}finally{nt.p=f,F.T=h}}function Id(e,n,a,o){if(gc){var h=Cd(o);if(h===null)dd(e,n,o,yc,a),O_(e,o);else if(Ib(h,e,n,a,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<Rb.indexOf(e)){for(;h!==null;){var f=Ci(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Qn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-sn(g);E.entanglements[1]|=R,g&=~R}mi(f),(Gt&6)===0&&(Wu=Be()+500,sl(0))}}break;case 31:case 13:E=xs(f,2),E!==null&&yn(E,f,2),ec(),Rd(f,2)}if(f=Cd(o),f===null&&dd(e,n,o,yc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,a)}}function Cd(e){return e=ha(e),xd(e)}var yc=null;function xd(e){if(yc=null,e=Ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case Ne:return 2;case Ve:return 8;case Ai:case Zl:return 32;case po:return 268435456;default:return 32}default:return 32}}var Nd=!1,jr=null,Br=null,qr=null,fl=new Map,dl=new Map,Hr=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ci(n),n!==null&&x_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ib(e,n,a,o,h){switch(n){case"focusin":return jr=ml(jr,e,n,a,o,h),!0;case"dragenter":return Br=ml(Br,e,n,a,o,h),!0;case"mouseover":return qr=ml(qr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,a,o,h)),!0}return!1}function V_(e){var n=Ii(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Wl(e.priority,function(){N_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Wl(e.priority,function(){N_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ca=o,a.target.dispatchEvent(o),ca=null}else return n=Ci(a),n!==null&&x_(n),e.blockedOn=a,!1;n.shift()}return!0}function M_(e,n,a){_c(e)&&a.delete(n)}function Cb(){Nd=!1,jr!==null&&_c(jr)&&(jr=null),Br!==null&&_c(Br)&&(Br=null),qr!==null&&_c(qr)&&(qr=null),fl.forEach(M_),dl.forEach(M_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cb)))}var Ec=null;function k_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=Ci(a);f!==null&&(e.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(R){return vc(R,e)}jr!==null&&vc(jr,e),Br!==null&&vc(Br,e),qr!==null&&vc(qr,e),fl.forEach(n),dl.forEach(n);for(var a=0;a<Hr.length;a++){var o=Hr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)V_(a),a.blockedOn===null&&Hr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[He]||null;if(typeof f=="function")g||k_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[He]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),k_(a)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Tc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=xn();I_(a,o,e,n,null,null)},Tc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;I_(e.current,2,null,e,null,null),ec(),n[si]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=wi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Hr.length&&n!==0&&n<Hr[a].priority;a++);Hr.splice(a,0,e),a===0&&V_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(s(527,L_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ir=bc.inject(xb),Ze=bc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Fg,f=Gg,g=Qg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=w_(e,1,!1,null,null,a,o,null,h,f,g,U_),e[si]=n.current,fd(e),new Dd(n)},gl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Fg,g=Gg,E=Qg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=w_(e,1,!0,n,a??null,o,h,R,f,g,E,U_),n.context=R_(null),a=n.current,o=xn(),o=vo(o),h=Cr(o),h.callback=null,xr(a,h,o),a=o,n.current.lanes=a,ar(n,a),mi(n),e[si]=n.current,fd(e),new Tc(n)},gl.version="19.2.3",gl}var K_;function jb(){if(K_)return Md.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=zb(),Md.exports}var Bb=jb();const qb=I0(Bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),Y_=r=>{const t=Fb(r);return t.charAt(0).toUpperCase()+t.slice(1)},C0=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),Gb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Ft.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},y)=>Ft.createElement("svg",{ref:y,...Qb,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:C0("lucide",l),...!c&&!Gb(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,T])=>Ft.createElement(v,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(r,t)=>{const i=Ft.forwardRef(({className:s,...l},c)=>Ft.createElement(Kb,{ref:c,iconNode:t,className:C0(`lucide-${Hb(Y_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Y_(r),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Xb=ne("chromium",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zb=ne("circle-alert",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Wb=ne("command",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],X_=ne("copy",tA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nA=ne("eye-off",eA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rA=ne("eye",iA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],aA=ne("facebook",sA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],lA=ne("gamepad-2",oA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],cA=ne("github",uA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fA=ne("globe",hA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],mA=ne("instagram",dA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],gA=ne("linkedin",pA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_A=ne("log-out",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],EA=ne("monitor",vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],bA=ne("music",TA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],SA=ne("pencil",AA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],x0=ne("plus",wA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],IA=ne("search",RA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xA=ne("shield-alert",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],N0=ne("shield",NA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],OA=ne("shopping-cart",DA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]],MA=ne("slack",VA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UA=ne("trash-2",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],PA=ne("tv",LA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],jA=ne("twitter",zA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qA=ne("user",BA),bl=[{id:"google",name:"Google",color:"bg-red-500"},{id:"facebook",name:"Facebook",color:"bg-blue-600"},{id:"instagram",name:"Instagram",color:"bg-pink-600"},{id:"twitter",name:"X / Twitter",color:"bg-black"},{id:"linkedin",name:"LinkedIn",color:"bg-blue-700"},{id:"github",name:"GitHub",color:"bg-gray-800"},{id:"microsoft",name:"Microsoft",color:"bg-blue-500"},{id:"apple",name:"Apple",color:"bg-gray-900"},{id:"amazon",name:"Amazon",color:"bg-yellow-600"},{id:"netflix",name:"Netflix",color:"bg-red-700"},{id:"spotify",name:"Spotify",color:"bg-green-500"},{id:"discord",name:"Discord",color:"bg-indigo-500"},{id:"slack",name:"Slack",color:"bg-purple-600"},{id:"other",name:"Outro",color:"bg-slate-500"}],D0=(r,t="w-6 h-6 text-white")=>{switch(r){case"google":return x.jsx(Xb,{className:t});case"facebook":return x.jsx(aA,{className:t});case"instagram":return x.jsx(mA,{className:t});case"twitter":return x.jsx(jA,{className:t});case"linkedin":return x.jsx(gA,{className:t});case"github":return x.jsx(cA,{className:t});case"microsoft":return x.jsx(EA,{className:t});case"apple":return x.jsx(Wb,{className:t});case"amazon":return x.jsx(OA,{className:t});case"netflix":return x.jsx(PA,{className:t});case"spotify":return x.jsx(bA,{className:t});case"discord":return x.jsx(lA,{className:t});case"slack":return x.jsx(MA,{className:t});default:return x.jsx(fA,{className:t})}},HA=({account:r,onDelete:t,onEdit:i})=>{const[s,l]=Ft.useState(!1),[c,d]=Ft.useState(null),p=bl.find(T=>T.id===r.serviceId)||bl[bl.length-1],y=(T,A)=>{navigator.clipboard.writeText(T),d(A),setTimeout(()=>d(null),2e3)},v=T=>{T.preventDefault(),T.stopPropagation(),t(r.id)};return x.jsxs("div",{className:"relative bg-white border-2 border-black rounded-lg shadow-hard hover:shadow-hard-lg transition-all duration-200 transform hover:-translate-y-1",children:[x.jsxs("div",{className:"p-4 border-b-2 border-black bg-yellow-50 flex justify-between items-center rounded-t-md",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:`w-10 h-10 rounded-md border-2 border-black flex items-center justify-center ${p.color} text-white shadow-hard-sm`,children:D0(r.serviceId,"w-6 h-6")}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-black text-lg text-black leading-none",children:p.name}),x.jsx("p",{className:"text-xs font-bold text-slate-500 mt-1 uppercase tracking-wider",children:new Date(r.createdAt).toLocaleDateString("pt-BR")})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>i(r.id),className:"text-white bg-blue-500 hover:bg-blue-600 border-2 border-black p-2 rounded-md transition-all active-press shadow-hard-sm",title:"Editar conta",children:x.jsx(SA,{size:18})}),x.jsx("button",{type:"button",onClick:v,className:"text-black bg-red-400 hover:bg-red-500 border-2 border-black p-2 rounded-md transition-all active-press shadow-hard-sm",title:"Excluir conta",children:x.jsx(UA,{size:18})})]})]}),x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black text-black uppercase mb-1 block",children:"Email"}),x.jsxs("div",{className:"flex items-center justify-between bg-white border-2 border-black rounded-md p-2",children:[x.jsx("span",{className:"text-sm font-mono font-bold text-slate-800 truncate select-all",children:r.email}),x.jsx("button",{type:"button",onClick:()=>y(r.email,"email"),className:`ml-2 border-2 border-transparent hover:border-black rounded p-1 transition-all ${c==="email"?"bg-green-400 text-black":"hover:bg-gray-200 text-slate-500"}`,children:x.jsx(X_,{size:14})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black text-black uppercase mb-1 block",children:"Senha"}),x.jsxs("div",{className:"flex items-center justify-between bg-white border-2 border-black rounded-md p-2",children:[x.jsx("span",{className:`text-sm font-bold text-slate-800 truncate font-mono ${s?"":"tracking-widest"}`,children:s?r.password:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{type:"button",onClick:()=>l(!s),className:"hover:bg-yellow-200 border-2 border-transparent hover:border-black rounded p-1 transition-all",children:s?x.jsx(nA,{size:14}):x.jsx(rA,{size:14})}),x.jsx("div",{className:"w-0.5 h-4 bg-black mx-1"}),x.jsx("button",{type:"button",onClick:()=>y(r.password,"pass"),className:`border-2 border-transparent hover:border-black rounded p-1 transition-all ${c==="pass"?"bg-green-400 text-black":"hover:bg-gray-200 text-slate-500"}`,children:x.jsx(X_,{size:14})})]})]})]}),r.observations&&x.jsx("div",{className:"pt-2",children:x.jsxs("div",{className:"bg-blue-100 border-2 border-black border-dashed rounded-md p-3 text-sm font-medium text-slate-900 relative",children:[x.jsx("span",{className:"absolute -top-3 left-2 bg-blue-100 px-1 text-[10px] font-black uppercase border-2 border-black text-black",children:"Notas"}),r.observations]})})]})]})},FA=({selected:r,onChange:t})=>x.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-7 gap-3 py-2",children:bl.map(i=>{const s=r===i.id;return x.jsxs("button",{type:"button",onClick:()=>t(i.id),className:`group relative flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-100 border-2 border-black ${s?"bg-black text-white shadow-none translate-y-1 translate-x-1":"bg-white hover:bg-yellow-100 shadow-hard hover:translate-y-[-2px] hover:translate-x-[-2px] hover:shadow-hard-lg"}`,children:[x.jsx("div",{className:`p-1.5 rounded-md mb-1 ${s?"bg-white text-black":`${i.color} text-white border-2 border-black`}`,children:D0(i.id,"w-4 h-4")}),x.jsx("span",{className:"text-[10px] font-bold truncate w-full text-center uppercase tracking-tight",children:i.name})]},i.id)})}),GA=({onAddAccount:r})=>x.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center border-4 border-black border-dashed rounded-3xl bg-white/50 m-4",children:[x.jsx("div",{className:"bg-yellow-400 p-6 rounded-full border-4 border-black shadow-hard mb-6 rotate-3",children:x.jsx(xA,{className:"w-12 h-12 text-black"})}),x.jsx("h3",{className:"text-3xl font-black text-black mb-2 uppercase tracking-tight",children:"Vazio!"}),x.jsx("p",{className:"text-slate-800 font-medium max-w-md mb-8 border-b-2 border-black/10 pb-4",children:"Nenhuma credencial encontrada. O cofre est aberto e esperando seus dados."}),x.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-8 py-4 bg-blue-600 text-white font-black rounded-lg border-2 border-black shadow-hard hover:shadow-hard-lg transition-all hover:-translate-y-1 active:translate-y-0 active:shadow-hard-sm",children:[x.jsx(x0,{size:24,strokeWidth:3}),x.jsx("span",{className:"uppercase tracking-wider",children:"Registrar Agora"})]})]});function QA({onGoogleLogin:r,loading:t,error:i}){return x.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:x.jsx("div",{className:"bg-yellow-400 p-3 rounded-lg border-4 border-black shadow-hard",children:x.jsx(N0,{size:48,strokeWidth:2.5,className:"text-black"})})}),x.jsx("h1",{className:"text-5xl font-black text-black mb-2",style:{fontFamily:"Outfit, sans-serif"},children:"CONTASEGURA"}),x.jsx("p",{className:"text-lg text-gray-700 font-medium",children:"Gerenciador de Credenciais de Emails"})]}),x.jsxs("div",{className:"bg-white border-4 border-black shadow-hard-lg p-8 rounded-2xl",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:"Bem-vindo!"}),x.jsx("p",{className:"text-gray-600",children:"Faa login com sua conta Google para acessar suas credenciais"})]}),i&&x.jsx("div",{className:"mb-6 bg-red-100 border-3 border-red-500 rounded-lg p-4",children:x.jsxs("p",{className:"text-red-700 font-semibold text-sm",children:[" ",i]})}),x.jsx("button",{onClick:r,disabled:t,className:"w-full bg-white hover:bg-gray-50 border-4 border-black rounded-xl p-4 font-bold text-lg transition-all active-press shadow-hard disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:t?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}),x.jsx("span",{children:"Conectando..."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[x.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),x.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),x.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),x.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),x.jsx("span",{children:"Entrar com Google"})]})}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("p",{className:"text-xs text-gray-500",children:" Seus dados so protegidos e sincronizados em tempo real com Firebase"})})]}),x.jsx("div",{className:"text-center mt-6",children:x.jsx("p",{className:"text-sm text-gray-600",children:"Apenas usurios autenticados podem acessar e gerenciar credenciais"})})]})})}function KA({userEmail:r,userId:t,onComplete:i}){const[s,l]=Ft.useState(""),[c,d]=Ft.useState(""),[p,y]=Ft.useState(""),[v,T]=Ft.useState(""),[A,C]=Ft.useState(!1),H=async $=>{if($.preventDefault(),T(""),s.length<3){T("Nome de usurio deve ter pelo menos 3 caracteres");return}if(c.length<6){T("Senha deve ter pelo menos 6 caracteres");return}if(c!==p){T("As senhas no coincidem");return}C(!0);try{const J=new TextEncoder().encode(c),ut=await crypto.subtle.digest("SHA-256",J),ct=Array.from(new Uint8Array(ut)).map(Yt=>Yt.toString(16).padStart(2,"0")).join(""),Tt={userId:t,email:r,userName:s.trim(),protectionPassword:ct,createdAt:Date.now(),updatedAt:Date.now()};i(Tt)}catch{T("Erro ao criar perfil. Tente novamente."),C(!1)}};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-yellow-400 rounded-lg mb-4 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] border-4 border-black",children:x.jsx("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})})}),x.jsx("h1",{className:"text-4xl font-black mb-2",children:"CONTASEGURA"}),x.jsx("p",{className:"text-gray-600 font-medium",children:"Configure seu Perfil"})]}),x.jsxs("div",{className:"bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-2xl font-black mb-2",children:"Bem-vindo!"}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Configure seu nome de usurio e senha de proteo para seus registros"}),x.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Logado como: ",x.jsx("span",{className:"font-semibold",children:r})]})]}),x.jsxs("form",{onSubmit:H,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"NOME DE USURIO"}),x.jsx("input",{type:"text",value:s,onChange:$=>l($.target.value),placeholder:"Digite seu nome de usurio",className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium",required:!0,minLength:3,disabled:A}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 3 caracteres"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"SENHA DE PROTEO"}),x.jsx("input",{type:"password",value:c,onChange:$=>d($.target.value),placeholder:"Digite uma senha forte",className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium",required:!0,minLength:6,disabled:A}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"CONFIRMAR SENHA"}),x.jsx("input",{type:"password",value:p,onChange:$=>y($.target.value),placeholder:"Digite a senha novamente",className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium",required:!0,minLength:6,disabled:A})]}),v&&x.jsx("div",{className:"bg-red-100 border-4 border-red-500 p-3",children:x.jsx("p",{className:"text-red-700 font-bold text-sm",children:v})}),x.jsx("div",{className:"bg-yellow-50 border-4 border-yellow-400 p-3",children:x.jsxs("p",{className:"text-xs text-gray-700",children:[x.jsx("span",{className:"font-bold",children:" Importante:"})," Esta senha proteger todos os seus registros. Outros usurios precisaro dela para editar suas credenciais."]})}),x.jsx("button",{type:"submit",disabled:A,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 px-6 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:A?"CRIANDO PERFIL...":"CRIAR PERFIL"})]})]})]})})}function YA({userName:r,onSubmit:t,onCancel:i}){const[s,l]=Ft.useState(""),[c,d]=Ft.useState(""),p=y=>{if(y.preventDefault(),!s){d("Digite a senha");return}t(s)};return x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:x.jsxs("div",{className:"bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] max-w-md w-full p-6",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"w-12 h-12 bg-yellow-400 border-4 border-black flex items-center justify-center",children:x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black",children:"SENHA NECESSRIA"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Registro protegido"})]})]}),x.jsxs("div",{className:"bg-yellow-50 border-4 border-yellow-400 p-3",children:[x.jsxs("p",{className:"text-sm font-medium",children:["Este registro pertence a ",x.jsx("span",{className:"font-black",children:r})]}),x.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Digite a senha de proteo para editar"})]})]}),x.jsxs("form",{onSubmit:p,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"SENHA DE PROTEO"}),x.jsx("input",{type:"password",value:s,onChange:y=>{l(y.target.value),d("")},placeholder:"Digite a senha",className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium",autoFocus:!0})]}),c&&x.jsx("div",{className:"bg-red-100 border-4 border-red-500 p-3",children:x.jsx("p",{className:"text-red-700 font-bold text-sm",children:c})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-black font-black py-3 px-4 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:"CANCELAR"}),x.jsx("button",{type:"submit",className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-black py-3 px-4 border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:"CONFIRMAR"})]})]})]})})}const XA=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},$A=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,v=y?r[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let C=(p&15)<<2|v>>6,H=v&63;y||(H=64,d||(C=64)),s.push(i[T],i[A],i[C],i[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(O0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):$A(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||v==null||A==null)throw new ZA;const C=c<<2|p>>4;if(s.push(C),v!==64){const H=p<<4&240|v>>2;if(s.push(H),A!==64){const $=v<<6&192|A;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(r){const t=O0(r);return V0.encodeByteArray(t,!0)},jc=function(r){return JA(r).replace(/\./g,"")},M0=function(r){try{return V0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=()=>WA().__FIREBASE_DEFAULTS__,eS=()=>{if(typeof process>"u"||typeof $_>"u")return;const r=$_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&M0(r[1]);return t&&JSON.parse(t)},sh=()=>{try{return XA()||tS()||eS()||nS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},k0=r=>{var t,i;return(i=(t=sh())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},iS=r=>{const t=k0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},U0=()=>{var r;return(r=sh())===null||r===void 0?void 0:r.config},L0=r=>{var t;return(t=sh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const Al={};function aS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function oS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Z_=!1;function z0(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Al[r]===t||Al[r]||Z_)return;Al[r]=t;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=aS().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,H){C.setAttribute("width","24"),C.setAttribute("id",H),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Z_=!0,d()},C}function T(C,H){C.setAttribute("id",H),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=oS(s),H=i("text"),$=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),mt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ct=C.element;p(ct),T(J,tt);const Tt=v();y(mt,ut),ct.append(mt,$,J,Tt),document.body.appendChild(ct)}c?($.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function uS(){var r;const t=(r=sh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function mS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FirebaseError";class nr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=yS,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?_S(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new nr(l,p,s)}}function _S(r,t){return r.replace(vS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const vS=/\{\$([^}]+)}/g;function ES(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(J_(c)&&J_(d)){if(!Xs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function J_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function TS(r,t){const i=new bS(r,t);return i.subscribe.bind(i)}class bS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");AS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(r){return r&&r._delegate?r._delegate:r}class $s{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new rS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RS(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wS(r){return r===Hs?void 0:r}function RS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new SS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const CS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},xS=kt.INFO,NS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},DS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=NS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=xS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const OS=(r,t)=>t.some(i=>r instanceof i);let W_,tv;function VS(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,Zd=new WeakMap,B0=new WeakMap,zd=new WeakMap,Rm=new WeakMap;function kS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i($r(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&j0.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function US(r){if(Zd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||B0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $r(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function LS(r){Jd=r(Jd)}function PS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(jd(this),t,...i);return B0.set(s,t.sort?t.sort():[t]),$r(s)}:MS().includes(r)?function(...t){return r.apply(jd(this),t),$r(j0.get(this))}:function(...t){return $r(r.apply(jd(this),t))}}function zS(r){return typeof r=="function"?PS(r):(r instanceof IDBTransaction&&US(r),OS(r,VS())?new Proxy(r,Jd):r)}function $r(r){if(r instanceof IDBRequest)return kS(r);if(zd.has(r))return zd.get(r);const t=zS(r);return t!==r&&(zd.set(r,t),Rm.set(t,r)),t}const jd=r=>Rm.get(r);function jS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=$r(d);return s&&d.addEventListener("upgradeneeded",y=>{s($r(d.result),y.oldVersion,y.newVersion,$r(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const BS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],Bd=new Map;function ev(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=qS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||BS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return Bd.set(t,c),c}LS(r=>({...r,get:(t,i,s)=>ev(t,i)||r.get(t,i,s),has:(t,i)=>!!ev(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function FS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wd="@firebase/app",nv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new wm("@firebase/app"),GS="@firebase/app-compat",QS="@firebase/analytics-compat",KS="@firebase/analytics",YS="@firebase/app-check-compat",XS="@firebase/app-check",$S="@firebase/auth",ZS="@firebase/auth-compat",JS="@firebase/database",WS="@firebase/data-connect",t2="@firebase/database-compat",e2="@firebase/functions",n2="@firebase/functions-compat",i2="@firebase/installations",r2="@firebase/installations-compat",s2="@firebase/messaging",a2="@firebase/messaging-compat",o2="@firebase/performance",l2="@firebase/performance-compat",u2="@firebase/remote-config",c2="@firebase/remote-config-compat",h2="@firebase/storage",f2="@firebase/storage-compat",d2="@firebase/firestore",m2="@firebase/ai",p2="@firebase/firestore-compat",g2="firebase",y2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",_2={[Wd]:"fire-core",[GS]:"fire-core-compat",[KS]:"fire-analytics",[QS]:"fire-analytics-compat",[XS]:"fire-app-check",[YS]:"fire-app-check-compat",[$S]:"fire-auth",[ZS]:"fire-auth-compat",[JS]:"fire-rtdb",[WS]:"fire-data-connect",[t2]:"fire-rtdb-compat",[e2]:"fire-fn",[n2]:"fire-fn-compat",[i2]:"fire-iid",[r2]:"fire-iid-compat",[s2]:"fire-fcm",[a2]:"fire-fcm-compat",[o2]:"fire-perf",[l2]:"fire-perf-compat",[u2]:"fire-rc",[c2]:"fire-rc-compat",[h2]:"fire-gcs",[f2]:"fire-gcs-compat",[d2]:"fire-fst",[p2]:"fire-fst-compat",[m2]:"fire-vertex","fire-js":"fire-js",[g2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,v2=new Map,em=new Map;function iv(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ja(r){const t=r.name;if(em.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,r);for(const i of Bc.values())iv(i,r);for(const i of v2.values())iv(i,r);return!0}function Im(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Pl("app","Firebase",E2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=y2;function q0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:tm,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Zr.create("bad-app-name",{appName:String(l)});if(i||(i=U0()),!i)throw Zr.create("no-options");const c=Bc.get(l);if(c){if(Xs(i,c.options)&&Xs(s,c.config))return c;throw Zr.create("duplicate-app",{appName:l})}const d=new IS(l);for(const y of em.values())d.addComponent(y);const p=new T2(i,s,d);return Bc.set(l,p),p}function H0(r=tm){const t=Bc.get(r);if(!t&&r===tm&&U0())return q0();if(!t)throw Zr.create("no-app",{appName:r});return t}function Jr(r,t,i){var s;let l=(s=_2[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${l}" with version "${t}":`];c&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(p.join(" "));return}Ja(new $s(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebase-heartbeat-database",A2=1,xl="firebase-heartbeat-store";let qd=null;function F0(){return qd||(qd=jS(b2,A2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function S2(r){try{const i=(await F0()).transaction(xl),s=await i.objectStore(xl).get(G0(r));return await i.done,s}catch(t){if(t instanceof nr)Ji.warn(t.message);else{const i=Zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(i.message)}}}async function rv(r,t){try{const s=(await F0()).transaction(xl,"readwrite");await s.objectStore(xl).put(t,G0(r)),await s.done}catch(i){if(i instanceof nr)Ji.warn(i.message);else{const s=Zr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ji.warn(s.message)}}}function G0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=1024,R2=30;class I2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new x2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=sv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>R2){const d=N2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=sv(),{heartbeatsToSend:s,unsentEntries:l}=C2(this._heartbeatsCache.heartbeats),c=jc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ji.warn(i),""}}}function sv(){return new Date().toISOString().substring(0,10)}function C2(r,t=w2){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),av(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),av(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class x2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await S2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return rv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return rv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function av(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function N2(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){Ja(new $s("platform-logger",t=>new HS(t),"PRIVATE")),Ja(new $s("heartbeat",t=>new I2(t),"PRIVATE")),Jr(Wd,nv,r),Jr(Wd,nv,"esm2017"),Jr("fire-js","")}D2("");var O2="firebase",V2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(O2,V2,"app");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,Q0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,M,U){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return S.prototype[M].apply(V,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)V[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)V[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],I=S+(U^w&(M^U))+V[0]+3614090360&4294967295;S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+V[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+V[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+V[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(U^w&(M^U))+V[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+V[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+V[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+V[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(U^w&(M^U))+V[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+V[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+V[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+V[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(U^w&(M^U))+V[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+V[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+V[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+V[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(M^U&(w^M))+V[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+V[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+V[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+V[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^U&(w^M))+V[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+V[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+V[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+V[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^U&(w^M))+V[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+V[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+V[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+V[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^U&(w^M))+V[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+V[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+V[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+V[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(w^M^U)+V[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+V[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+V[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+V[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^U)+V[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+V[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+V[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+V[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^U)+V[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+V[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+V[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+V[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^U)+V[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+V[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+V[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+V[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(M^(w|~U))+V[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+V[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+V[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+V[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~U))+V[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+V[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+V[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+V[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~U))+V[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+V[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+V[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+V[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~U))+V[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+V[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+V[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[M++]=N.charCodeAt(U++),M==this.blockSize){l(this,V),M=0;break}}else for(;U<S;)if(V[M++]=N[U++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function c(N,S){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],V=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;V&&U==S||(w[M]=U,V=!1)}this.g=w}var p={};function y(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return J(v(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(T(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=A,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),I=parseInt(N.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),V=V.j(U).add(v(I))):(V=V.j(w),V=V.add(v(I)))}return V}var A=y(0),C=y(1),H=y(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(tt(this))return"-"+J(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,V="";;){var M=Tt(w,S).g;w=ut(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,$(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function tt(N){return N.h==-1}r.l=function(N){return N=ut(this,N),tt(N)?-1:$(N)?0:1};function J(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(C)}r.abs=function(){return tt(this)?J(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,M=0;M<=S;M++){var U=V+(this.i(M)&65535)+(N.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=I>>>16,U&=65535,I&=65535,w[M]=I<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ut(N,S){return N.add(J(S))}r.j=function(N){if($(this)||$(N))return A;if(tt(this))return tt(N)?J(this).j(J(N)):J(J(this).j(N));if(tt(N))return J(this.j(J(N)));if(0>this.l(H)&&0>N.l(H))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<N.g.length;M++){var U=this.i(V)>>>16,I=this.i(V)&65535,pe=N.i(M)>>>16,xe=N.i(M)&65535;w[2*V+2*M]+=I*xe,mt(w,2*V+2*M),w[2*V+2*M+1]+=U*xe,mt(w,2*V+2*M+1),w[2*V+2*M+1]+=I*pe,mt(w,2*V+2*M+1),w[2*V+2*M+2]+=U*pe,mt(w,2*V+2*M+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function mt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ct(N,S){this.g=N,this.h=S}function Tt(N,S){if($(S))throw Error("division by zero");if($(N))return new ct(A,A);if(tt(N))return S=Tt(J(N),S),new ct(J(S.g),J(S.h));if(tt(S))return S=Tt(N,J(S)),new ct(J(S.g),S.h);if(30<N.g.length){if(tt(N)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=C,V=S;0>=V.l(N);)w=Yt(w),V=Yt(V);var M=wt(w,1),U=wt(V,1);for(V=wt(V,2),w=wt(w,2);!$(V);){var I=U.add(V);0>=I.l(N)&&(M=M.add(w),U=I),V=wt(V,1),w=wt(w,1)}return S=ut(N,M.j(S)),new ct(M,S)}for(M=A;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=v(w),I=U.j(S);tt(I)||0<I.l(N);)w-=V,U=v(w),I=U.j(S);$(U)&&(U=C),M=M.add(U),N=ut(N,I)}return new ct(M,N)}r.A=function(N){return Tt(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function Yt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function wt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,M=[],U=0;U<V;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Q0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Wr=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K0,_l,Y0,xc,nm,X0,$0,Z0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in _))break t;_=_[L]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,b=!1,L={next:function(){if(!b&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function A(u,m,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,C.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function $(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,L,q){for(var et=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)et[Qt-2]=arguments[Qt];return m.prototype[L].apply(b,et)}}function tt(u){const m=u.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function J(u,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const L=u.length||0,q=b.length||0;u.length=L+q;for(let et=0;et<q;et++)u[L+et]=b[et]}else u.push(b)}}class ut{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Tt(u){return Tt[" "](u),u}Tt[" "]=function(){};var Yt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function wt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(_ in b)u[_]=b[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){p.setTimeout(()=>{throw u},0)}function I(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,_){const b=xe.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var xe=new ut(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,Pt=new pe,zt=()=>{const u=p.Promise.resolve(void 0);nt=()=>{u.then(O)}};var O=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){U(_)}var m=xe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var at=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u})();function pt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Yt){t:{try{Tt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&pt.aa.h.call(this)}}$(pt,W);var vt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),it=0;function yt(u,m,_,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=L,this.key=++it,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,_,b,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=ni(u,m,b,L);return-1<et?(m=u[et],_||(m.fa=!1)):(m=new yt(m,this.src,q,!!b,L),m.fa=_,u.push(m)),m};function je(u,m){var _=m.type;if(_ in u.g){var b=u.g[_],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(b,L,1),q&&(ce(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ni(u,m,_,b){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==b)return L}return-1}var En="closure_lm_"+(1e6*Math.random()|0),ds={};function na(u,m,_,b,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)na(u,m[q],_,b,L);return null}return _=$l(_),u&&u[Ct]?u.K(m,_,v(b)?!!b.capture:!1,L):Ch(u,m,_,!1,b,L)}function Ch(u,m,_,b,L,q){if(!m)throw Error("Invalid event type");var et=v(L)?!!L.capture:!!L,Qt=mo(u);if(Qt||(u[En]=Qt=new oe(u)),_=Qt.add(m,_,b,et,q),_.proxy)return _;if(b=Xl(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)at||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ra(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xl(){function u(_){return m.call(u.src,u.listener,_)}const m=xh;return u}function ia(u,m,_,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ia(u,m[q],_,b,L);else b=v(b)?!!b.capture:!!b,_=$l(_),u&&u[Ct]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=ni(q,_,b,L),-1<_&&(ce(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=mo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ni(m,_,b,L)),(_=-1<u?m[u]:null)&&ms(_))}function ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])je(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(ra(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=mo(m))?(je(_,u),_.h==0&&(_.src=null,m[En]=null)):ce(u)}}}function ra(u){return u in ds?ds[u]:ds[u]="on"+u}function xh(u,m){if(u.da)u=!0;else{m=new pt(m,this);var _=u.listener,b=u.ha||u.src;u.fa&&ms(u),u=_.call(b,m)}return u}function mo(u){return u=u[En],u instanceof oe?u:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(u){return typeof u=="function"?u:(u[Be]||(u[Be]=function(m){return u.handleEvent(m)}),u[Be])}function Ne(){Q.call(this),this.i=new oe(this),this.M=this,this.F=null}$(Ne,Q),Ne.prototype[Ct]=!0,Ne.prototype.removeEventListener=function(u,m,_,b){ia(this,u,m,_,b)};function Ve(u,m){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(b,u),V(m,L)}if(L=!0,_)for(var q=_.length-1;0<=q;q--){var et=m.g=_[q];L=Ai(et,b,!0,m)&&L}if(et=m.g=u,L=Ai(et,b,!0,m)&&L,L=Ai(et,b,!1,m)&&L,_)for(q=0;q<_.length;q++)et=m.g=_[q],L=Ai(et,b,!1,m)&&L}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],b=0;b<_.length;b++)ce(_[b]);delete u.g[m],u.h--}}this.F=null},Ne.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},Ne.prototype.L=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function Ai(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==_){var Qt=et.listener,Te=et.ha||et.src;et.fa&&je(u.i,et),L=Qt.call(Te,b)!==!1&&L}}return L&&!b.defaultPrevented}function Zl(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function po(u){u.g=Zl(()=>{u.g=null,u.i&&(u.i=!1,po(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nh extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:po(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(u){Q.call(this),this.h=u,this.g={}}$(ps,Q);var ir=[];function Ze(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&ms(m)},u),u.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Ze(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,sn=p.JSON.parse,Dh=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function go(){}go.prototype.h=null;function Jl(u){return u.h||(u.h=u.i())}function gs(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){W.call(this,"d")}$(rr,W);function Qn(){W.call(this,"c")}$(Qn,W);var On={},sr=null;function sa(){return sr=sr||new Ne}On.La="serverreachability";function yo(u){W.call(this,On.La,u)}$(yo,W);function Si(u){const m=sa();Ve(m,new yo(m))}On.STAT_EVENT="statevent";function ar(u,m){W.call(this,On.STAT_EVENT,u),this.stat=m}$(ar,W);function qe(u){const m=sa();Ve(m,new ar(m,u))}On.Ma="timingevent";function _o(u,m){W.call(this,On.Ma,u),this.size=m}$(_o,W);function or(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function vo(u,m,_,b,L,q){u.info(function(){if(u.g)if(q)for(var et="",Qt=q.split("&"),Te=0;Te<Qt.length;Te++){var xt=Qt[Te].split("=");if(1<xt.length){var ke=xt[0];xt=xt[1];var Ue=ke.split("_");et=2<=Ue.length&&Ue[1]=="type"?et+(ke+"="+xt+"&"):et+(ke+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function Eo(u,m,_,b,L,q,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+_+`
`+q+" "+et})}function wi(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ri(u,_)+(b?" "+b:"")})}function Wl(u,m){u.info(function(){return"TIMEOUT: "+m})}lr.prototype.info=function(){};function ri(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return Dn(_)}catch{return m}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function ur(){}$(ur,go),ur.prototype.g=function(){return new XMLHttpRequest},ur.prototype.i=function(){return{}},si=new ur;function ai(u,m,_,b){this.j=u,this.i=m,this.l=_,this.R=b||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var To={},Ri={};function ys(u,m,_){u.L=1,u.v=Es(fe(m)),u.m=_,u.P=!0,Ii(u,null)}function Ii(u,m){u.F=Date.now(),Kn(u),u.A=fe(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Ni(_.i,"t",b),u.C=0,_=u.j.J,u.h=new tu,u.g=gu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Nh(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ir[0]=L.toString()),L=ir);for(var q=0;q<L.length;q++){var et=na(_,L[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Si(),vo(u.i,u.u,u.A,u.l,u.R,u.m)}ai.prototype.ca=function(u){u=u.target;const m=this.M;m&&ln(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)t:{const Ue=ln(this.g);var m=this.g.Ba();const br=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||As(this.g)))){this.J||Ue!=4||m==7||(m==8||0>=br?Si(3):Si(2)),aa(this);var _=this.g.Z();this.X=_;e:if(Ci(this)){var b=As(this.g);u="";var L=b.length,q=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),cr(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(q&&m==L-1)});b.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,Eo(this.i,this.u,this.A,this.l,this.R,Ue,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Qt,Te=this.g;if((Qt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Qt)){var xt=Qt;break e}}xt=null}if(_=xt)wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oi(this,_);else{this.o=!1,this.s=3,qe(12),an(this),cr(this);break t}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<et.length;)if(fn=_s(this,et),fn==Ri){Ue==4&&(this.s=4,qe(14),_=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==To){this.s=4,qe(15),wi(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else wi(this.i,this.l,fn,null),oi(this,fn);if(Ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||et.length!=0||this.h.h||(this.s=1,qe(16),_=!1),this.o=this.o&&_,!_)wi(this.i,this.l,et,"[Invalid Chunked Response]"),an(this),cr(this);else if(0<et.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Oo(ke),ke.M=!0,qe(11))}}else wi(this.i,this.l,et,null),oi(this,et);Ue==4&&an(this),this.o&&!this.J&&(Ue==4?du(this.j,this):(this.o=!1,Kn(this)))}else ou(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),an(this),cr(this)}}}catch{}finally{}};function Ci(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _s(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Ri:(_=Number(m.substring(_,b)),isNaN(_)?To:(b+=1,b+_>m.length?Ri:(m=m.slice(b,b+_),u.C=b+_,m)))}ai.prototype.cancel=function(){this.J=!0,an(this)};function Kn(u){u.S=Date.now()+u.I,ge(u,u.I)}function ge(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=or(C(u.ba,u),m)}function aa(u){u.B&&(p.clearTimeout(u.B),u.B=null)}ai.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Wl(this.i,this.A),this.L!=2&&(Si(),qe(17)),an(this),this.s=2,cr(this)):ge(this,this.S-u)};function cr(u){u.j.G==0||u.J||du(u.j,u)}function an(u){aa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ze(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function oi(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||hr(_.h,u))){if(!u.K&&hr(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Er(_),vr(_);else break t;Do(_),qe(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=or(C(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((u.K||_.g==u)&&Er(_),!mt(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let xt=L[m];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const ke=xt[3];ke!=null&&(_.la=ke,_.j.info("VER="+_.la));const Ue=xt[4];Ue!=null&&(_.Aa=Ue,_.j.info("SVER="+_.Aa));const br=xt[5];br!=null&&typeof br=="number"&&0<br&&(b=1.5*br,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const fn=u.g;if(fn){const Rs=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var q=b.h;q.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(fr(q,q.h),q.h=null))}if(b.D){const Vi=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vi&&(b.ya=Vi,Bt(b.I,b.D,Vi))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var et=u;if(b.qa=pu(b,b.J?b.ia:null,b.W),et.K){Vn(b.h,et);var Qt=et,Te=b.L;Te&&(Qt.I=Te),Qt.B&&(aa(Qt),Kn(Qt)),b.g=et}else hu(b);0<_.i.length&&ma(_)}else xt[0]!="stop"&&xt[0]!="close"||Oi(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Oi(_,7):xo(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Si(4)}catch{}}var Oh=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eu(u){return u.h?1:u.g?u.g.size:0}function hr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fr(u,m){u.g?u.g.add(m):u.h=m}function Vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function on(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return tt(u.i)}function nu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,b=0;b<_;b++)m.push(u[b]);return m}m=[],_=0;for(b in u)m[_++]=u[b];return m}function Vh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const b in u)m[_++]=b;return m}}}function oa(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Vh(u),b=nu(u),L=b.length,q=0;q<L;q++)m.call(void 0,b[q],_&&_[q],u)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),L=null;if(0<=b){var q=u[_].substring(0,b);L=u[_].substring(b+1)}else q=u[_];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function xi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xi){this.h=u.h,dr(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.s),this.l=u.l;var m=u.i,_=new li;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ua(this,_),this.m=u.m}else u&&(m=String(u).match(So))?(this.h=!1,dr(this,m[1]||"",!0),this.o=mr(m[2]||""),this.g=mr(m[3]||"",!0),vs(this,m[4]),this.l=mr(m[5]||"",!0),ua(this,m[6]||"",!0),this.m=mr(m[7]||"")):(this.h=!1,this.i=new li(null,this.h))}xi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Mn(m,wo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mn(m,wo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Mn(_,_.charAt(0)=="/"?Ro:iu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Mn(_,Uh)),u.join("")};function fe(u){return new xi(u)}function dr(u,m,_){u.j=_?mr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ua(u,m,_){m instanceof li?(u.i=m,ru(u.i,u.h)):(_||(m=Mn(m,kh)),u.i=new li(m,u.h))}function Bt(u,m,_){u.i.set(m,_)}function Es(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Mh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wo=/[#\/\?@]/g,iu=/[#\?:]/g,Ro=/[#\?]/g,kh=/[#\?@]/g,Uh=/#/g;function li(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Me(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=li.prototype,r.add=function(u,m){Me(this),this.i=null,u=Tn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ca(u,m){Me(u),m=Tn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ha(u,m){return Me(u),m=Tn(u,m),u.g.has(m)}r.forEach=function(u,m){Me(this),this.g.forEach(function(_,b){_.forEach(function(L){u.call(m,L,b,this)},this)},this)},r.na=function(){Me(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const L=u[b];for(let q=0;q<L.length;q++)_.push(m[b])}return _},r.V=function(u){Me(this);let m=[];if(typeof u=="string")ha(this,u)&&(m=m.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Me(this),this.i=null,u=Tn(this,u),ha(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ni(u,m,_){ca(u,m),0<_.length&&(u.i=null,u.g.set(Tn(u,m),tt(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const q=encodeURIComponent(String(b)),et=this.V(b);for(b=0;b<et.length;b++){var L=q;et[b]!==""&&(L+="="+encodeURIComponent(String(et[b]))),u.push(L)}}return this.i=u.join("&")};function Tn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ru(u,m){m&&!u.j&&(Me(u),u.i=null,u.g.forEach(function(_,b){var L=b.toLowerCase();b!=L&&(ca(this,b),Ni(this,L,_))},u)),u.j=m}function Io(u,m){const _=new lr;if(p.Image){const b=new Image;b.onload=H(hn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=H(hn,_,"TestLoadImage: error",!1,m,b),b.onabort=H(hn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=H(hn,_,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function su(u,m){const _=new lr,b=new AbortController,L=setTimeout(()=>{b.abort(),hn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?hn(_,"TestPingServer: ok",!0,m):hn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),hn(_,"TestPingServer: error",!1,m)})}function hn(u,m,_,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(_)}catch{}}function Yn(){this.g=new Dh}function Co(u,m,_){const b=_||"";try{oa(u,function(L,q){let et=L;v(L)&&(et=Dn(L)),m.push(b+q+"="+encodeURIComponent(et))})}catch(L){throw m.push(b+"type="+encodeURIComponent("_badmap")),L}}function ui(u){this.l=u.Ub||null,this.j=u.eb||!1}$(ui,go),ui.prototype.g=function(){return new bn(this.l,this.j)},ui.prototype.i=(function(u){return function(){return u}})({});function bn(u,m){Ne.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(bn,Ne),r=bn.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,pr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ci(this):pr(this),this.readyState==3&&fa(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ci(this))},r.Qa=function(u){this.g&&(this.response=u,ci(this))},r.ga=function(){this.g&&ci(this)};function ci(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pr(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ts(u){let m="";return wt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function gr(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Ts(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Bt(u,m,_))}function ie(u){Ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(ie,Ne);var Je=/^https?$/i,Di=["POST","PUT"];r=ie.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?Jl(this.o):Jl(si),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){bs(this,q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)_.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Di,m,void 0))||b||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){bs(this,q)}};function bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,yr(u),_r(u)}function yr(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ve(this,"complete"),Ve(this,"abort"),_r(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),ie.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?au(this):this.bb())},r.bb=function(){au(this)};function au(u){if(u.h&&typeof d<"u"&&(!u.v[1]||ln(u)!=4||u.Z()!=2)){if(u.u&&ln(u)==4)Zl(u.Ea,0,u);else if(Ve(u,"readystatechange"),ln(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=et===0){var L=String(u.D).match(So)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),b=!Je.test(L?L.toLowerCase():"")}_=b}if(_)Ve(u,"complete"),Ve(u,"success");else{u.m=6;try{var q=2<ln(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",yr(u)}}finally{_r(u)}}}}function _r(u,m){if(u.g){da(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ve(u,"ready");try{_.onreadystatechange=b}catch{}}}function da(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function ln(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sn(m)}};function As(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ou(u){const m={};u=(u.g&&2<=ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(mt(u[b]))continue;var _=M(u[b]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[L]||[];m[L]=q,q.push(_)}N(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function lu(u){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,u),this.cb=Ss("retryDelaySeedMs",1e4,u),this.Wa=Ss("forwardChannelMaxRetries",2,u),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(u&&u.concurrentRequestLimit),this.Da=new Yn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=lu.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,b){qe(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=pu(this,null,this.W),ma(this)};function xo(u){if(uu(u),u.G==3){var m=u.U++,_=fe(u.I);if(Bt(_,"SID",u.K),Bt(_,"RID",m),Bt(_,"TYPE","terminate"),ws(u,_),m=new ai(u,u.j,m),m.L=2,m.v=Es(fe(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kn(m)}Vo(u)}function vr(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function uu(u){vr(u),u.u&&(p.clearTimeout(u.u),u.u=null),Er(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ma(u){if(!Ao(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||zt(),ht||(nt(),ht=!0),Pt.add(m,u),u.B=0}}function Lh(u,m){return eu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=or(C(u.Ga,u,m),mu(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ai(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=No(this,L,m),_=fe(this.I),Bt(_,"RID",u),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),ws(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Ts(q)))+"&"+m:this.m&&gr(_,this.m,q)),fr(this.h,L),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",m),Bt(_,"SID","null"),L.T=!0,ys(L,_,null)):ys(L,_,m),this.G=2}}else this.G==3&&(u?cu(this,u):this.i.length==0||Ao(this.h)||cu(this))};function cu(u,m){var _;m?_=m.l:_=u.U++;const b=fe(u.I);Bt(b,"SID",u.K),Bt(b,"RID",_),Bt(b,"AID",u.T),ws(u,b),u.m&&u.o&&gr(b,u.m,u.o),_=new ai(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fr(u.h,_),ys(_,b,m)}function ws(u,m){u.H&&wt(u.H,function(_,b){Bt(m,b,_)}),u.l&&oa({},function(_,b){Bt(m,b,_)})}function No(u,m,_){_=Math.min(u.i.length,_);var b=u.l?C(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const et=["count="+_];q==-1?0<_?(q=L[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Qt=!0;for(let Te=0;Te<_;Te++){let xt=L[Te].g;const ke=L[Te].map;if(xt-=q,0>xt)q=Math.max(0,L[Te].g-100),Qt=!1;else try{Co(ke,et,"req"+xt+"_")}catch{b&&b(ke)}}if(Qt){b=et.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,b}function hu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||zt(),ht||(nt(),ht=!0),Pt.add(m,u),u.v=0}}function Do(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=or(C(u.Fa,u),mu(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=or(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),vr(this),fu(this))};function Oo(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function fu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fe(u.qa);Bt(m,"RID","rpc"),Bt(m,"SID",u.K),Bt(m,"AID",u.T),Bt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(m,"TO",u.ja),Bt(m,"TYPE","xmlhttp"),ws(u,m),u.m&&u.o&&gr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Es(fe(m)),_.m=null,_.P=!0,Ii(_,u)}r.Za=function(){this.C!=null&&(this.C=null,vr(this),Do(this),qe(19))};function Er(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){Er(u),Oo(u),u.g=null;var b=2}else if(hr(u.h,m))_=m.D,Vn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;b=sa(),Ve(b,new _o(b,_)),ma(u)}else hu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(b==1&&Lh(u,m)||b==2&&Do(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function mu(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),b=u.Xa;const L=!b;b=new xi(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||dr(b,"https"),Es(b),L?Io(b.toString(),_):su(b.toString(),_)}else qe(2);u.G=0,u.l&&u.l.sa(m),Vo(u),uu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=on(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function pu(u,m,_){var b=_ instanceof xi?fe(_):new xi(_);if(b.g!="")m&&(b.g=m+"."+b.g),vs(b,b.s);else{var L=p.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new xi(null);b&&dr(q,b),m&&(q.g=m),L&&vs(q,L),_&&(q.l=_),b=q}return _=u.D,m=u.ya,_&&m&&Bt(b,_,m),Bt(b,"VER",u.la),ws(u,b),b}function gu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ie(new ui({eb:_})):new ie(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Ne.call(this),this.g=new lu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!mt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Tr(this)}$(un,Ne),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){xo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Dn(u),u=_);m.i.push(new Oh(m.Ya++,u)),m.G==3&&ma(m)},un.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,un.aa.N.call(this)};function _u(u){rr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(_u,rr);function vu(){Qn.call(this),this.status=1}$(vu,Qn);function Tr(u){this.g=u}$(Tr,yu),Tr.prototype.ua=function(){Ve(this.g,"a")},Tr.prototype.ta=function(u){Ve(this.g,new _u(u))},Tr.prototype.sa=function(u){Ve(this.g,new vu)},Tr.prototype.ra=function(){Ve(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Z0=function(){return new pa},$0=function(){return sa()},X0=On,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,xc=he,He.COMPLETE="complete",Y0=He,gs.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,_l=gs,ie.prototype.listenOnce=ie.prototype.L,ie.prototype.getLastError=ie.prototype.Ka,ie.prototype.getLastErrorCode=ie.prototype.Ba,ie.prototype.getStatus=ie.prototype.Z,ie.prototype.getResponseJson=ie.prototype.Oa,ie.prototype.getResponseText=ie.prototype.oa,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Ha,K0=ie}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new wm("@firebase/firestore");function Fa(){return Zs.logLevel}function st(r,...t){if(Zs.logLevel<=kt.DEBUG){const i=t.map(Cm);Zs.debug(`Firestore (${oo}): ${r}`,...i)}}function Wi(r,...t){if(Zs.logLevel<=kt.ERROR){const i=t.map(Cm);Zs.error(`Firestore (${oo}): ${r}`,...i)}}function ns(r,...t){if(Zs.logLevel<=kt.WARN){const i=t.map(Cm);Zs.warn(`Firestore (${oo}): ${r}`,...i)}}function Cm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,J0(r,s,i)}function J0(r,t,i){let s=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function Kt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||J0(t,l,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends nr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class k2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class U2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ts,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ts)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new W0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class L2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=j2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function im(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Nt(s,l);{const c=tE(),d=B2(c.encode(hv(r,i)),c.encode(hv(t,i)));return d!==0?d:Nt(s,l)}}i+=s>65535?2:1}return Nt(r.length,t.length)}function hv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function B2(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Nt(r[i],t[i]);return Nt(r.length,t.length)}function Wa(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class pi{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof pi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=pi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const s=pi.isNumericId(t),l=pi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?pi.extractNumericId(t).compare(pi.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wr.fromString(t.substring(4,t.length-2))}}class ee extends pi{construct(t,i,s){return new ee(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends pi{construct(t,i,s){return new Xe(t,i,s)}static isValidIdentifier(t){return q2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Xe([fv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function H2(r,t,i,s){if(t===!0&&s===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function dv(r){if(!dt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mv(r){if(dt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Fn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function jl(r,t){if(!nE(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-62135596800,gv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*gv);return new ae(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<pv)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ce("string",ae._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ae(0,0))}static max(){return new bt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function F2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new is(l,dt.empty(),t)}function G2(r){return new is(r.readTime,r.key,Nl)}class is{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new is(bt.min(),dt.empty(),Nl)}static max(){return new is(bt.max(),dt.empty(),Nl)}}function Q2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==K2)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,s)=>{i(t)}))}static reject(t){return new Z(((i,s)=>{s(t)}))}static waitFor(t){return new Z(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Z(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((T=>{d[v]=T,++p,p===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Z(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function X2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}oh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function lh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function $2(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="";function Z2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=yv(t)),t=J2(r.get(i),t);return yv(t)}function J2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case iE:i+="";break;default:i+=c}}return i}function yv(r){return r+iE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function cs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function rE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ye(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new Oe(Xe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sE("Invalid base64 string: "+c):c}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=W2.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Dm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[oE])===null||i===void 0?void 0:i.stringValue)===aE}function uh(r){const t=r.mapValue.fields[lE];return Dm(t)?uh(t):t}function Dl(r){const t=rs(r.mapValue.fields[uE].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,i,s,l,c,d,p,y,v,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=T}}const Hc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__type__",ew="__max__",wc={mapValue:{}},hE="__vector__",Fc="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:iw(r)?9007199254740991:nw(r)?10:11:_t(28295,{value:r})}function Ti(r,t){if(r===t)return!0;const i=as(r);if(i!==as(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rs(l.timestampValue),p=rs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ss(l.bytesValue).isEqual(ss(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ve(l.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ve(l.integerValue)===ve(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ve(l.doubleValue),p=ve(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Ti);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(_v(d)!==_v(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ti(d[y],p[y])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Ti(i,t)))!==void 0}function to(r,t){if(r===t)return 0;const i=as(r),s=as(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ve(c.integerValue||c.doubleValue),y=ve(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Ev(r.timestampValue,t.timestampValue);case 4:return Ev(Dl(r),Dl(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ss(c),y=ss(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const T=Nt(p[v],y[v]);if(T!==0)return T}return Nt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(ve(c.latitude),ve(d.latitude));return p!==0?p:Nt(ve(c.longitude),ve(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Tv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){var p,y,v,T;const A=c.fields||{},C=d.fields||{},H=(p=A[Fc])===null||p===void 0?void 0:p.arrayValue,$=(y=C[Fc])===null||y===void 0?void 0:y.arrayValue,tt=Nt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((T=$==null?void 0:$.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:Tv(H,$)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const C=im(y[A],T[A]);if(C!==0)return C;const H=to(p[y[A]],v[T[A]]);if(H!==0)return H}return Nt(y.length,T.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{le:i})}}function Ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=rs(r),s=rs(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function Tv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=to(i[l],s[l]);if(c)return c}return Nt(i.length,s.length)}function eo(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=rs(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ss(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=rm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Nc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(r);return t?16+Nc(t):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Nc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return cs(s.fields,((c,d)=>{l+=c.length+Nc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function bv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function sm(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function Sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function nw(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[cE])===null||i===void 0?void 0:i.stringValue)===hE}function Sl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return cs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Sl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function iw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Xe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ti(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){cs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new vn(Sl(this.value))}}function fE(r){const t=[];return cs(r.fields,((i,s)=>{const l=new Xe([i]);if(Dc(s)){const c=fE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,bt.min(),bt.min(),bt.min(),vn.empty(),0)}static newFoundDocument(t,i,s,l){return new nn(t,1,i,bt.min(),s,l,0)}static newNoDocument(t,i){return new nn(t,2,i,bt.min(),bt.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,bt.min(),bt.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i){this.position=t,this.inclusive=i}}function wv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=to(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,i="asc"){this.field=t,this.dir=i}}function rw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Ie extends dE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new aw(t,i,s):i==="array-contains"?new uw(t,s):i==="in"?new cw(t,s):i==="not-in"?new hw(t,s):i==="array-contains-any"?new fw(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new ow(t,s):new lw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&as(this.value)===as(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends dE{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new ei(t,i)}matches(t){return mE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mE(r){return r.op==="and"}function pE(r){return sw(r)&&mE(r)}function sw(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function am(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(pE(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function gE(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Ti(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&gE(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function yE(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(yE).join(" ,")+"}"})(r):"Filter"}class aw extends Ie{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ow extends Ie{constructor(t,i){super(t,"in",i),this.keys=_E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lw extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=_E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function _E(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>dt.fromName(s.referenceValue)))}class uw extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&Vl(i.arrayValue,this.value)}}class cw extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class hw extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class fw extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Vl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Pe=null}}function Iv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new dw(r,t,i,s,l,c,d)}function Vm(r){const t=St(r);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>am(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>eo(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>eo(s))).join(",")),t.Pe=i}return t.Pe}function Mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!rw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Rv(r.startAt,t.startAt)&&Rv(r.endAt,t.endAt)}function om(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mw(r,t,i,s,l,c,d,p){return new co(r,t,i,s,l,c,d,p)}function km(r){return new co(r)}function Cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vE(r){return r.collectionGroup!==null}function wl(r){const t=St(r);if(t.Te===null){t.Te=[];const i=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Ml(c,s))})),i.has(Xe.keyField().canonicalString())||t.Te.push(new Ml(Xe.keyField(),s))}return t.Te}function gi(r){const t=St(r);return t.Ie||(t.Ie=pw(t,wl(r))),t.Ie}function pw(r,t){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ml(l.field,c)}));const i=r.endAt?new Gc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gc(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function lm(r,t){const i=r.filters.concat([t]);return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function um(r,t,i){return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return Mm(gi(r),gi(t))&&r.limitType===t.limitType}function EE(r){return`${Vm(gi(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>yE(l))).join(", ")}]`),lh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${s})`})(gi(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of wl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const v=wv(d,p,y);return d.inclusive?v<=0:v<0})(s.startAt,wl(s),l)||s.endAt&&!(function(d,p,y){const v=wv(d,p,y);return d.inclusive?v>=0:v>0})(s.endAt,wl(s),l))})(r,t)}function gw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TE(r){return(t,i)=>{let s=!1;for(const l of wl(r)){const c=yw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function yw(r,t,i){const s=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?to(y,v):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new ue(dt.comparator);function tr(){return _w}const bE=new ue(dt.comparator);function vl(...r){let t=bE;for(const i of r)t=t.insert(i.key,i);return t}function AE(r){let t=bE;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Fs(){return Rl()}function SE(){return Rl()}function Rl(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const vw=new ue(dt.comparator),Ew=new Oe(dt.comparator);function Ut(...r){let t=Ew;for(const i of r)t=t.add(i);return t}const Tw=new Oe(Nt);function bw(){return Tw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function wE(r){return{integerValue:""+r}}function Aw(r,t){return $2(t)?wE(t):Um(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function Sw(r,t,i){return r instanceof Qc?(function(l,c){const d={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=uh(c)),c&&(d.fields[lE]=c),{mapValue:d}})(i,t):r instanceof kl?IE(r,t):r instanceof Ul?CE(r,t):(function(l,c){const d=RE(l,c),p=xv(d)+xv(l.Ee);return sm(d)&&sm(l.Ee)?wE(p):Um(l.serializer,p)})(r,t)}function ww(r,t,i){return r instanceof kl?IE(r,t):r instanceof Ul?CE(r,t):i}function RE(r,t){return r instanceof Kc?(function(s){return sm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Qc extends fh{}class kl extends fh{constructor(t){super(),this.elements=t}}function IE(r,t){const i=xE(t);for(const s of r.elements)i.some((l=>Ti(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ul extends fh{constructor(t){super(),this.elements=t}}function CE(r,t){let i=xE(t);for(const s of r.elements)i=i.filter((l=>!Ti(l,s)));return{arrayValue:{values:i}}}class Kc extends fh{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function xv(r){return ve(r.integerValue||r.doubleValue)}function xE(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Rw(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof kl&&l instanceof kl||s instanceof Ul&&l instanceof Ul?Wa(s.elements,l.elements,Ti):s instanceof Kc&&l instanceof Kc?Ti(s.Ee,l.Ee):s instanceof Qc&&l instanceof Qc})(r.transform,t.transform)}class Iw{constructor(t,i){this.version=t,this.transformResults=i}}class Gn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function NE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Lm(r.key,Gn.none()):new Bl(r.key,r.data,Gn.none());{const i=r.data,s=vn.empty();let l=new Oe(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new hs(r.key,s,new Nn(l.toArray()),Gn.none())}}function Cw(r,t,i){r instanceof Bl?(function(l,c,d){const p=l.value.clone(),y=Dv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof hs?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Dv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(DE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(r,t,i,s){return r instanceof Bl?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const v=c.value.clone(),T=Ov(c.fieldTransforms,y,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,s):r instanceof hs?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const v=Ov(c.fieldTransforms,y,d),T=d.data;return T.setAll(DE(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,s):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function xw(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=RE(s.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(s.field,c))}return i||null}function Nv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Wa(s,l,((c,d)=>Rw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bl extends dh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends dh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Dv(r,t,i){const s=new Map;Kt(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,ww(d,p,i[l]))}return s}function Ov(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,Sw(c,d,t))}return s}class Lm extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Cw(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Il(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Il(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=SE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=NE(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,s)=>Nv(i,s)))&&Wa(this.baseMutations,t.baseMutations,((i,s)=>Nv(i,s)))}}class Pm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Kt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=(function(){return vw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Pm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,jt;function Mw(r){switch(r){case X.OK:return _t(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function OE(r){if(r===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return _t(39323,{code:r})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Wr([4294967295,4294967295],0);function Vv(r){const t=tE().encode(r),i=new Q0;return i.update(t),new Uint8Array(i.digest())}function Mv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Wr([i,s],0),new Wr([l,c],0)]}class zm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Wr.fromNumber(this.fe)}pe(t,i,s){let l=t.add(i.multiply(Wr.fromNumber(s)));return l.compare(kw)===1&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=Vv(t),[s,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);if(!this.ye(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.fe===0)return;const i=Vv(t),[s,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);this.we(d)}}we(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new mh(bt.min(),l,new ue(Nt),tr(),Ut())}}class ql{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new ql(s,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.be=l}}class VE{constructor(t,i){this.targetId=t,this.De=i}}class ME{constructor(t,i,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class kv{constructor(){this.ve=0,this.Ce=Uv(),this.Fe=$e.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ut(),i=Ut(),s=Ut();return this.Ce.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:c})}})),new ql(this.Fe,this.Me,t,i,s)}ke(){this.xe=!1,this.Ce=Uv()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Uw{constructor(t){this.We=t,this.Ge=new Map,this.ze=tr(),this.je=Rc(),this.Je=Rc(),this.He=new ue(Nt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,(i=>{const s=this.tt(i);switch(t.state){case 0:this.nt(i)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach(((s,l)=>{this.nt(l)&&i(l)}))}it(t){const i=t.targetId,s=t.De.count,l=this.st(i);if(l){const c=l.target;if(om(c))if(s===0){const d=new dt(c.path);this.Xe(i,d,nn.newNoDocument(d,bt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const p=this._t(t),y=p?this.ut(p,t,d):1;if(y!==0){this.rt(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ss(s).toUint8Array()}catch(y){if(y instanceof sE)return ns("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new zm(d,l,c)}catch(y){return ns(y instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.fe===0?null:p}ut(t,i,s){return i.De.count===s-this.ht(t,i.targetId)?0:2}ht(t,i){const s=this.We.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.Xe(i,c,null),l++)})),l}Pt(t){const i=new Map;this.Ge.forEach(((c,d)=>{const p=this.st(d);if(p){if(c.current&&om(p.target)){const y=new dt(p.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,nn.newNoDocument(y,t))}c.Ne&&(i.set(d,c.Le()),c.ke())}}));let s=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.st(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.ze.forEach(((c,d)=>d.setReadTime(t)));const l=new mh(t,i,this.He,this.ze,s);return this.ze=tr(),this.je=Rc(),this.Je=Rc(),this.He=new ue(Nt),l}Ze(t,i){if(!this.nt(t))return;const s=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,s){if(!this.nt(t))return;const l=this.tt(t);this.It(t,i)?l.qe(i,1):l.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new kv,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Oe(Nt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Oe(Nt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new kv),this.We.getRemoteKeysForTarget(t).forEach((i=>{this.Xe(t,i,null)}))}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Rc(){return new ue(dt.comparator)}function Uv(){return new ue(dt.comparator)}const Lw={asc:"ASCENDING",desc:"DESCENDING"},Pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zw={and:"AND",or:"OR"};class jw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||lh(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Bw(r,t){return Yc(r,t.toTimestamp())}function yi(r){return Kt(!!r,49232),bt.fromTimestamp((function(i){const s=rs(i);return new ae(s.seconds,s.nanos)})(r))}function jm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function UE(r){const t=ee.fromString(r);return Kt(BE(t),10190,{key:t.toString()}),t}function fm(r,t){return jm(r.databaseId,t.path)}function Hd(r,t){const i=UE(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(PE(i))}function LE(r,t){return jm(r.databaseId,t)}function qw(r){const t=UE(r);return t.length===4?ee.emptyPath():PE(t)}function dm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PE(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Lv(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function Hw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(Kt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?X.UNKNOWN:OE(v.code);return new rt(T,v.message||"")})(d);i=new ME(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Hd(r,s.document.name),c=yi(s.document.updateTime),d=s.document.createTime?yi(s.document.createTime):bt.min(),p=new vn({mapValue:{fields:s.document.fields}}),y=nn.newFoundDocument(l,c,d,p),v=s.targetIds||[],T=s.removedTargetIds||[];i=new Vc(v,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Hd(r,s.document),c=s.readTime?yi(s.readTime):bt.min(),d=nn.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Hd(r,s.document),c=s.removedTargetIds||[];i=new Vc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Vw(l,c),p=s.targetId;i=new VE(p,d)}}return i}function Fw(r,t){let i;if(t instanceof Bl)i={update:Lv(r,t.key,t.value)};else if(t instanceof Lm)i={delete:fm(r,t.key)};else if(t instanceof hs)i={update:Lv(r,t.key,t.data),updateMask:Ww(t.fieldMask)};else{if(!(t instanceof Nw))return _t(16599,{Rt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw _t(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Bw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function Gw(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?yi(l.updateTime):yi(c);return d.isEqual(bt.min())&&(d=yi(c)),new Iw(d,l.transformResults||[])})(i,t)))):[]}function Qw(r,t){return{documents:[LE(r,t.path)]}}function Kw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=LE(r,l);const c=(function(v){if(v.length!==0)return jE(ei.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((T=>(function(C){return{field:Qa(C.field),direction:$w(C.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{Vt:i,parent:l}}function Yw(r){let t=qw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Kt(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const C=zE(A);return C instanceof ei&&pE(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((C=>(function($){return new Ml(Ka($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let C;return C=typeof A=="object"?A.value:A,lh(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(A){const C=!!A.before,H=A.values||[];return new Gc(H,C)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const C=!A.before,H=A.values||[];return new Gc(H,C)})(i.endAt)),mw(t,l,d,c,p,"F",y,v)}function Xw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function zE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>zE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function $w(r){return Lw[r]}function Zw(r){return Pw[r]}function Jw(r){return zw[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Xe.fromServerFormat(r.fieldPath)}function jE(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Sv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:Zw(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>jE(l)));return s.length===1?s[0]:{compositeFilter:{op:Jw(i.op),filters:s}}})(r):_t(54877,{filter:r})}function Ww(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function BE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,i,s,l,c=bt.min(),d=bt.min(),p=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.gt=t}}function eR(r){const t=Yw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.Dn=new iR}addToCollectionParentIndex(t,i){return this.Dn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(is.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(is.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class iR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Oe(ee.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(qE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new no(0)}static ur(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LruGarbageCollector",rR=1048576;function jv([r,t],[i,s]){const l=Nt(r,i);return l===0?Nt(t,s):l}class sR{constructor(t){this.Tr=t,this.buffer=new Oe(jv),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();jv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(zv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?st(zv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Rr(3e5)}))}}class oR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(oh.ue);const s=new sR(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.gr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Pv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.pr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let s,l,c,d,p,y,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(t,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(v=Date.now(),Fa()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function lR(r,t){return new oR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Il(s.mutation,l,Nn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ut()){const l=Fs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=vl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Fs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ut())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=tr();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((y,v)=>{const T=s.get(v.key);l.has(v.key)&&(T===void 0||T.mutation instanceof hs)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),Il(T.mutation,v,T.mutation.getFieldMask(),ae.now())):d.set(v.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>{var A;return p.set(v,new cR(T,(A=d.get(v))!==null&&A!==void 0?A:null))})),p)))}recalculateAndSaveOverlays(t,i){const s=Rl();let l=new ue(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let T=s.get(y)||Nn.empty();T=p.applyToLocalView(v,T),s.set(y,T);const A=(l.get(p.batchId)||Ut()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,T=y.value,A=SE();T.forEach((C=>{if(!c.has(C)){const H=NE(i.get(C),s.get(C));H!==null&&A.set(C,H),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,A))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):vE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Z.resolve(Fs());let p=Nl,y=c;return d.next((v=>Z.forEach(v,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((C=>{y=y.insert(T,C)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Ut()))).next((T=>({batchId:p,changes:AE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((s=>{let l=vl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const v=(function(A,C){return new co(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((T=>{T.forEach(((A,C)=>{d=d.insert(A,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let p=vl();return d.forEach(((y,v)=>{const T=c.get(y);T!==void 0&&Il(T.mutation,v,Nn.empty(),ae.now()),hh(i,v)&&(p=p.insert(y,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:yi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,(function(l){return{name:l.name,query:eR(l.bundledQuery),readTime:yi(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.overlays=new ue(dt.comparator),this.kr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Fs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.wt(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.kr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const l=Fs(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let T=c.get(v.largestBatchId);T===null&&(T=Fs(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=Fs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=l)););return Z.resolve(p)}wt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Ow(i,s));let c=this.kr.get(i);c===void 0&&(c=Ut(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.qr=new Oe(Pe.Qr),this.$r=new Oe(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const s=new Pe(t,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Gr(t,i){t.forEach((s=>this.removeReference(s,i)))}zr(t){const i=new dt(new ee([])),s=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.$r.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new dt(new ee([])),s=new Pe(i,t),l=new Pe(i,t+1);let c=Ut();return this.$r.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return dt.comparator(t.key,i.key)||Nt(t.Hr,i.Hr)}static Ur(t,i){return Nt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Oe(Pe.Qr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Dw(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Yr=this.Yr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Nm:this.er-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Oe(Nt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),Z.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let p=new Oe(Nt);return this.Yr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Hr)),!0)}),d),Z.resolve(this.ei(p))}ei(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Z.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,i){const s=new Pe(i,0),l=this.Yr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.ni=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let s=tr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=tr();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Q2(G2(T),s)<=0||(l.has(T.key)||hh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,s,l){_t(9500)}ri(t,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new yR(this)}getSize(t){return Z.resolve(this.size)}}class yR extends uR{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)})),Z.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.persistence=t,this.ii=new ta((i=>Vm(i)),Mm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.si=0,this.oi=new Bm,this.targetCount=0,this._i=no.ar()}forEachTarget(t,i){return this.ii.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),Z.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new no(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.hr(i),Z.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ii.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.ii.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this.oi.Kr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this.oi.Gr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this.oi.Jr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,i){this.ai={},this.overlays={},this.ui=new oh(0),this.ci=!1,this.ci=!0,this.li=new mR,this.referenceDelegate=t(this),this.hi=new _R(this),this.indexManager=new nR,this.remoteDocumentCache=(function(l){return new gR(l)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new tR(i),this.Ti=new fR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ai[t.toKey()];return s||(s=new pR(i,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new vR(this.ui.next());return this.referenceDelegate.Ii(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Z.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,i))))}}class vR extends Y2{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ai=new Bm,this.Ri=null}static Vi(t){return new qm(t)}get mi(){if(this.Ri)return this.Ri;throw _t(60996)}addReference(t,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach((l=>this.mi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.mi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(s=>{const l=dt.fromPath(s);return this.fi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Ri=null,i.apply(t))))}updateLimboDocument(t,i){return this.fi(t,i).next((s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(t){return 0}fi(t,i){return Z.or([()=>Z.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.gi=new ta((s=>Z2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=lR(this,i)}static Vi(t,i){return new Xc(t,i)}Ii(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}yr(t){let i=0;return this.gr(t,(s=>{i++})).next((()=>i))}gr(t,i){return Z.forEach(this.gi,((s,l)=>this.Sr(t,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,(d=>this.Sr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.gi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),Z.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}Sr(t,i,s){return Z.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.gi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Is=s,this.ds=l}static Es(t,i){let s=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return mS()?8:X2(rn())>0?6:4})()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ps(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ys(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ER;return this.ws(t,i,d).next((p=>{if(c.result=p,this.Rs)return this.Ss(t,i,d,p.size)}))})).next((()=>c.result))}Ss(t,i,s,l){return s.documentReadCount<this.Vs?(Fa()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Fa()<=kt.DEBUG&&st("QueryEngine","Query:",Ga(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(Fa()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(i))):Z.resolve())}ps(t,i){if(Cv(i))return Z.resolve(null);let s=gi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),s=gi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ut(...c);return this.gs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const v=this.bs(i,p);return this.Ds(i,v,d,y.readTime)?this.ps(t,um(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ys(t,i,s,l){return Cv(i)||l.isEqual(bt.min())?Z.resolve(null):this.gs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ds(i,d,s,l)?Z.resolve(null):(Fa()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.vs(t,d,i,F2(l,Nl)).next((p=>p)))}))}bs(t,i){let s=new Oe(TE(t));return i.forEach(((l,c)=>{hh(t,c)&&(s=s.add(c))})),s}Ds(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,i,s){return Fa()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.gs.getDocumentsMatchingQuery(t,i,is.min(),s)}vs(t,i,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",bR=3e8;class AR{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.Fs=new ue(Nt),this.Ms=new ta((c=>Vm(c)),Mm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Fs)))}}function SR(r,t,i,s){return new AR(r,t,i,s)}async function FE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Ns(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Ut();for(const v of l){d.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of c){p.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next((v=>({Bs:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function wR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,T){const A=v.batch,C=A.keys();let H=Z.resolve();return C.forEach(($=>{H=H.next((()=>T.getEntry(y,$))).next((tt=>{const J=v.docVersions.get($);Kt(J!==null,48541),tt.version.compareTo(J)<0&&(A.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),T.addEntry(tt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Ut();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function GE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.hi.getLastRemoteSnapshotVersion(i)))}function RR(r,t){const i=St(r),s=t.snapshotVersion;let l=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});l=i.Fs;const p=[];t.targetChanges.forEach(((T,A)=>{const C=l.get(A);if(!C)return;p.push(i.hi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.hi.addMatchingKeys(c,T.addedDocuments,A))));let H=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken($e.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(A,H),(function(tt,J,ut){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=bR?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(C,H,T)&&p.push(i.hi.updateTargetData(c,H))}));let y=tr(),v=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(IR(c,d,t.documentUpdates).next((T=>{y=T.Ls,v=T.ks}))),!s.isEqual(bt.min())){const T=i.hi.getLastRemoteSnapshotVersion(c).next((A=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Fs=l,c)))}function IR(r,t,i){let s=Ut(),l=Ut();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=tr();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):st(Fm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{Ls:d,ks:l}}))}function CR(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function xR(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.hi.getTargetData(s,t).next((c=>c?(l=c,Z.resolve(l)):i.hi.allocateTargetId(s).next((d=>(l=new Xr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(t,s.targetId)),s}))}async function mm(r,t,i){const s=St(r),l=s.Fs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;st(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(l.target)}function Bv(r,t,i){const s=St(r);let l=bt.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,T){const A=St(y),C=A.Ms.get(T);return C!==void 0?Z.resolve(A.Fs.get(C)):A.hi.getTargetData(v,T)})(s,d,gi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Ut()))).next((p=>(NR(s,gw(t),p),{documents:p,qs:c})))))}function NR(r,t,i){let s=r.xs.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.xs.set(t,s)}class qv{constructor(){this.activeTargetIds=bw()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DR{constructor(){this.Fo=new qv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,s){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new qv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class Fv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function pm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",VR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=pm(),p=this.Go(t,i.toUriEncodedString());st(Fd,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,l,c);const{host:v}=new URL(p),T=so(v);return this.jo(t,p,y,s,T).then((A=>(st(Fd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ns(Fd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}zo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Go(t,i){const s=VR[t];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class UR extends MR{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,s,l,c){const d=pm();return new Promise(((p,y)=>{const v=new K0;v.setWithCredentials(!0),v.listenOnce(Y0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case xc.NO_ERROR:const A=v.getResponseJson();st(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case xc.TIMEOUT:st(tn,`RPC '${t}' ${d} timed out`),y(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const C=v.getStatus();if(st(tn,`RPC '${t}' ${d} failed with status:`,C,"response text:",v.getResponseText()),C>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H==null?void 0:H.error;if($&&$.status&&$.message){const tt=(function(ut){const mt=ut.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(mt)>=0?mt:X.UNKNOWN})($.status);y(new rt(tt,$.message))}else y(new rt(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new rt(X.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{c_:t,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{st(tn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);st(tn,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",T,s,15)}))}P_(t,i,s){const l=pm(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Z0(),p=$0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=c.join("");st(tn,`Creating RPC '${t}' stream ${l}: ${T}`,y);const A=d.createWebChannel(T,y);this.T_(A);let C=!1,H=!1;const $=new kR({Ho:J=>{H?st(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(C||(st(tn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),C=!0),st(tn,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Yo:()=>A.close()}),tt=(J,ut,mt)=>{J.listen(ut,(ct=>{try{mt(ct)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return tt(A,_l.EventType.OPEN,(()=>{H||(st(tn,`RPC '${t}' stream ${l} transport opened.`),$.s_())})),tt(A,_l.EventType.CLOSE,(()=>{H||(H=!0,st(tn,`RPC '${t}' stream ${l} transport closed`),$.__(),this.I_(A))})),tt(A,_l.EventType.ERROR,(J=>{H||(H=!0,ns(tn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.__(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),tt(A,_l.EventType.MESSAGE,(J=>{var ut;if(!H){const mt=J.data[0];Kt(!!mt,16349);const ct=mt,Tt=(ct==null?void 0:ct.error)||((ut=ct[0])===null||ut===void 0?void 0:ut.error);if(Tt){st(tn,`RPC '${t}' stream ${l} received error:`,Tt);const Yt=Tt.status;let wt=(function(w){const V=Re[w];if(V!==void 0)return OE(V)})(Yt),N=Tt.message;wt===void 0&&(wt=X.INTERNAL,N="Unknown error status: "+Yt+" with message "+Tt.message),H=!0,$.__(new rt(wt,N)),A.close()}else st(tn,`RPC '${t}' stream ${l} received:`,mt),$.a_(mt)}})),tt(p,X0.STAT_EVENT,(J=>{J.stat===nm.PROXY?st(tn,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===nm.NOPROXY&&st(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.o_()}),0),$}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return new jw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=i,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="PersistentStream";class KE{constructor(t,i,s,l,c,d,p,y){this.Fi=t,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new QE(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.b_===i&&this.W_(s,l)}),(s=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)}))}))}W_(t,i){const s=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((l=>{s((()=>this.G_(l)))})),this.stream.onMessage((l=>{s((()=>++this.C_==1?this.j_(l):this.onNext(l)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return st(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget((()=>this.b_===t?i():(st(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LR extends KE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=Hw(this.serializer,t),s=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?yi(d.readTime):bt.min()})(t);return this.listener.J_(i,s)}H_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=om(y)?{documents:Qw(c,y)}:{query:Kw(c,y).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=kE(c,d.resumeToken);const v=cm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=Yc(c,d.snapshotVersion.toTimestamp());const v=cm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=Xw(this.serializer,t);s&&(i.labels=s),this.k_(i)}Y_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.k_(i)}}class PR extends KE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=Gw(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.ta(s,i)}na(){const t={};t.database=dm(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>Fw(this.serializer,s)))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{}class jR extends zR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,hm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Jo(t,i,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Jo(t,hm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class BR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Wi(i),this._a=!1):st("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class qR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo((d=>{s.enqueueAndForget((async()=>{ea(this)&&(st(Js,"Restarting streams for network reachability change."),await(async function(y){const v=St(y);v.Ia.add(4),await Hl(v),v.Aa.set("Unknown"),v.Ia.delete(4),await gh(v)})(this))}))})),this.Aa=new BR(s,l)}}async function gh(r){if(ea(r))for(const t of r.da)await t(!0)}async function Hl(r){for(const t of r.da)await t(!1)}function YE(r,t){const i=St(r);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),Ym(i)?Km(i):ho(i).x_()&&Qm(i,t))}function Gm(r,t){const i=St(r),s=ho(i);i.Ta.delete(t),s.x_()&&XE(i,t),i.Ta.size===0&&(s.x_()?s.B_():ea(i)&&i.Aa.set("Unknown"))}function Qm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(r).H_(t)}function XE(r,t){r.Ra.$e(t),ho(r).Y_(t)}function Km(r){r.Ra=new Uw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Aa.aa()}function Ym(r){return ea(r)&&!ho(r).M_()&&r.Ta.size>0}function ea(r){return St(r).Ia.size===0}function $E(r){r.Ra=void 0}async function HR(r){r.Aa.set("Online")}async function FR(r){r.Ta.forEach(((t,i)=>{Qm(r,t)}))}async function GR(r,t){$E(r),Ym(r)?(r.Aa.la(t),Km(r)):r.Aa.set("Unknown")}async function QR(r,t,i){if(r.Aa.set("Online"),t instanceof ME&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ta.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ta.delete(p),l.Ra.removeTarget(p))})(r,t)}catch(s){st(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await $c(r,s)}else if(t instanceof Vc?r.Ra.Ye(t):t instanceof VE?r.Ra.it(t):r.Ra.et(t),!i.isEqual(bt.min()))try{const s=await GE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Ra.Pt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ta.get(v);T&&c.Ta.set(v,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const T=c.Ta.get(y);if(!T)return;c.Ta.set(y,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),XE(c,y);const A=new Xr(T.target,y,v,T.sequenceNumber);Qm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){st(Js,"Failed to raise snapshot:",s),await $c(r,s)}}async function $c(r,t,i){if(!uo(t))throw t;r.Ia.add(1),await Hl(r),r.Aa.set("Offline"),i||(i=()=>GE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Js,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await gh(r)}))}function ZE(r,t){return t().catch((i=>$c(r,i,t)))}async function yh(r){const t=St(r),i=os(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Nm;for(;KR(t);)try{const l=await CR(t.localStore,s);if(l===null){t.Pa.length===0&&i.B_();break}s=l.batchId,YR(t,l)}catch(l){await $c(t,l)}JE(t)&&WE(t)}function KR(r){return ea(r)&&r.Pa.length<10}function YR(r,t){r.Pa.push(t);const i=os(r);i.x_()&&i.Z_&&i.X_(t.mutations)}function JE(r){return ea(r)&&!os(r).M_()&&r.Pa.length>0}function WE(r){os(r).start()}async function XR(r){os(r).na()}async function $R(r){const t=os(r);for(const i of r.Pa)t.X_(i.mutations)}async function ZR(r,t,i){const s=r.Pa.shift(),l=Pm.from(s,t,i);await ZE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await yh(r)}async function JR(r,t){t&&os(r).Z_&&await(async function(s,l){if((function(d){return Mw(d)&&d!==X.ABORTED})(l.code)){const c=s.Pa.shift();os(s).N_(),await ZE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yh(s)}})(r,t),JE(r)&&WE(r)}async function Qv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Js,"RemoteStore received new credentials");const s=ea(i);i.Ia.add(3),await Hl(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await gh(i)}async function WR(r,t){const i=St(r);t?(i.Ia.delete(2),await gh(i)):t||(i.Ia.add(2),await Hl(i),i.Aa.set("Unknown"))}function ho(r){return r.Va||(r.Va=(function(i,s,l){const c=St(i);return c.ia(),new LR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:HR.bind(null,r),e_:FR.bind(null,r),n_:GR.bind(null,r),J_:QR.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),Ym(r)?Km(r):r.Aa.set("Unknown")):(await r.Va.stop(),$E(r))}))),r.Va}function os(r){return r.ma||(r.ma=(function(i,s,l){const c=St(i);return c.ia(),new PR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:XR.bind(null,r),n_:JR.bind(null,r),ea:$R.bind(null,r),ta:ZR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await yh(r)):(await r.ma.stop(),r.Pa.length>0&&(st(Js,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Xm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),uo(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=vl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.fa=new ue(dt.comparator)}track(t){const i=t.doc.key,s=this.fa.get(i);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(i,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(i):t.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):_t(63341,{At:t,ga:s}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal(((i,s)=>{t.push(s)})),t}}class io{constructor(t,i,s,l,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Ya.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class eI{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const l=St(i),c=l.queries;l.queries=Yv(),c.forEach(((d,p)=>{for(const y of p.wa)y.onError(s)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Yv(){return new ta((r=>EE(r)),ch)}async function t1(r,t){const i=St(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.ba()&&(s=2):(c=new tI,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(l,!0);break;case 1:c.ya=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=$m(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.wa.push(t),t.va(i.onlineState),c.ya&&t.Ca(c.ya)&&Zm(i)}async function e1(r,t){const i=St(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function nI(r,t){const i=St(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.wa)p.Ca(l)&&(s=!0);d.ya=l}}s&&Zm(i)}function iI(r,t,i){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.wa)c.onError(i);s.queries.delete(t)}function Zm(r){r.Da.forEach((t=>{t.next()}))}var gm,Xv;(Xv=gm||(gm={})).Fa="default",Xv.Cache="cache";class n1{constructor(t,i,s){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new io(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t){this.key=t}}class r1{constructor(t){this.key=t}}class rI{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ut(),this.mutatedKeys=Ut(),this.Xa=TE(t),this.eu=new Ya(this.Xa)}get tu(){return this.Ha}nu(t,i){const s=i?i.ru:new Kv,l=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const C=l.get(T),H=hh(this.query,A)?A:null,$=!!C&&this.mutatedKeys.has(C.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;C&&H?C.data.isEqual(H.data)?$!==tt&&(s.track({type:3,doc:H}),J=!0):this.iu(C,H)||(s.track({type:2,doc:H}),J=!0,(y&&this.Xa(H,y)>0||v&&this.Xa(H,v)<0)&&(p=!0)):!C&&H?(s.track({type:0,doc:H}),J=!0):C&&!H&&(s.track({type:1,doc:C}),J=!0,(y||v)&&(p=!0)),J&&(H?(d=d.add(H),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{eu:d,ru:s,Ds:p,mutatedKeys:c}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort(((T,A)=>(function(H,$){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{At:J})}};return tt(H)-tt($)})(T.type,A.type)||this.Xa(T.doc,A.doc))),this.su(s),l=l!=null&&l;const p=i&&!l?this.ou():[],y=this.Za.size===0&&this.current&&!l?1:0,v=y!==this.Ya;return this.Ya=y,d.length!==0||v?{snapshot:new io(this.query,t.eu,c,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Kv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ut(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const i=[];return t.forEach((s=>{this.Za.has(s)||i.push(new r1(s))})),this.Za.forEach((s=>{t.has(s)||i.push(new i1(s))})),i}uu(t){this.Ha=t.qs,this.Za=Ut();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return io.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Jm="SyncEngine";class sI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class aI{constructor(t){this.key=t,this.lu=!1}}class oI{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new ta((p=>EE(p)),ch),this.Tu=new Map,this.Iu=new Set,this.du=new ue(dt.comparator),this.Eu=new Map,this.Au=new Bm,this.Ru={},this.Vu=new Map,this.mu=no.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lI(r,t,i=!0){const s=c1(r);let l;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await s1(s,t,i,!0),l}async function uI(r,t){const i=c1(r);await s1(i,t,!0,!1)}async function s1(r,t,i,s){const l=await xR(r.localStore,gi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await cI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&YE(r.remoteStore,l),p}async function cI(r,t,i,s,l){r.gu=(A,C,H)=>(async function(tt,J,ut,mt){let ct=J.view.nu(ut);ct.Ds&&(ct=await Bv(tt.localStore,J.query,!1).then((({documents:N})=>J.view.nu(N,ct))));const Tt=mt&&mt.targetChanges.get(J.targetId),Yt=mt&&mt.targetMismatches.get(J.targetId)!=null,wt=J.view.applyChanges(ct,tt.isPrimaryClient,Tt,Yt);return Zv(tt,J.targetId,wt._u),wt.snapshot})(r,A,C,H);const c=await Bv(r.localStore,t,!0),d=new rI(t,c.qs),p=d.nu(c.documents),y=ql.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),v=d.applyChanges(p,r.isPrimaryClient,y);Zv(r,i,v._u);const T=new sI(t,i,d);return r.Pu.set(t,T),r.Tu.has(i)?r.Tu.get(i).push(t):r.Tu.set(i,[t]),v.snapshot}async function hI(r,t,i){const s=St(r),l=s.Pu.get(t),c=s.Tu.get(l.targetId);if(c.length>1)return s.Tu.set(l.targetId,c.filter((d=>!ch(d,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Gm(s.remoteStore,l.targetId),ym(s,l.targetId)})).catch(lo)):(ym(s,l.targetId),await mm(s.localStore,l.targetId,!0))}async function fI(r,t){const i=St(r),s=i.Pu.get(t),l=i.Tu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Gm(i.remoteStore,s.targetId))}async function dI(r,t,i){const s=EI(r);try{const l=await(function(d,p){const y=St(d),v=ae.now(),T=p.reduce(((H,$)=>H.add($.key)),Ut());let A,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=tr(),tt=Ut();return y.Os.getEntries(H,T).next((J=>{$=J,$.forEach(((ut,mt)=>{mt.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,$))).next((J=>{A=J;const ut=[];for(const mt of p){const ct=xw(mt,A.get(mt.key).overlayedDocument);ct!=null&&ut.push(new hs(mt.key,ct,fE(ct.value.mapValue),Gn.exists(!0)))}return y.mutationQueue.addMutationBatch(H,v,ut,p)})).next((J=>{C=J;const ut=J.applyToLocalDocumentSet(A,tt);return y.documentOverlayCache.saveOverlays(H,J.batchId,ut)}))})).then((()=>({batchId:C.batchId,changes:AE(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Ru[d.currentUser.toKey()];v||(v=new ue(Nt)),v=v.insert(p,y),d.Ru[d.currentUser.toKey()]=v})(s,l.batchId,i),await Fl(s,l.changes),await yh(s.remoteStore)}catch(l){const c=$m(l,"Failed to persist write");i.reject(c)}}async function a1(r,t){const i=St(r);try{const s=await RR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Eu.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?Kt(d.lu,14607):l.removedDocuments.size>0&&(Kt(d.lu,42227),d.lu=!1))})),await Fl(i,s,t)}catch(s){await lo(s)}}function $v(r,t,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Pu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let v=!1;y.queries.forEach(((T,A)=>{for(const C of A.wa)C.va(p)&&(v=!0)})),v&&Zm(y)})(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function mI(r,t,i){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,nn.newNoDocument(c,bt.min()));const p=Ut().add(c),y=new mh(bt.min(),new Map,new ue(Nt),d,p);await a1(s,y),s.du=s.du.remove(c),s.Eu.delete(t),Wm(s)}else await mm(s.localStore,t,!1).then((()=>ym(s,t,i))).catch(lo)}async function pI(r,t){const i=St(r),s=t.batch.batchId;try{const l=await wR(i.localStore,t);l1(i,s,null),o1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Fl(i,l)}catch(l){await lo(l)}}async function gI(r,t,i){const s=St(r);try{const l=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return y.mutationQueue.lookupMutationBatch(v,p).next((A=>(Kt(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(v,A)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>y.localDocuments.getDocuments(v,T)))}))})(s.localStore,t);l1(s,t,i),o1(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Fl(s,l)}catch(l){await lo(l)}}function o1(r,t){(r.Vu.get(t)||[]).forEach((i=>{i.resolve()})),r.Vu.delete(t)}function l1(r,t,i){const s=St(r);let l=s.Ru[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||u1(r,s)}))}function u1(r,t){r.Iu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Gm(r.remoteStore,i),r.du=r.du.remove(t),r.Eu.delete(i),Wm(r))}function Zv(r,t,i){for(const s of i)s instanceof i1?(r.Au.addReference(s.key,t),yI(r,s)):s instanceof r1?(st(Jm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||u1(r,s.key)):_t(19791,{yu:s})}function yI(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(st(Jm,"New document in limbo: "+i),r.Iu.add(s),Wm(r))}function Wm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const i=new dt(ee.fromString(t)),s=r.mu.next();r.Eu.set(s,new aI(i)),r.du=r.du.insert(i,s),YE(r.remoteStore,new Xr(gi(km(i.path)),s,"TargetPurposeLimboResolution",oh.ue))}}async function Fl(r,t,i){const s=St(r),l=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach(((p,y)=>{d.push(s.gu(y,t,i).then((v=>{var T;if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Hm.Es(y.targetId,v);c.push(A)}})))})),await Promise.all(d),s.hu.J_(l),await(async function(y,v){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(v,(C=>Z.forEach(C.Is,(H=>T.persistence.referenceDelegate.addReference(A,C.targetId,H))).next((()=>Z.forEach(C.ds,(H=>T.persistence.referenceDelegate.removeReference(A,C.targetId,H)))))))))}catch(A){if(!uo(A))throw A;st(Fm,"Failed to update sequence numbers: "+A)}for(const A of v){const C=A.targetId;if(!A.fromCache){const H=T.Fs.get(C),$=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion($);T.Fs=T.Fs.insert(C,tt)}}})(s.localStore,c))}async function _I(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st(Jm,"User change. New user:",t.toKey());const s=await FE(i.localStore,t);i.currentUser=t,(function(c,d){c.Vu.forEach((p=>{p.forEach((y=>{y.reject(new rt(X.CANCELLED,d))}))})),c.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Fl(i,s.Bs)}}function vI(r,t){const i=St(r),s=i.Eu.get(t);if(s&&s.lu)return Ut().add(s.key);{let l=Ut();const c=i.Tu.get(t);if(!c)return l;for(const d of c){const p=i.Pu.get(d);l=l.unionWith(p.view.tu)}return l}}function c1(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mI.bind(null,t),t.hu.J_=nI.bind(null,t.eventManager),t.hu.pu=iI.bind(null,t.eventManager),t}function EI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return SR(this.persistence,new TR,t.initialUser,this.serializer)}Du(t){return new HE(qm.Vi,this.serializer)}bu(t){return new DR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class TI extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Kt(this.persistence.referenceDelegate instanceof Xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aR(s,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new HE((s=>Xc.Vi(s,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_I.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eI})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),s=(function(c){return new UR(c)})(t.databaseInfo);return(function(c,d,p,y){return new jR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new qR(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Fv.C()?new Fv:new OR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,v,T){const A=new oI(l,c,d,p,y,v);return T&&(A.fu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=St(l);st(Js,"RemoteStore shutting down."),c.Ia.add(5),await Hl(c),c.Ea.shutdown(),c.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class bI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=$m(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ls,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await FE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>{ns("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((l=>{ns("Terminating Firestore due to IndexedDb database deletion failed",l)}))})),r._offlineComponents=t}async function Jv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await AI(r);st(ls,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Qv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Qv(t.remoteStore,l))),r._onlineComponents=t}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ls,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ns("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new Zc)}}else st(ls,"Using default OfflineComponentProvider"),await Qd(r,new TI(void 0));return r._offlineComponents}async function f1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ls,"Using user provided OnlineComponentProvider"),await Jv(r,r._uninitializedComponentsProvider._online)):(st(ls,"Using default OnlineComponentProvider"),await Jv(r,new _m))),r._onlineComponents}function SI(r){return f1(r).then((t=>t.syncEngine))}async function vm(r){const t=await f1(r),i=t.eventManager;return i.onListen=lI.bind(null,t.syncEngine),i.onUnlisten=hI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=uI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=fI.bind(null,t.syncEngine),i}function wI(r,t,i={}){const s=new ts;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const T=new h1({next:C=>{T.Ou(),d.enqueueAndForget((()=>e1(c,A))),C.fromCache&&y.source==="server"?v.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),A=new n1(p,T,{includeMetadataChanges:!0,ka:!0});return t1(c,A)})(await vm(r),r.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firestore.googleapis.com",t0=!0;class e0{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m1,this.ssl=t0}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:t0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rR)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}H2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new M2;switch(s.type){case"firstParty":return new P2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Wv.get(i);s&&(st("ComponentProvider","Removing Datastore"),Wv.delete(i),s.terminate())})(this),Promise.resolve()}}function RI(r,t,i,s={}){var l;r=Fn(r,_h);const c=so(t),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${i}`;c&&(P0(`https://${y}`),z0("Firestore",!0)),d.host!==m1&&d.host!==y&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!Xs(v,p)&&(r._setSettings(v),s.mockUserToken)){let T,A;if(typeof s.mockUserToken=="string")T=s.mockUserToken,A=en.MOCK_USER;else{T=sS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new en(C)}r._authCredentials=new k2(new W0(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new fs(this.firestore,t,this._query)}}class Ee{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(jl(i,Ee._jsonSchema))return new Ee(t,s||null,new dt(ee.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Ce("string",Ee._jsonSchemaVersion),referencePath:Ce("string")};class es extends fs{constructor(t,i,s){super(t,i,km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new dt(t))}withConverter(t){return new es(this.firestore,t,this._path)}}function yl(r,t,...i){if(r=ze(r),eE("collection","path",t),r instanceof _h){const s=ee.fromString(t,...i);return mv(s),new es(r,null,s)}{if(!(r instanceof Ee||r instanceof es))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...i));return mv(s),new es(r.firestore,null,s)}}function Mc(r,t,...i){if(r=ze(r),arguments.length===1&&(t=xm.newId()),eE("doc","path",t),r instanceof _h){const s=ee.fromString(t,...i);return dv(s),new Ee(r,null,new dt(s))}{if(!(r instanceof Ee||r instanceof es))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...i));return dv(s),new Ee(r.firestore,r instanceof es?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="AsyncQueue";class i0{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new QE(this,"async_queue_retry"),this.oc=()=>{const s=Gd();s&&st(n0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new ts;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!uo(t))throw t;st(n0,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const i=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Wi("INTERNAL UNHANDLED ERROR: ",r0(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=i,i}enqueueAfterDelay(t,i,s){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,s,(c=>this.lc(c)));return this.ec.push(l),l}ac(){this.tc&&_t(47125,{hc:r0(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function r0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class us extends _h{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new i0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new i0(t),this._firestoreClient=void 0,await t}}}function II(r,t){const i=typeof r=="object"?r:H0(),s=typeof r=="string"?r:Hc,l=Im(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=iS("firestore");c&&RI(l,...c)}return l}function tp(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CI(r),r._firestoreClient}function CI(r){var t,i,s;const l=r._freezeSettings(),c=(function(p,y,v,T){return new tw(p,y,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,d1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new bI(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&(function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn($e.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ce("string",Hn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(t){if(jl(t,_i._jsonSchema))return new _i(t.latitude,t.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Ce("string",_i._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new vi(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Ce("string",vi._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=/^__.*__$/;class NI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bl(t,this.data,i,this.fieldTransforms)}}class p1{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function g1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ec:r})}}class np{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new np(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Jc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(g1(this.Ec)&&xI.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class DI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ph(t)}Dc(t,i,s,l=!1){return new np({Ec:t,methodName:i,bc:s,path:Xe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(r){const t=r._freezeSettings(),i=ph(r._databaseId);return new DI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function y1(r,t,i,s,l,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,i,l);ip("Data must be an object, but it was:",d,s);const p=_1(s,d);let y,v;if(c.merge)y=new Nn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const C=Em(t,A,i);if(!d.contains(C))throw new rt(X.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);E1(T,C)||T.push(C)}y=new Nn(T),v=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,v=d.fieldTransforms;return new NI(new vn(p),y,v)}class Th extends ep{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function OI(r,t,i,s){const l=r.Dc(1,t,i);ip("Data must be an object, but it was:",l,s);const c=[],d=vn.empty();cs(s,((y,v)=>{const T=rp(t,y,i);v=ze(v);const A=l.gc(T);if(v instanceof Th)c.push(T);else{const C=Gl(v,A);C!=null&&(c.push(T),d.set(T,C))}}));const p=new Nn(c);return new p1(d,p,l.fieldTransforms)}function VI(r,t,i,s,l,c){const d=r.Dc(1,t,i),p=[Em(t,s,i)],y=[l];if(c.length%2!=0)throw new rt(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)p.push(Em(t,c[C])),y.push(c[C+1]);const v=[],T=vn.empty();for(let C=p.length-1;C>=0;--C)if(!E1(v,p[C])){const H=p[C];let $=y[C];$=ze($);const tt=d.gc(H);if($ instanceof Th)v.push(H);else{const J=Gl($,tt);J!=null&&(v.push(H),T.set(H,J))}}const A=new Nn(v);return new p1(T,A,d.fieldTransforms)}function MI(r,t,i,s=!1){return Gl(i,r.Dc(s?4:3,t))}function Gl(r,t){if(v1(r=ze(r)))return ip("Unsupported field value:",t,r),_1(r,t);if(r instanceof ep)return(function(s,l){if(!g1(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=Gl(p,l.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Aw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ae.fromDate(s);return{timestampValue:Yc(l.serializer,c)}}if(s instanceof ae){const c=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,c)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:kE(l.serializer,s._byteString)};if(s instanceof Ee){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof vi)return(function(d,p){return{mapValue:{fields:{[cE]:{stringValue:hE},[Fc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.wc("VectorValues must only contain numeric values.");return Um(p.serializer,v)}))}}}}}})(s,l);throw l.wc(`Unsupported field value: ${ah(s)}`)})(r,t)}function _1(r,t){const i={};return rE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(r,((s,l)=>{const c=Gl(l,t.Vc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function v1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof _i||r instanceof Hn||r instanceof Ee||r instanceof ep||r instanceof vi)}function ip(r,t,i){if(!v1(i)||!nE(i)){const s=ah(i);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function Em(r,t,i){if((t=ze(t))instanceof vh)return t._internalPath;if(typeof t=="string")return rp(r,t);throw Jc("Field path arguments must be of type string or ",r,!1,void 0,i)}const kI=new RegExp("[~\\*/\\[\\]]");function rp(r,t,i){if(t.search(kI)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vh(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Jc(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new rt(X.INVALID_ARGUMENT,p+r+y)}function E1(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(bh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UI extends T1{data(){return super.data()}}function bh(r,t){return typeof t=="string"?rp(r,t):t instanceof vh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class A1 extends sp{}function Kd(r,t,...i){let s=[];t instanceof sp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof ap)).length,p=c.filter((y=>y instanceof Ah)).length;if(d>1||d>0&&p>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ah extends A1{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ah(t,i,s)}_apply(t){const i=this._parse(t);return S1(t._query,i),new fs(t.firestore,t.converter,lm(t._query,i))}_parse(t){const i=Eh(t.firestore);return(function(c,d,p,y,v,T,A){let C;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){l0(A,T);const $=[];for(const tt of A)$.push(o0(y,c,tt));C={arrayValue:{values:$}}}else C=o0(y,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||l0(A,T),C=MI(p,d,A,T==="in"||T==="not-in");return Ie.create(v,T,C)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function a0(r,t,i){const s=t,l=bh("where",r);return Ah._create(l,s,i)}class ap extends sp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ap(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)S1(d,y),d=lm(d,y)})(t._query,i),new fs(t.firestore,t.converter,lm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class op extends A1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new op(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(c,d)})(t._query,this._field,this._direction);return new fs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new co(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function LI(r,t="asc"){const i=t,s=bh("orderBy",r);return op._create(s,i)}function o0(r,t,i){if(typeof(i=ze(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ee.fromString(i));if(!dt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bv(r,new dt(s))}if(i instanceof Ee)return bv(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function l0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function S1(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class PI{convertValue(t,i="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return cs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Fc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map((d=>ve(d.doubleValue)));return new vi(c)}convertGeoPoint(t){return new _i(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=uh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=rs(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ee.fromString(t);Kt(BE(s),9688,{name:t});const l=new Ol(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends T1{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(bh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Ce("string",Qs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class kc extends Qs{data(t={}){return super.data(t)}}class Ks{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new kc(this._firestore,this._userDataWriter,s.key,s,new Tl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:zI(p.type),doc:y,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ks._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:Ce("string",Ks._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class lp extends PI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function u0(r){r=Fn(r,fs);const t=Fn(r.firestore,us),i=tp(t),s=new lp(t);return b1(r._query),wI(i,r._query).then((l=>new Ks(t,s,r,l)))}function jI(r,t,i){r=Fn(r,Ee);const s=Fn(r.firestore,us),l=w1(r.converter,t);return Sh(s,[y1(Eh(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Gn.none())])}function BI(r,t,i,...s){r=Fn(r,Ee);const l=Fn(r.firestore,us),c=Eh(l);let d;return d=typeof(t=ze(t))=="string"||t instanceof vh?VI(c,"updateDoc",r._key,t,i,s):OI(c,"updateDoc",r._key,t),Sh(l,[d.toMutation(r._key,Gn.exists(!0))])}function qI(r){return Sh(Fn(r.firestore,us),[new Lm(r._key,Gn.none())])}function HI(r,t){const i=Fn(r.firestore,us),s=Mc(r),l=w1(r.converter,t);return Sh(i,[y1(Eh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function FI(r,...t){var i,s,l;r=ze(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||s0(t[d])||(c=t[d++]);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(s0(t[d])){const A=t[d];t[d]=(i=A.next)===null||i===void 0?void 0:i.bind(A),t[d+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),t[d+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let y,v,T;if(r instanceof Ee)v=Fn(r.firestore,us),T=km(r._key.path),y={next:A=>{t[d]&&t[d](GI(v,r,A))},error:t[d+1],complete:t[d+2]};else{const A=Fn(r,fs);v=Fn(A.firestore,us),T=A._query;const C=new lp(v);y={next:H=>{t[d]&&t[d](new Ks(v,C,A,H))},error:t[d+1],complete:t[d+2]},b1(r._query)}return(function(C,H,$,tt){const J=new h1(tt),ut=new n1(H,J,$);return C.asyncQueue.enqueueAndForget((async()=>t1(await vm(C),ut))),()=>{J.Ou(),C.asyncQueue.enqueueAndForget((async()=>e1(await vm(C),ut)))}})(tp(v),T,p,y)}function Sh(r,t){return(function(s,l){const c=new ts;return s.asyncQueue.enqueueAndForget((async()=>dI(await SI(s),l,c))),c.promise})(tp(r),t)}function GI(r,t,i){const s=i.docs.get(t._key),l=new lp(r);return new Qs(r,l,t._key,s,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){oo=l})(ao),Ja(new $s("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new us(new U2(s.getProvider("auth-internal")),new z2(d,s.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(v.options.projectId,T)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Jr(lv,uv,t),Jr(lv,uv,"esm2017")})();function up(r,t){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(i[s[l]]=r[s[l]]);return i}function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QI=R1,I1=new Pl("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new wm("@firebase/auth");function KI(r,...t){Wc.logLevel<=kt.WARN&&Wc.warn(`Auth (${ao}): ${r}`,...t)}function Uc(r,...t){Wc.logLevel<=kt.ERROR&&Wc.error(`Auth (${ao}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(r,...t){throw hp(r,...t)}function ti(r,...t){return hp(r,...t)}function cp(r,t,i){const s=Object.assign(Object.assign({},QI()),{[t]:i});return new Pl("auth","Firebase",s).create(t,{appName:r.name})}function Ys(r){return cp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YI(r,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&bi(r,"argument-error"),cp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hp(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return I1.create(r,...t)}function Et(r,t,...i){if(!r)throw hp(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function er(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XI(){return c0()==="http:"||c0()==="https:"}function c0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||hS()||"connection"in navigator)?navigator.onLine:!0}function ZI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,er(i>t,"Short delay should be less than long delay!"),this.isMobile=lS()||fS()}get(){return $I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,t){er(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new Ql(3e4,6e4);function dp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function fo(r,t,i,s,l={}){return x1(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=zl(Object.assign({key:r.config.apiKey},d)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:y},c);return cS()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(v.credentials="include"),C1.fetch()(await N1(r,r.config.apiHost,i,p),v)})}async function x1(r,t,i){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},JI),t);try{const l=new nC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(r,"user-disabled",d);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw cp(r,T,v);bi(r,T)}}catch(l){if(l instanceof nr)throw l;bi(r,"network-request-failed",{message:String(l)})}}async function eC(r,t,i,s,l={}){const c=await fo(r,t,i,s,l);return"mfaPendingCredential"in c&&bi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function N1(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?fp(r.config,l):`${r.config.apiScheme}://${l}`;return WI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class nC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),tC.get())})}}function Cc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=ti(r,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,t){return fo(r,"POST","/v1/accounts:delete",t)}async function th(r,t){return fo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rC(r,t=!1){const i=ze(r),s=await i.getIdToken(t),l=mp(s);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Cl(Yd(l.auth_time)),issuedAtTime:Cl(Yd(l.iat)),expirationTime:Cl(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Yd(r){return Number(r)*1e3}function mp(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=M0(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function h0(r){const t=mp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof nr&&sC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(r){var t;const i=r.auth,s=await r.getIdToken(),l=await Ll(r,th(i,{idToken:s}));Et(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?D1(c.providerUserInfo):[],p=lC(r.providerData,d),y=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(p!=null&&p.length),T=y?v:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new bm(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function oC(r){const t=ze(r);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function D1(r){return r.map(t=>{var{providerId:i}=t,s=up(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,t){const i=await x1(r,{},async()=>{const s=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await N1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),C1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function cC(r,t){return fo(r,"POST","/v2/accounts:revokeToken",dp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=h0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await uC(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Xa;return s&&(Et(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=up(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new bm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return rC(this,t)}reload(){return oC(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ys(this.auth));const t=await this.getIdToken();return await Ll(this,iC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,p,y,v,T;const A=(s=i.displayName)!==null&&s!==void 0?s:void 0,C=(l=i.email)!==null&&l!==void 0?l:void 0,H=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,tt=(p=i.tenantId)!==null&&p!==void 0?p:void 0,J=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,ut=(v=i.createdAt)!==null&&v!==void 0?v:void 0,mt=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ct,emailVerified:Tt,isAnonymous:Yt,providerData:wt,stsTokenManager:N}=i;Et(ct&&N,t,"internal-error");const S=Xa.fromJSON(this.name,N);Et(typeof ct=="string",t,"internal-error"),Gr(A,t.name),Gr(C,t.name),Et(typeof Tt=="boolean",t,"internal-error"),Et(typeof Yt=="boolean",t,"internal-error"),Gr(H,t.name),Gr($,t.name),Gr(tt,t.name),Gr(J,t.name),Gr(ut,t.name),Gr(mt,t.name);const w=new Wn({uid:ct,auth:t,email:C,emailVerified:Tt,displayName:A,isAnonymous:Yt,photoURL:$,phoneNumber:H,tenantId:tt,stsTokenManager:S,createdAt:ut,lastLoginAt:mt});return wt&&Array.isArray(wt)&&(w.providerData=wt.map(V=>Object.assign({},V))),J&&(w._redirectEventId=J),w}static async _fromIdTokenResponse(t,i,s=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?D1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new Xa;p.updateFromIdToken(s);const y=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function Zi(r){er(r instanceof Function,"Expected a class definition");let t=f0.get(r);return t?(er(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,f0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}O1.type="NONE";const d0=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class $a{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new $a(Zi(d0),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Zi(d0);const d=Lc(s,t.config.apiKey,t.name);let p=null;for(const v of i)try{const T=await v._get(d);if(T){let A;if(typeof T=="string"){const C=await th(t,{idToken:T}).catch(()=>{});if(!C)break;A=await Wn._fromGetAccountInfoResponse(t,C,T)}else A=Wn._fromJSON(t,T);v!==c&&(p=A),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new $a(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P1(t))return"Blackberry";if(z1(t))return"Webos";if(M1(t))return"Safari";if((t.includes("chrome/")||k1(t))&&!t.includes("edge/"))return"Chrome";if(L1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function V1(r=rn()){return/firefox\//i.test(r)}function M1(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function k1(r=rn()){return/crios\//i.test(r)}function U1(r=rn()){return/iemobile/i.test(r)}function L1(r=rn()){return/android/i.test(r)}function P1(r=rn()){return/blackberry/i.test(r)}function z1(r=rn()){return/webos/i.test(r)}function pp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hC(r=rn()){var t;return pp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function fC(){return dS()&&document.documentMode===10}function j1(r=rn()){return pp(r)||L1(r)||z1(r)||P1(r)||/windows phone/i.test(r)||U1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r,t=[]){let i;switch(r){case"Browser":i=m0(rn());break;case"Worker":i=`${m0(rn())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(r,t={}){return fo(r,"GET","/v2/passwordPolicy",dp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=6;class gC{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:pC,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,p;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(p=y.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),y}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===p)&&(y!=null&&y.user)&&(l=y.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(Ys(this));const i=t?ze(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mC(this),i=new gC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await cC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&KI(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function wh(r){return ze(r)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=TS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _C(r){gp=r}function vC(r){return gp.loadJS(r)}function EC(){return gp.gapiScript}function TC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r,t){const i=Im(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Xs(c,t??{}))return l;bi(l,"already-initialized")}return i.initialize({options:t})}function AC(r,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Zi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function SC(r,t,i){const s=wh(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=q1(t),{host:d,port:p}=wC(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Xs(v,s.config.emulator)&&Xs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,so(d)?(P0(`${c}//${d}${y}`),z0("Auth",!0)):RC()}function q1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wC(r){const t=q1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:g0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:g0(d)}}}function g0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function RC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r,t){return eC(r,"POST","/v1/accounts:signInWithIdp",dp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="http://localhost";class Ws extends H1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):bi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=up(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ws(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Za(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Kl{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ws._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Xi.credential(i,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Kl{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Ws._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Yr.credential(i,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Wn._fromIdTokenResponse(t,s,l),d=y0(s);return new ro({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=y0(s);return new ro({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends nr{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new nh(t,i,s,l)}}function F1(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,c,t,s):c})}async function CC(r,t,i=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ro._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(r,t,i=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Ys(s));const l="reauthenticate";try{const c=await Ll(r,F1(s,l,t,r),i);Et(c.idToken,s,"internal-error");const d=mp(c.idToken);Et(d,s,"internal-error");const{sub:p}=d;return Et(r.uid===p,s,"user-mismatch"),ro._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&bi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,t,i=!1){if(Jn(r.app))return Promise.reject(Ys(r));const s="signIn",l=await F1(r,s,t),c=await ro._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function DC(r,t,i,s){return ze(r).onIdTokenChanged(t,i,s)}function OC(r,t,i){return ze(r).beforeAuthStateChanged(t,i)}function VC(r,t,i,s){return ze(r).onAuthStateChanged(t,i,s)}function MC(r){return ze(r).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1e3,UC=10;class Q1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);fC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,UC):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q1.type="LOCAL";const LC=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}K1.type="SESSION";const Y1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await PC(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=_p("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const C=A;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(C.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function jC(r){Ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function BC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function HC(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebaseLocalStorageDb",FC=1,rh="firebaseLocalStorage",Z1="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function GC(){const r=indexedDB.deleteDatabase($1);return new Yl(r).toPromise()}function Am(){const r=indexedDB.open($1,FC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:Z1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?t(s):(s.close(),await GC(),t(await Am()))})})}async function _0(r,t,i){const s=Ih(r,!0).put({[Z1]:t,value:i});return new Yl(s).toPromise()}async function QC(r,t){const i=Ih(r,!1).get(t),s=await new Yl(i).toPromise();return s===void 0?null:s.value}function v0(r,t){const i=Ih(r,!0).delete(t);return new Yl(i).toPromise()}const KC=800,YC=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>YC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(HC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await BC(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await _0(t,ih,"1"),await v0(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>_0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>QC(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ih(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const XC=J1;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,t){return t?Zi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends H1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function $C(r){return NC(r.auth,new vp(r),r.bypassAuthState)}function ZC(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),xC(i,new vp(r),r.bypassAuthState)}async function JC(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),CC(i,new vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return JC;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:bi(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Ql(2e3,1e4);async function t4(r,t,i){if(Jn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const s=wh(r);YI(r,t,yp);const l=W1(s,i);return new Gs(s,"signInViaPopup",t,l).executeNotNull()}class Gs extends tT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WC.get())};t()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="pendingRedirect",Pc=new Map;class n4 extends tT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const s=await i4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i4(r,t){const i=a4(t),s=s4(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function r4(r,t){Pc.set(r._key(),t)}function s4(r){return Zi(r._redirectPersistence)}function a4(r){return Lc(e4,r.config.apiKey,r.name)}async function o4(r,t,i=!1){if(Jn(r.app))return Promise.reject(Ys(r));const s=wh(r),l=W1(s,t),d=await new n4(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=600*1e3;class u4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!c4(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!eT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(ti(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=l4&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function eT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function c4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(r,t={}){return fo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d4=/^https?/;async function m4(r){if(r.config.emulator)return;const{authorizedDomains:t}=await h4(r);for(const i of t)try{if(p4(i))return}catch{}bi(r,"unauthorized-domain")}function p4(r){const t=Tm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!d4.test(i))return!1;if(f4.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Ql(3e4,6e4);function T0(){const r=Ei().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function y4(r){return new Promise((t,i)=>{var s,l,c;function d(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),i(ti(r,"network-request-failed"))},timeout:g4.get()})}if(!((l=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=Ei().gapi)===null||c===void 0)&&c.load)d();else{const p=TC("iframefcb");return Ei()[p]=()=>{gapi.load?d():i(ti(r,"network-request-failed"))},vC(`${EC()}?onload=${p}`).catch(y=>i(y))}}).catch(t=>{throw zc=null,t})}let zc=null;function _4(r){return zc=zc||y4(r),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Ql(5e3,15e3),E4="__/auth/iframe",T4="emulator/auth/iframe",b4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S4(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?fp(t,T4):`https://${r.config.authDomain}/${E4}`,s={apiKey:t.apiKey,appName:r.name,v:ao},l=A4.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${zl(s).slice(1)}`}async function w4(r){const t=await _4(r),i=Ei().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:S4(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b4,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ti(r,"network-request-failed"),p=Ei().setTimeout(()=>{c(d)},v4.get());function y(){Ei().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I4=500,C4=600,x4="_blank",N4="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D4(r,t,i,s=I4,l=C4){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y=Object.assign(Object.assign({},R4),{width:s.toString(),height:l.toString(),top:c,left:d}),v=rn().toLowerCase();i&&(p=k1(v)?x4:i),V1(v)&&(t=t||N4,y.scrollbars="yes");const T=Object.entries(y).reduce((C,[H,$])=>`${C}${H}=${$},`,"");if(hC(v)&&p!=="_self")return O4(t||"",p),new b0(null);const A=window.open(t||"",p,T);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function O4(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",M4="emulator/auth/handler",k4=encodeURIComponent("fac");async function A0(r,t,i,s,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ao,eventId:l};if(t instanceof yp){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",ES(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Kl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),v=y?`#${k4}=${encodeURIComponent(y)}`:"";return`${U4(r)}?${zl(p).slice(1)}${v}`}function U4({config:r}){return r.emulator?fp(r,M4):`https://${r.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class L4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=o4,this._overrideRedirectResult=r4}async _openPopup(t,i,s,l){var c;er((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await A0(t,i,s,Tm(),l);return D4(t,d,_p())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await A0(t,i,s,Tm(),l);return jC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(er(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await w4(t),s=new u4(t);return i.register("authEvent",l=>(Et(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xd,{type:Xd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Xd];d!==void 0&&i(!!d),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=m4(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return j1()||M1()||pp()}}const P4=L4;var S0="@firebase/auth",w0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B4(r){Ja(new $s("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B1(r)},v=new yC(s,l,c,y);return AC(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new $s("auth-internal",t=>{const i=wh(t.getProvider("auth").getImmediate());return(s=>new z4(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(S0,w0,j4(r)),Jr(S0,w0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=300,H4=L0("authIdTokenMaxAge")||q4;let R0=null;const F4=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>H4)return;const l=i==null?void 0:i.token;R0!==l&&(R0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function G4(r=H0()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const i=bC(r,{popupRedirectResolver:P4,persistence:[XC,LC,Y1]}),s=L0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=F4(c.toString());OC(i,d,()=>d(i.currentUser)),DC(i,p=>d(p))}}const l=k0("auth");return l&&SC(i,`http://${l}`),i}function Q4(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}_C({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ti("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",Q4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B4("Browser");const K4={apiKey:"AIzaSyDs36YM4BsxN2YQr4kkWpN9w09aVDL1aqE",authDomain:"contasegura-bd12b.firebaseapp.com",projectId:"contasegura-bd12b",storageBucket:"contasegura-bd12b.firebasestorage.app",messagingSenderId:"239955889708",appId:"1:239955889708:web:b1ebf8b3b02ffbd48e4b89"},nT=q0(K4),qs=II(nT),$d=G4(nT),Y4=new Xi;function X4(){const[r,t]=Ft.useState(null),[i,s]=Ft.useState(null),[l,c]=Ft.useState(!0),[d,p]=Ft.useState(!1),[y,v]=Ft.useState(null),[T,A]=Ft.useState({show:!1,account:null,ownerProfile:null}),[C,H]=Ft.useState([]),[$,tt]=Ft.useState(""),[J,ut]=Ft.useState("list"),[mt,ct]=Ft.useState("google"),[Tt,Yt]=Ft.useState(""),[wt,N]=Ft.useState(""),[S,w]=Ft.useState(""),[V,M]=Ft.useState(null),[U,I]=Ft.useState(null);Ft.useEffect(()=>{const it=VC($d,async yt=>{t(yt),yt?await pe(yt.uid):s(null),c(!1)});return()=>it()},[]);const pe=async it=>{p(!0);try{const yt=yl(qs,"userProfiles"),ce=Kd(yt,a0("userId","==",it)),oe=await u0(ce);if(oe.empty)s(null);else{const je=oe.docs[0].data();s(je)}}catch(yt){console.error("Erro ao carregar perfil:",yt)}finally{p(!1)}},xe=async it=>{try{const yt=yl(qs,"userProfiles");await jI(Mc(yt,it.userId),it),s(it)}catch(yt){console.error("Erro ao criar perfil:",yt),v("Erro ao criar perfil. Tente novamente.")}};Ft.useEffect(()=>{if(!r){H([]);return}const it=yl(qs,"accounts"),yt=Kd(it,LI("createdAt","desc")),ce=FI(yt,oe=>{const je=[];oe.forEach(ni=>{je.push({id:ni.id,...ni.data()})}),H(je)},oe=>{console.error("Erro ao carregar contas:",oe),vt("Erro ao carregar contas do Firebase")});return()=>ce()},[r]);const F=async()=>{try{v(null),await t4($d,Y4)}catch(it){console.error("Erro no login:",it),v("Erro ao fazer login com Google. Tente novamente.")}},nt=async()=>{try{await MC($d),H([]),s(null),ut("list")}catch(it){console.error("Erro no logout:",it)}},ht=async it=>{if(!(!r||!i)){if(!it.creatorUserId){zt(it);return}if(it.creatorUserId===r.uid){zt(it);return}try{const yt=yl(qs,"userProfiles"),ce=Kd(yt,a0("userId","==",it.creatorUserId)),oe=await u0(ce);if(oe.empty)vt("Ops! Este registro no  seu, escolha um registro que seja seu para alterar os dados.");else{const je=oe.docs[0].data();A({show:!0,account:it,ownerProfile:je})}}catch(yt){console.error("Erro ao verificar proprietrio:",yt),vt("Erro ao verificar permisses")}}},Pt=async it=>{if(T.ownerProfile)try{const ce=new TextEncoder().encode(it),oe=await crypto.subtle.digest("SHA-256",ce);Array.from(new Uint8Array(oe)).map(En=>En.toString(16).padStart(2,"0")).join("")===T.ownerProfile.protectionPassword?(T.account&&zt(T.account),A({show:!1,account:null,ownerProfile:null})):(vt("Senha incorreta! Voc no tem permisso para editar este registro."),A({show:!1,account:null,ownerProfile:null}))}catch(yt){console.error("Erro ao verificar senha:",yt),vt("Erro ao verificar senha"),A({show:!1,account:null,ownerProfile:null})}},zt=it=>{M(it),ct(it.serviceId),Yt(it.email),N(it.password),w(it.observations||""),ut("edit")},O=async()=>{if(!(!Tt||!wt||!r||!i))try{const it=yl(qs,"accounts");await HI(it,{serviceId:mt,email:Tt.trim(),password:wt,observations:S.trim(),createdAt:Date.now(),creatorUserId:r.uid,creatorEmail:r.email,creatorUserName:i.userName}),at(),ut("list")}catch(it){console.error("Erro ao adicionar conta:",it),vt("Erro ao adicionar conta")}},Q=async()=>{if(!(!V||!Tt||!wt||!r||!i))try{const it=Mc(qs,"accounts",V.id);await BI(it,{serviceId:mt,email:Tt.trim(),password:wt,observations:S.trim()}),at(),ut("list")}catch(it){console.error("Erro ao atualizar conta:",it),vt("Erro ao atualizar conta")}},W=async it=>{if(confirm("Tem certeza que deseja excluir esta conta?"))try{await qI(Mc(qs,"accounts",it))}catch(yt){console.error("Erro ao deletar conta:",yt),vt("Erro ao deletar conta")}},at=()=>{ct("google"),Yt(""),N(""),w(""),M(null)},pt=()=>{at(),ut("list")},vt=it=>{I(it),setTimeout(()=>I(null),5e3)},Ct=C.filter(it=>{var oe;const yt=$.toLowerCase(),ce=bl.find(je=>je.id===it.serviceId);return it.email.toLowerCase().includes(yt)||(ce==null?void 0:ce.name.toLowerCase().includes(yt))||((oe=it.observations)==null?void 0:oe.toLowerCase().includes(yt))});return l||d?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"inline-block w-16 h-16 border-4 border-black border-t-transparent rounded-full animate-spin mb-4"}),x.jsx("p",{className:"text-lg font-bold",children:"Carregando..."})]})}):r?i?x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[x.jsx("header",{className:"bg-white border-b-4 border-black shadow-[0_4px_0_0_rgba(0,0,0,1)] sticky top-0 z-40",children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-lg flex items-center justify-center border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:x.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),x.jsx("h1",{className:"text-2xl font-black",children:"CONTASEGURA"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-gray-100 border-2 border-black",children:[x.jsx(qA,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:i.userName})]}),x.jsx("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-gray-100 border-2 border-black",children:x.jsx("span",{className:"text-sm",children:r.email})}),x.jsxs("button",{onClick:nt,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all",title:"Sair",children:[x.jsx(_A,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"SAIR"})]})]})]})})}),U&&x.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce",children:x.jsx("div",{className:"bg-red-500 text-white px-6 py-4 border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] max-w-md",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Zb,{className:"w-6 h-6 flex-shrink-0"}),x.jsx("p",{className:"font-bold",children:U})]})})}),T.show&&T.ownerProfile&&x.jsx(YA,{userName:T.ownerProfile.userName,onSubmit:Pt,onCancel:()=>A({show:!1,account:null,ownerProfile:null})}),x.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:J==="list"?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(IA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",{type:"text",placeholder:"PESQUISAR...",value:$,onChange:it=>tt(it.target.value),className:"w-full pl-12 pr-4 py-4 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-bold text-lg shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]"})]}),x.jsxs("button",{onClick:()=>ut("add"),className:"flex items-center justify-center gap-2 px-6 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-black text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all whitespace-nowrap",children:[x.jsx(x0,{className:"w-6 h-6"}),"NOVA CONTA"]})]}),x.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 px-4 py-2 bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[x.jsx("span",{className:"text-2xl font-black",children:""}),x.jsxs("span",{className:"font-black text-lg",children:[Ct.length," REGS."]})]}),Ct.length===0?x.jsx(GA,{message:$?"Nenhuma conta encontrada":"Nenhuma conta cadastrada",onAdd:()=>ut("add")}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ct.map(it=>x.jsx(HA,{account:it,onEdit:()=>ht(it),onDelete:()=>W(it.id)},it.id))})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mb-6 flex items-center gap-4",children:x.jsx("button",{onClick:pt,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-black font-bold border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:" VOLTAR"})}),x.jsxs("div",{className:"max-w-3xl mx-auto bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[x.jsx("div",{className:"w-12 h-12 bg-indigo-600 flex items-center justify-center border-4 border-black",children:x.jsx(N0,{className:"w-6 h-6 text-white"})}),x.jsx("h2",{className:"text-2xl font-black",children:J==="add"?"NOVA CREDENCIAL":"EDITAR CREDENCIAL"})]}),x.jsx("p",{className:"text-sm text-gray-600 mb-6 font-medium",children:"FIREBASE FIRESTORE: TEMPO REAL"}),x.jsxs("div",{className:"space-y-6",children:[x.jsx(FA,{selectedService:mt,onSelectService:ct}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"USURIO / EMAIL"}),x.jsx("input",{type:"text",value:Tt,onChange:it=>Yt(it.target.value),placeholder:"usuario@email.com",className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"SENHA"}),x.jsx("input",{type:"text",value:wt,onChange:it=>N(it.target.value),placeholder:"",className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-2",children:"OBSERVAES (OPCIONAL)"}),x.jsx("textarea",{value:S,onChange:it=>w(it.target.value),placeholder:"Anote detalhes importantes aqui...",rows:4,className:"w-full px-4 py-3 border-4 border-black focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium resize-none"})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:pt,className:"flex-1 px-6 py-4 bg-gray-200 hover:bg-gray-300 text-black font-black text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all",children:"CANCELAR"}),x.jsx("button",{onClick:J==="add"?O:Q,disabled:!Tt||!wt,className:"flex-1 px-6 py-4 bg-green-500 hover:bg-green-600 text-white font-black text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:J==="add"?"ADICIONAR":"ATUALIZAR DADOS"})]})]})]})]})})]}):x.jsx(KA,{userEmail:r.email||"",userId:r.uid,onComplete:xe}):x.jsx(QA,{onLogin:F,error:y})}const iT=document.getElementById("root");if(!iT)throw new Error("Could not find root element to mount to");const $4=qb.createRoot(iT);$4.render(x.jsx(Mb.StrictMode,{children:x.jsx(X4,{})}));
